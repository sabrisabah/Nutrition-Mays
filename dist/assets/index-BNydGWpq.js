function Yf(t,s){for(var n=0;n<s.length;n++){const a=s[n];if(typeof a!="string"&&!Array.isArray(a)){for(const i in a)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(a,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>a[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();function Tu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ou={exports:{}},yi={},Mu={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wa=Symbol.for("react.element"),Jf=Symbol.for("react.portal"),Xf=Symbol.for("react.fragment"),Zf=Symbol.for("react.strict_mode"),ep=Symbol.for("react.profiler"),tp=Symbol.for("react.provider"),sp=Symbol.for("react.context"),np=Symbol.for("react.forward_ref"),ap=Symbol.for("react.suspense"),rp=Symbol.for("react.memo"),ip=Symbol.for("react.lazy"),Uc=Symbol.iterator;function lp(t){return t===null||typeof t!="object"?null:(t=Uc&&t[Uc]||t["@@iterator"],typeof t=="function"?t:null)}var Du={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lu=Object.assign,Fu={};function zn(t,s,n){this.props=t,this.context=s,this.refs=Fu,this.updater=n||Du}zn.prototype.isReactComponent={};zn.prototype.setState=function(t,s){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,s,"setState")};zn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Au(){}Au.prototype=zn.prototype;function Fo(t,s,n){this.props=t,this.context=s,this.refs=Fu,this.updater=n||Du}var Ao=Fo.prototype=new Au;Ao.constructor=Fo;Lu(Ao,zn.prototype);Ao.isPureReactComponent=!0;var Bc=Array.isArray,Iu=Object.prototype.hasOwnProperty,Io={current:null},$u={key:!0,ref:!0,__self:!0,__source:!0};function zu(t,s,n){var a,i={},l=null,o=null;if(s!=null)for(a in s.ref!==void 0&&(o=s.ref),s.key!==void 0&&(l=""+s.key),s)Iu.call(s,a)&&!$u.hasOwnProperty(a)&&(i[a]=s[a]);var d=arguments.length-2;if(d===1)i.children=n;else if(1<d){for(var c=Array(d),u=0;u<d;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(a in d=t.defaultProps,d)i[a]===void 0&&(i[a]=d[a]);return{$$typeof:Wa,type:t,key:l,ref:o,props:i,_owner:Io.current}}function op(t,s){return{$$typeof:Wa,type:t.type,key:s,ref:t.ref,props:t.props,_owner:t._owner}}function $o(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wa}function cp(t){var s={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return s[n]})}var Qc=/\/+/g;function Gi(t,s){return typeof t=="object"&&t!==null&&t.key!=null?cp(""+t.key):s.toString(36)}function br(t,s,n,a,i){var l=typeof t;(l==="undefined"||l==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Wa:case Jf:o=!0}}if(o)return o=t,i=i(o),t=a===""?"."+Gi(o,0):a,Bc(i)?(n="",t!=null&&(n=t.replace(Qc,"$&/")+"/"),br(i,s,n,"",function(u){return u})):i!=null&&($o(i)&&(i=op(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Qc,"$&/")+"/")+t)),s.push(i)),1;if(o=0,a=a===""?".":a+":",Bc(t))for(var d=0;d<t.length;d++){l=t[d];var c=a+Gi(l,d);o+=br(l,s,n,c,i)}else if(c=lp(t),typeof c=="function")for(t=c.call(t),d=0;!(l=t.next()).done;)l=l.value,c=a+Gi(l,d++),o+=br(l,s,n,c,i);else if(l==="object")throw s=String(t),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return o}function tr(t,s,n){if(t==null)return t;var a=[],i=0;return br(t,a,"","",function(l){return s.call(n,l,i++)}),a}function dp(t){if(t._status===-1){var s=t._result;s=s(),s.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=s)}if(t._status===1)return t._result.default;throw t._result}var dt={current:null},yr={transition:null},up={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:yr,ReactCurrentOwner:Io};function Uu(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:tr,forEach:function(t,s,n){tr(t,function(){s.apply(this,arguments)},n)},count:function(t){var s=0;return tr(t,function(){s++}),s},toArray:function(t){return tr(t,function(s){return s})||[]},only:function(t){if(!$o(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=zn;xe.Fragment=Xf;xe.Profiler=ep;xe.PureComponent=Fo;xe.StrictMode=Zf;xe.Suspense=ap;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=up;xe.act=Uu;xe.cloneElement=function(t,s,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var a=Lu({},t.props),i=t.key,l=t.ref,o=t._owner;if(s!=null){if(s.ref!==void 0&&(l=s.ref,o=Io.current),s.key!==void 0&&(i=""+s.key),t.type&&t.type.defaultProps)var d=t.type.defaultProps;for(c in s)Iu.call(s,c)&&!$u.hasOwnProperty(c)&&(a[c]=s[c]===void 0&&d!==void 0?d[c]:s[c])}var c=arguments.length-2;if(c===1)a.children=n;else if(1<c){d=Array(c);for(var u=0;u<c;u++)d[u]=arguments[u+2];a.children=d}return{$$typeof:Wa,type:t.type,key:i,ref:l,props:a,_owner:o}};xe.createContext=function(t){return t={$$typeof:sp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tp,_context:t},t.Consumer=t};xe.createElement=zu;xe.createFactory=function(t){var s=zu.bind(null,t);return s.type=t,s};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:np,render:t}};xe.isValidElement=$o;xe.lazy=function(t){return{$$typeof:ip,_payload:{_status:-1,_result:t},_init:dp}};xe.memo=function(t,s){return{$$typeof:rp,type:t,compare:s===void 0?null:s}};xe.startTransition=function(t){var s=yr.transition;yr.transition={};try{t()}finally{yr.transition=s}};xe.unstable_act=Uu;xe.useCallback=function(t,s){return dt.current.useCallback(t,s)};xe.useContext=function(t){return dt.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return dt.current.useDeferredValue(t)};xe.useEffect=function(t,s){return dt.current.useEffect(t,s)};xe.useId=function(){return dt.current.useId()};xe.useImperativeHandle=function(t,s,n){return dt.current.useImperativeHandle(t,s,n)};xe.useInsertionEffect=function(t,s){return dt.current.useInsertionEffect(t,s)};xe.useLayoutEffect=function(t,s){return dt.current.useLayoutEffect(t,s)};xe.useMemo=function(t,s){return dt.current.useMemo(t,s)};xe.useReducer=function(t,s,n){return dt.current.useReducer(t,s,n)};xe.useRef=function(t){return dt.current.useRef(t)};xe.useState=function(t){return dt.current.useState(t)};xe.useSyncExternalStore=function(t,s,n){return dt.current.useSyncExternalStore(t,s,n)};xe.useTransition=function(){return dt.current.useTransition()};xe.version="18.3.1";Mu.exports=xe;var C=Mu.exports;const ue=Tu(C),mp=Yf({__proto__:null,default:ue},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp=C,fp=Symbol.for("react.element"),pp=Symbol.for("react.fragment"),xp=Object.prototype.hasOwnProperty,gp=hp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vp={key:!0,ref:!0,__self:!0,__source:!0};function Bu(t,s,n){var a,i={},l=null,o=null;n!==void 0&&(l=""+n),s.key!==void 0&&(l=""+s.key),s.ref!==void 0&&(o=s.ref);for(a in s)xp.call(s,a)&&!vp.hasOwnProperty(a)&&(i[a]=s[a]);if(t&&t.defaultProps)for(a in s=t.defaultProps,s)i[a]===void 0&&(i[a]=s[a]);return{$$typeof:fp,type:t,key:l,ref:o,props:i,_owner:gp.current}}yi.Fragment=pp;yi.jsx=Bu;yi.jsxs=Bu;Ou.exports=yi;var e=Ou.exports,El={},Qu={exports:{}},kt={},qu={exports:{}},Wu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function s(z,T){var W=z.length;z.push(T);e:for(;0<W;){var X=W-1>>>1,ae=z[X];if(0<i(ae,T))z[X]=T,z[W]=ae,W=X;else break e}}function n(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var T=z[0],W=z.pop();if(W!==T){z[0]=W;e:for(var X=0,ae=z.length,D=ae>>>1;X<D;){var Y=2*(X+1)-1,K=z[Y],re=Y+1,me=z[re];if(0>i(K,W))re<ae&&0>i(me,K)?(z[X]=me,z[re]=W,X=re):(z[X]=K,z[Y]=W,X=Y);else if(re<ae&&0>i(me,W))z[X]=me,z[re]=W,X=re;else break e}}return T}function i(z,T){var W=z.sortIndex-T.sortIndex;return W!==0?W:z.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var o=Date,d=o.now();t.unstable_now=function(){return o.now()-d}}var c=[],u=[],m=1,h=null,g=3,x=!1,b=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(z){for(var T=n(u);T!==null;){if(T.callback===null)a(u);else if(T.startTime<=z)a(u),T.sortIndex=T.expirationTime,s(c,T);else break;T=n(u)}}function N(z){if(_=!1,v(z),!b)if(n(c)!==null)b=!0,I(y);else{var T=n(u);T!==null&&le(N,T.startTime-z)}}function y(z,T){b=!1,_&&(_=!1,f(O),O=-1),x=!0;var W=g;try{for(v(T),h=n(c);h!==null&&(!(h.expirationTime>T)||z&&!G());){var X=h.callback;if(typeof X=="function"){h.callback=null,g=h.priorityLevel;var ae=X(h.expirationTime<=T);T=t.unstable_now(),typeof ae=="function"?h.callback=ae:h===n(c)&&a(c),v(T)}else a(c);h=n(c)}if(h!==null)var D=!0;else{var Y=n(u);Y!==null&&le(N,Y.startTime-T),D=!1}return D}finally{h=null,g=W,x=!1}}var w=!1,k=null,O=-1,M=5,B=-1;function G(){return!(t.unstable_now()-B<M)}function ee(){if(k!==null){var z=t.unstable_now();B=z;var T=!0;try{T=k(!0,z)}finally{T?F():(w=!1,k=null)}}else w=!1}var F;if(typeof p=="function")F=function(){p(ee)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,R=Q.port2;Q.port1.onmessage=ee,F=function(){R.postMessage(null)}}else F=function(){j(ee,0)};function I(z){k=z,w||(w=!0,F())}function le(z,T){O=j(function(){z(t.unstable_now())},T)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){b||x||(b=!0,I(y))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(z){switch(g){case 1:case 2:case 3:var T=3;break;default:T=g}var W=g;g=T;try{return z()}finally{g=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,T){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var W=g;g=z;try{return T()}finally{g=W}},t.unstable_scheduleCallback=function(z,T,W){var X=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?X+W:X):W=X,z){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=W+ae,z={id:m++,callback:T,priorityLevel:z,startTime:W,expirationTime:ae,sortIndex:-1},W>X?(z.sortIndex=W,s(u,z),n(c)===null&&z===n(u)&&(_?(f(O),O=-1):_=!0,le(N,W-X))):(z.sortIndex=ae,s(c,z),b||x||(b=!0,I(y))),z},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(z){var T=g;return function(){var W=g;g=T;try{return z.apply(this,arguments)}finally{g=W}}}})(Wu);qu.exports=Wu;var jp=qu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp=C,Ct=jp;function H(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)s+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hu=new Set,Sa={};function dn(t,s){On(t,s),On(t+"Capture",s)}function On(t,s){for(Sa[t]=s,t=0;t<s.length;t++)Hu.add(s[t])}var is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pl=Object.prototype.hasOwnProperty,yp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qc={},Wc={};function Np(t){return Pl.call(Wc,t)?!0:Pl.call(qc,t)?!1:yp.test(t)?Wc[t]=!0:(qc[t]=!0,!1)}function _p(t,s,n,a){if(n!==null&&n.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wp(t,s,n,a){if(s===null||typeof s>"u"||_p(t,s,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function ut(t,s,n,a,i,l,o){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=s,this.sanitizeURL=l,this.removeEmptyString=o}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ze[t]=new ut(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];Ze[s]=new ut(s,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ze[t]=new ut(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ze[t]=new ut(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ze[t]=new ut(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ze[t]=new ut(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ze[t]=new ut(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ze[t]=new ut(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ze[t]=new ut(t,5,!1,t.toLowerCase(),null,!1,!1)});var zo=/[\-:]([a-z])/g;function Uo(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(zo,Uo);Ze[s]=new ut(s,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(zo,Uo);Ze[s]=new ut(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(zo,Uo);Ze[s]=new ut(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ze[t]=new ut(t,1,!1,t.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new ut("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ze[t]=new ut(t,1,!1,t.toLowerCase(),null,!0,!0)});function Bo(t,s,n,a){var i=Ze.hasOwnProperty(s)?Ze[s]:null;(i!==null?i.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(wp(s,n,i,a)&&(n=null),a||i===null?Np(s)&&(n===null?t.removeAttribute(s):t.setAttribute(s,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(s=i.attributeName,a=i.attributeNamespace,n===null?t.removeAttribute(s):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,a?t.setAttributeNS(a,s,n):t.setAttribute(s,n))))}var ds=bp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sr=Symbol.for("react.element"),fn=Symbol.for("react.portal"),pn=Symbol.for("react.fragment"),Qo=Symbol.for("react.strict_mode"),Rl=Symbol.for("react.profiler"),Vu=Symbol.for("react.provider"),Ku=Symbol.for("react.context"),qo=Symbol.for("react.forward_ref"),Tl=Symbol.for("react.suspense"),Ol=Symbol.for("react.suspense_list"),Wo=Symbol.for("react.memo"),xs=Symbol.for("react.lazy"),Gu=Symbol.for("react.offscreen"),Hc=Symbol.iterator;function Zn(t){return t===null||typeof t!="object"?null:(t=Hc&&t[Hc]||t["@@iterator"],typeof t=="function"?t:null)}var Le=Object.assign,Yi;function oa(t){if(Yi===void 0)try{throw Error()}catch(n){var s=n.stack.trim().match(/\n( *(at )?)/);Yi=s&&s[1]||""}return`
`+Yi+t}var Ji=!1;function Xi(t,s){if(!t||Ji)return"";Ji=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(u){var a=u}Reflect.construct(t,[],s)}else{try{s.call()}catch(u){a=u}t.call(s.prototype)}else{try{throw Error()}catch(u){a=u}t()}}catch(u){if(u&&a&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),l=a.stack.split(`
`),o=i.length-1,d=l.length-1;1<=o&&0<=d&&i[o]!==l[d];)d--;for(;1<=o&&0<=d;o--,d--)if(i[o]!==l[d]){if(o!==1||d!==1)do if(o--,d--,0>d||i[o]!==l[d]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=d);break}}}finally{Ji=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?oa(t):""}function Sp(t){switch(t.tag){case 5:return oa(t.type);case 16:return oa("Lazy");case 13:return oa("Suspense");case 19:return oa("SuspenseList");case 0:case 2:case 15:return t=Xi(t.type,!1),t;case 11:return t=Xi(t.type.render,!1),t;case 1:return t=Xi(t.type,!0),t;default:return""}}function Ml(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pn:return"Fragment";case fn:return"Portal";case Rl:return"Profiler";case Qo:return"StrictMode";case Tl:return"Suspense";case Ol:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ku:return(t.displayName||"Context")+".Consumer";case Vu:return(t._context.displayName||"Context")+".Provider";case qo:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wo:return s=t.displayName||null,s!==null?s:Ml(t.type)||"Memo";case xs:s=t._payload,t=t._init;try{return Ml(t(s))}catch{}}return null}function Cp(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ml(s);case 8:return s===Qo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ds(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yu(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function kp(t){var s=Yu(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),a=""+t[s];if(!t.hasOwnProperty(s)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,l=n.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return i.call(this)},set:function(o){a=""+o,l.call(this,o)}}),Object.defineProperty(t,s,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function nr(t){t._valueTracker||(t._valueTracker=kp(t))}function Ju(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var n=s.getValue(),a="";return t&&(a=Yu(t)?t.checked?"true":"false":t.value),t=a,t!==n?(s.setValue(t),!0):!1}function $r(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Dl(t,s){var n=s.checked;return Le({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Vc(t,s){var n=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;n=Ds(s.value!=null?s.value:n),t._wrapperState={initialChecked:a,initialValue:n,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Xu(t,s){s=s.checked,s!=null&&Bo(t,"checked",s,!1)}function Ll(t,s){Xu(t,s);var n=Ds(s.value),a=s.type;if(n!=null)a==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(a==="submit"||a==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?Fl(t,s.type,n):s.hasOwnProperty("defaultValue")&&Fl(t,s.type,Ds(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function Kc(t,s,n){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,n||s===t.value||(t.value=s),t.defaultValue=s}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fl(t,s,n){(s!=="number"||$r(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ca=Array.isArray;function Cn(t,s,n,a){if(t=t.options,s){s={};for(var i=0;i<n.length;i++)s["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=s.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&a&&(t[n].defaultSelected=!0)}else{for(n=""+Ds(n),s=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,a&&(t[i].defaultSelected=!0);return}s!==null||t[i].disabled||(s=t[i])}s!==null&&(s.selected=!0)}}function Al(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(H(91));return Le({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Gc(t,s){var n=s.value;if(n==null){if(n=s.children,s=s.defaultValue,n!=null){if(s!=null)throw Error(H(92));if(ca(n)){if(1<n.length)throw Error(H(93));n=n[0]}s=n}s==null&&(s=""),n=s}t._wrapperState={initialValue:Ds(n)}}function Zu(t,s){var n=Ds(s.value),a=Ds(s.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),s.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),a!=null&&(t.defaultValue=""+a)}function Yc(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function em(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Il(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?em(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ar,tm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,n,a,i){MSApp.execUnsafeLocalFunction(function(){return t(s,n,a,i)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(ar=ar||document.createElement("div"),ar.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=ar.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function Ca(t,s){if(s){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=s;return}}t.textContent=s}var ha={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ep=["Webkit","ms","Moz","O"];Object.keys(ha).forEach(function(t){Ep.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),ha[s]=ha[t]})});function sm(t,s,n){return s==null||typeof s=="boolean"||s===""?"":n||typeof s!="number"||s===0||ha.hasOwnProperty(t)&&ha[t]?(""+s).trim():s+"px"}function nm(t,s){t=t.style;for(var n in s)if(s.hasOwnProperty(n)){var a=n.indexOf("--")===0,i=sm(n,s[n],a);n==="float"&&(n="cssFloat"),a?t.setProperty(n,i):t[n]=i}}var Pp=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $l(t,s){if(s){if(Pp[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(H(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(H(61))}if(s.style!=null&&typeof s.style!="object")throw Error(H(62))}}function zl(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ul=null;function Ho(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bl=null,kn=null,En=null;function Jc(t){if(t=Ka(t)){if(typeof Bl!="function")throw Error(H(280));var s=t.stateNode;s&&(s=Ci(s),Bl(t.stateNode,t.type,s))}}function am(t){kn?En?En.push(t):En=[t]:kn=t}function rm(){if(kn){var t=kn,s=En;if(En=kn=null,Jc(t),s)for(t=0;t<s.length;t++)Jc(s[t])}}function im(t,s){return t(s)}function lm(){}var Zi=!1;function om(t,s,n){if(Zi)return t(s,n);Zi=!0;try{return im(t,s,n)}finally{Zi=!1,(kn!==null||En!==null)&&(lm(),rm())}}function ka(t,s){var n=t.stateNode;if(n===null)return null;var a=Ci(n);if(a===null)return null;n=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(t=t.type,a=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!a;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,s,typeof n));return n}var Ql=!1;if(is)try{var ea={};Object.defineProperty(ea,"passive",{get:function(){Ql=!0}}),window.addEventListener("test",ea,ea),window.removeEventListener("test",ea,ea)}catch{Ql=!1}function Rp(t,s,n,a,i,l,o,d,c){var u=Array.prototype.slice.call(arguments,3);try{s.apply(n,u)}catch(m){this.onError(m)}}var fa=!1,zr=null,Ur=!1,ql=null,Tp={onError:function(t){fa=!0,zr=t}};function Op(t,s,n,a,i,l,o,d,c){fa=!1,zr=null,Rp.apply(Tp,arguments)}function Mp(t,s,n,a,i,l,o,d,c){if(Op.apply(this,arguments),fa){if(fa){var u=zr;fa=!1,zr=null}else throw Error(H(198));Ur||(Ur=!0,ql=u)}}function un(t){var s=t,n=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,s.flags&4098&&(n=s.return),t=s.return;while(t)}return s.tag===3?n:null}function cm(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function Xc(t){if(un(t)!==t)throw Error(H(188))}function Dp(t){var s=t.alternate;if(!s){if(s=un(t),s===null)throw Error(H(188));return s!==t?null:t}for(var n=t,a=s;;){var i=n.return;if(i===null)break;var l=i.alternate;if(l===null){if(a=i.return,a!==null){n=a;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return Xc(i),t;if(l===a)return Xc(i),s;l=l.sibling}throw Error(H(188))}if(n.return!==a.return)n=i,a=l;else{for(var o=!1,d=i.child;d;){if(d===n){o=!0,n=i,a=l;break}if(d===a){o=!0,a=i,n=l;break}d=d.sibling}if(!o){for(d=l.child;d;){if(d===n){o=!0,n=l,a=i;break}if(d===a){o=!0,a=l,n=i;break}d=d.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==a)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:s}function dm(t){return t=Dp(t),t!==null?um(t):null}function um(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=um(t);if(s!==null)return s;t=t.sibling}return null}var mm=Ct.unstable_scheduleCallback,Zc=Ct.unstable_cancelCallback,Lp=Ct.unstable_shouldYield,Fp=Ct.unstable_requestPaint,Ae=Ct.unstable_now,Ap=Ct.unstable_getCurrentPriorityLevel,Vo=Ct.unstable_ImmediatePriority,hm=Ct.unstable_UserBlockingPriority,Br=Ct.unstable_NormalPriority,Ip=Ct.unstable_LowPriority,fm=Ct.unstable_IdlePriority,Ni=null,Xt=null;function $p(t){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Ni,t,void 0,(t.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:Bp,zp=Math.log,Up=Math.LN2;function Bp(t){return t>>>=0,t===0?32:31-(zp(t)/Up|0)|0}var rr=64,ir=4194304;function da(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qr(t,s){var n=t.pendingLanes;if(n===0)return 0;var a=0,i=t.suspendedLanes,l=t.pingedLanes,o=n&268435455;if(o!==0){var d=o&~i;d!==0?a=da(d):(l&=o,l!==0&&(a=da(l)))}else o=n&~i,o!==0?a=da(o):l!==0&&(a=da(l));if(a===0)return 0;if(s!==0&&s!==a&&!(s&i)&&(i=a&-a,l=s&-s,i>=l||i===16&&(l&4194240)!==0))return s;if(a&4&&(a|=n&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=a;0<s;)n=31-qt(s),i=1<<n,a|=t[n],s&=~i;return a}function Qp(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qp(t,s){for(var n=t.suspendedLanes,a=t.pingedLanes,i=t.expirationTimes,l=t.pendingLanes;0<l;){var o=31-qt(l),d=1<<o,c=i[o];c===-1?(!(d&n)||d&a)&&(i[o]=Qp(d,s)):c<=s&&(t.expiredLanes|=d),l&=~d}}function Wl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pm(){var t=rr;return rr<<=1,!(rr&4194240)&&(rr=64),t}function el(t){for(var s=[],n=0;31>n;n++)s.push(t);return s}function Ha(t,s,n){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-qt(s),t[s]=n}function Wp(t,s){var n=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var a=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-qt(n),l=1<<i;s[i]=0,a[i]=-1,t[i]=-1,n&=~l}}function Ko(t,s){var n=t.entangledLanes|=s;for(t=t.entanglements;n;){var a=31-qt(n),i=1<<a;i&s|t[a]&s&&(t[a]|=s),n&=~i}}var Ne=0;function xm(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gm,Go,vm,jm,bm,Hl=!1,lr=[],Ss=null,Cs=null,ks=null,Ea=new Map,Pa=new Map,js=[],Hp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ed(t,s){switch(t){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":Ea.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pa.delete(s.pointerId)}}function ta(t,s,n,a,i,l){return t===null||t.nativeEvent!==l?(t={blockedOn:s,domEventName:n,eventSystemFlags:a,nativeEvent:l,targetContainers:[i]},s!==null&&(s=Ka(s),s!==null&&Go(s)),t):(t.eventSystemFlags|=a,s=t.targetContainers,i!==null&&s.indexOf(i)===-1&&s.push(i),t)}function Vp(t,s,n,a,i){switch(s){case"focusin":return Ss=ta(Ss,t,s,n,a,i),!0;case"dragenter":return Cs=ta(Cs,t,s,n,a,i),!0;case"mouseover":return ks=ta(ks,t,s,n,a,i),!0;case"pointerover":var l=i.pointerId;return Ea.set(l,ta(Ea.get(l)||null,t,s,n,a,i)),!0;case"gotpointercapture":return l=i.pointerId,Pa.set(l,ta(Pa.get(l)||null,t,s,n,a,i)),!0}return!1}function ym(t){var s=Vs(t.target);if(s!==null){var n=un(s);if(n!==null){if(s=n.tag,s===13){if(s=cm(n),s!==null){t.blockedOn=s,bm(t.priority,function(){vm(n)});return}}else if(s===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nr(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var n=Vl(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var a=new n.constructor(n.type,n);Ul=a,n.target.dispatchEvent(a),Ul=null}else return s=Ka(n),s!==null&&Go(s),t.blockedOn=n,!1;s.shift()}return!0}function td(t,s,n){Nr(t)&&n.delete(s)}function Kp(){Hl=!1,Ss!==null&&Nr(Ss)&&(Ss=null),Cs!==null&&Nr(Cs)&&(Cs=null),ks!==null&&Nr(ks)&&(ks=null),Ea.forEach(td),Pa.forEach(td)}function sa(t,s){t.blockedOn===s&&(t.blockedOn=null,Hl||(Hl=!0,Ct.unstable_scheduleCallback(Ct.unstable_NormalPriority,Kp)))}function Ra(t){function s(i){return sa(i,t)}if(0<lr.length){sa(lr[0],t);for(var n=1;n<lr.length;n++){var a=lr[n];a.blockedOn===t&&(a.blockedOn=null)}}for(Ss!==null&&sa(Ss,t),Cs!==null&&sa(Cs,t),ks!==null&&sa(ks,t),Ea.forEach(s),Pa.forEach(s),n=0;n<js.length;n++)a=js[n],a.blockedOn===t&&(a.blockedOn=null);for(;0<js.length&&(n=js[0],n.blockedOn===null);)ym(n),n.blockedOn===null&&js.shift()}var Pn=ds.ReactCurrentBatchConfig,qr=!0;function Gp(t,s,n,a){var i=Ne,l=Pn.transition;Pn.transition=null;try{Ne=1,Yo(t,s,n,a)}finally{Ne=i,Pn.transition=l}}function Yp(t,s,n,a){var i=Ne,l=Pn.transition;Pn.transition=null;try{Ne=4,Yo(t,s,n,a)}finally{Ne=i,Pn.transition=l}}function Yo(t,s,n,a){if(qr){var i=Vl(t,s,n,a);if(i===null)dl(t,s,a,Wr,n),ed(t,a);else if(Vp(i,t,s,n,a))a.stopPropagation();else if(ed(t,a),s&4&&-1<Hp.indexOf(t)){for(;i!==null;){var l=Ka(i);if(l!==null&&gm(l),l=Vl(t,s,n,a),l===null&&dl(t,s,a,Wr,n),l===i)break;i=l}i!==null&&a.stopPropagation()}else dl(t,s,a,null,n)}}var Wr=null;function Vl(t,s,n,a){if(Wr=null,t=Ho(a),t=Vs(t),t!==null)if(s=un(t),s===null)t=null;else if(n=s.tag,n===13){if(t=cm(s),t!==null)return t;t=null}else if(n===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return Wr=t,null}function Nm(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ap()){case Vo:return 1;case hm:return 4;case Br:case Ip:return 16;case fm:return 536870912;default:return 16}default:return 16}}var ys=null,Jo=null,_r=null;function _m(){if(_r)return _r;var t,s=Jo,n=s.length,a,i="value"in ys?ys.value:ys.textContent,l=i.length;for(t=0;t<n&&s[t]===i[t];t++);var o=n-t;for(a=1;a<=o&&s[n-a]===i[l-a];a++);return _r=i.slice(t,1<a?1-a:void 0)}function wr(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function or(){return!0}function sd(){return!1}function Et(t){function s(n,a,i,l,o){this._reactName=n,this._targetInst=i,this.type=a,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var d in t)t.hasOwnProperty(d)&&(n=t[d],this[d]=n?n(l):l[d]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?or:sd,this.isPropagationStopped=sd,this}return Le(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),s}var Un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xo=Et(Un),Va=Le({},Un,{view:0,detail:0}),Jp=Et(Va),tl,sl,na,_i=Le({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zo,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==na&&(na&&t.type==="mousemove"?(tl=t.screenX-na.screenX,sl=t.screenY-na.screenY):sl=tl=0,na=t),tl)},movementY:function(t){return"movementY"in t?t.movementY:sl}}),nd=Et(_i),Xp=Le({},_i,{dataTransfer:0}),Zp=Et(Xp),ex=Le({},Va,{relatedTarget:0}),nl=Et(ex),tx=Le({},Un,{animationName:0,elapsedTime:0,pseudoElement:0}),sx=Et(tx),nx=Le({},Un,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ax=Et(nx),rx=Le({},Un,{data:0}),ad=Et(rx),ix={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ox={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cx(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=ox[t])?!!s[t]:!1}function Zo(){return cx}var dx=Le({},Va,{key:function(t){if(t.key){var s=ix[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=wr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zo,charCode:function(t){return t.type==="keypress"?wr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ux=Et(dx),mx=Le({},_i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rd=Et(mx),hx=Le({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zo}),fx=Et(hx),px=Le({},Un,{propertyName:0,elapsedTime:0,pseudoElement:0}),xx=Et(px),gx=Le({},_i,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vx=Et(gx),jx=[9,13,27,32],ec=is&&"CompositionEvent"in window,pa=null;is&&"documentMode"in document&&(pa=document.documentMode);var bx=is&&"TextEvent"in window&&!pa,wm=is&&(!ec||pa&&8<pa&&11>=pa),id=" ",ld=!1;function Sm(t,s){switch(t){case"keyup":return jx.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xn=!1;function yx(t,s){switch(t){case"compositionend":return Cm(s);case"keypress":return s.which!==32?null:(ld=!0,id);case"textInput":return t=s.data,t===id&&ld?null:t;default:return null}}function Nx(t,s){if(xn)return t==="compositionend"||!ec&&Sm(t,s)?(t=_m(),_r=Jo=ys=null,xn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return wm&&s.locale!=="ko"?null:s.data;default:return null}}var _x={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function od(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!_x[t.type]:s==="textarea"}function km(t,s,n,a){am(a),s=Hr(s,"onChange"),0<s.length&&(n=new Xo("onChange","change",null,n,a),t.push({event:n,listeners:s}))}var xa=null,Ta=null;function wx(t){Im(t,0)}function wi(t){var s=jn(t);if(Ju(s))return t}function Sx(t,s){if(t==="change")return s}var Em=!1;if(is){var al;if(is){var rl="oninput"in document;if(!rl){var cd=document.createElement("div");cd.setAttribute("oninput","return;"),rl=typeof cd.oninput=="function"}al=rl}else al=!1;Em=al&&(!document.documentMode||9<document.documentMode)}function dd(){xa&&(xa.detachEvent("onpropertychange",Pm),Ta=xa=null)}function Pm(t){if(t.propertyName==="value"&&wi(Ta)){var s=[];km(s,Ta,t,Ho(t)),om(wx,s)}}function Cx(t,s,n){t==="focusin"?(dd(),xa=s,Ta=n,xa.attachEvent("onpropertychange",Pm)):t==="focusout"&&dd()}function kx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wi(Ta)}function Ex(t,s){if(t==="click")return wi(s)}function Px(t,s){if(t==="input"||t==="change")return wi(s)}function Rx(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Ht=typeof Object.is=="function"?Object.is:Rx;function Oa(t,s){if(Ht(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var n=Object.keys(t),a=Object.keys(s);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var i=n[a];if(!Pl.call(s,i)||!Ht(t[i],s[i]))return!1}return!0}function ud(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function md(t,s){var n=ud(t);t=0;for(var a;n;){if(n.nodeType===3){if(a=t+n.textContent.length,t<=s&&a>=s)return{node:n,offset:s-t};t=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ud(n)}}function Rm(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Rm(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Tm(){for(var t=window,s=$r();s instanceof t.HTMLIFrameElement;){try{var n=typeof s.contentWindow.location.href=="string"}catch{n=!1}if(n)t=s.contentWindow;else break;s=$r(t.document)}return s}function tc(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function Tx(t){var s=Tm(),n=t.focusedElem,a=t.selectionRange;if(s!==n&&n&&n.ownerDocument&&Rm(n.ownerDocument.documentElement,n)){if(a!==null&&tc(n)){if(s=a.start,t=a.end,t===void 0&&(t=s),"selectionStart"in n)n.selectionStart=s,n.selectionEnd=Math.min(t,n.value.length);else if(t=(s=n.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,l=Math.min(a.start,i);a=a.end===void 0?l:Math.min(a.end,i),!t.extend&&l>a&&(i=a,a=l,l=i),i=md(n,l);var o=md(n,a);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(s=s.createRange(),s.setStart(i.node,i.offset),t.removeAllRanges(),l>a?(t.addRange(s),t.extend(o.node,o.offset)):(s.setEnd(o.node,o.offset),t.addRange(s)))}}for(s=[],t=n;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<s.length;n++)t=s[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ox=is&&"documentMode"in document&&11>=document.documentMode,gn=null,Kl=null,ga=null,Gl=!1;function hd(t,s,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gl||gn==null||gn!==$r(a)||(a=gn,"selectionStart"in a&&tc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),ga&&Oa(ga,a)||(ga=a,a=Hr(Kl,"onSelect"),0<a.length&&(s=new Xo("onSelect","select",null,s,n),t.push({event:s,listeners:a}),s.target=gn)))}function cr(t,s){var n={};return n[t.toLowerCase()]=s.toLowerCase(),n["Webkit"+t]="webkit"+s,n["Moz"+t]="moz"+s,n}var vn={animationend:cr("Animation","AnimationEnd"),animationiteration:cr("Animation","AnimationIteration"),animationstart:cr("Animation","AnimationStart"),transitionend:cr("Transition","TransitionEnd")},il={},Om={};is&&(Om=document.createElement("div").style,"AnimationEvent"in window||(delete vn.animationend.animation,delete vn.animationiteration.animation,delete vn.animationstart.animation),"TransitionEvent"in window||delete vn.transitionend.transition);function Si(t){if(il[t])return il[t];if(!vn[t])return t;var s=vn[t],n;for(n in s)if(s.hasOwnProperty(n)&&n in Om)return il[t]=s[n];return t}var Mm=Si("animationend"),Dm=Si("animationiteration"),Lm=Si("animationstart"),Fm=Si("transitionend"),Am=new Map,fd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fs(t,s){Am.set(t,s),dn(s,[t])}for(var ll=0;ll<fd.length;ll++){var ol=fd[ll],Mx=ol.toLowerCase(),Dx=ol[0].toUpperCase()+ol.slice(1);Fs(Mx,"on"+Dx)}Fs(Mm,"onAnimationEnd");Fs(Dm,"onAnimationIteration");Fs(Lm,"onAnimationStart");Fs("dblclick","onDoubleClick");Fs("focusin","onFocus");Fs("focusout","onBlur");Fs(Fm,"onTransitionEnd");On("onMouseEnter",["mouseout","mouseover"]);On("onMouseLeave",["mouseout","mouseover"]);On("onPointerEnter",["pointerout","pointerover"]);On("onPointerLeave",["pointerout","pointerover"]);dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));dn("onBeforeInput",["compositionend","keypress","textInput","paste"]);dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lx=new Set("cancel close invalid load scroll toggle".split(" ").concat(ua));function pd(t,s,n){var a=t.type||"unknown-event";t.currentTarget=n,Mp(a,s,void 0,t),t.currentTarget=null}function Im(t,s){s=(s&4)!==0;for(var n=0;n<t.length;n++){var a=t[n],i=a.event;a=a.listeners;e:{var l=void 0;if(s)for(var o=a.length-1;0<=o;o--){var d=a[o],c=d.instance,u=d.currentTarget;if(d=d.listener,c!==l&&i.isPropagationStopped())break e;pd(i,d,u),l=c}else for(o=0;o<a.length;o++){if(d=a[o],c=d.instance,u=d.currentTarget,d=d.listener,c!==l&&i.isPropagationStopped())break e;pd(i,d,u),l=c}}}if(Ur)throw t=ql,Ur=!1,ql=null,t}function Ce(t,s){var n=s[eo];n===void 0&&(n=s[eo]=new Set);var a=t+"__bubble";n.has(a)||($m(s,t,2,!1),n.add(a))}function cl(t,s,n){var a=0;s&&(a|=4),$m(n,t,a,s)}var dr="_reactListening"+Math.random().toString(36).slice(2);function Ma(t){if(!t[dr]){t[dr]=!0,Hu.forEach(function(n){n!=="selectionchange"&&(Lx.has(n)||cl(n,!1,t),cl(n,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[dr]||(s[dr]=!0,cl("selectionchange",!1,s))}}function $m(t,s,n,a){switch(Nm(s)){case 1:var i=Gp;break;case 4:i=Yp;break;default:i=Yo}n=i.bind(null,s,n,t),i=void 0,!Ql||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(i=!0),a?i!==void 0?t.addEventListener(s,n,{capture:!0,passive:i}):t.addEventListener(s,n,!0):i!==void 0?t.addEventListener(s,n,{passive:i}):t.addEventListener(s,n,!1)}function dl(t,s,n,a,i){var l=a;if(!(s&1)&&!(s&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var d=a.stateNode.containerInfo;if(d===i||d.nodeType===8&&d.parentNode===i)break;if(o===4)for(o=a.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;d!==null;){if(o=Vs(d),o===null)return;if(c=o.tag,c===5||c===6){a=l=o;continue e}d=d.parentNode}}a=a.return}om(function(){var u=l,m=Ho(n),h=[];e:{var g=Am.get(t);if(g!==void 0){var x=Xo,b=t;switch(t){case"keypress":if(wr(n)===0)break e;case"keydown":case"keyup":x=ux;break;case"focusin":b="focus",x=nl;break;case"focusout":b="blur",x=nl;break;case"beforeblur":case"afterblur":x=nl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=nd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Zp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=fx;break;case Mm:case Dm:case Lm:x=sx;break;case Fm:x=xx;break;case"scroll":x=Jp;break;case"wheel":x=vx;break;case"copy":case"cut":case"paste":x=ax;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=rd}var _=(s&4)!==0,j=!_&&t==="scroll",f=_?g!==null?g+"Capture":null:g;_=[];for(var p=u,v;p!==null;){v=p;var N=v.stateNode;if(v.tag===5&&N!==null&&(v=N,f!==null&&(N=ka(p,f),N!=null&&_.push(Da(p,N,v)))),j)break;p=p.return}0<_.length&&(g=new x(g,b,null,n,m),h.push({event:g,listeners:_}))}}if(!(s&7)){e:{if(g=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",g&&n!==Ul&&(b=n.relatedTarget||n.fromElement)&&(Vs(b)||b[ls]))break e;if((x||g)&&(g=m.window===m?m:(g=m.ownerDocument)?g.defaultView||g.parentWindow:window,x?(b=n.relatedTarget||n.toElement,x=u,b=b?Vs(b):null,b!==null&&(j=un(b),b!==j||b.tag!==5&&b.tag!==6)&&(b=null)):(x=null,b=u),x!==b)){if(_=nd,N="onMouseLeave",f="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(_=rd,N="onPointerLeave",f="onPointerEnter",p="pointer"),j=x==null?g:jn(x),v=b==null?g:jn(b),g=new _(N,p+"leave",x,n,m),g.target=j,g.relatedTarget=v,N=null,Vs(m)===u&&(_=new _(f,p+"enter",b,n,m),_.target=v,_.relatedTarget=j,N=_),j=N,x&&b)t:{for(_=x,f=b,p=0,v=_;v;v=hn(v))p++;for(v=0,N=f;N;N=hn(N))v++;for(;0<p-v;)_=hn(_),p--;for(;0<v-p;)f=hn(f),v--;for(;p--;){if(_===f||f!==null&&_===f.alternate)break t;_=hn(_),f=hn(f)}_=null}else _=null;x!==null&&xd(h,g,x,_,!1),b!==null&&j!==null&&xd(h,j,b,_,!0)}}e:{if(g=u?jn(u):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var y=Sx;else if(od(g))if(Em)y=Px;else{y=kx;var w=Cx}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(y=Ex);if(y&&(y=y(t,u))){km(h,y,n,m);break e}w&&w(t,g,u),t==="focusout"&&(w=g._wrapperState)&&w.controlled&&g.type==="number"&&Fl(g,"number",g.value)}switch(w=u?jn(u):window,t){case"focusin":(od(w)||w.contentEditable==="true")&&(gn=w,Kl=u,ga=null);break;case"focusout":ga=Kl=gn=null;break;case"mousedown":Gl=!0;break;case"contextmenu":case"mouseup":case"dragend":Gl=!1,hd(h,n,m);break;case"selectionchange":if(Ox)break;case"keydown":case"keyup":hd(h,n,m)}var k;if(ec)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else xn?Sm(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(wm&&n.locale!=="ko"&&(xn||O!=="onCompositionStart"?O==="onCompositionEnd"&&xn&&(k=_m()):(ys=m,Jo="value"in ys?ys.value:ys.textContent,xn=!0)),w=Hr(u,O),0<w.length&&(O=new ad(O,t,null,n,m),h.push({event:O,listeners:w}),k?O.data=k:(k=Cm(n),k!==null&&(O.data=k)))),(k=bx?yx(t,n):Nx(t,n))&&(u=Hr(u,"onBeforeInput"),0<u.length&&(m=new ad("onBeforeInput","beforeinput",null,n,m),h.push({event:m,listeners:u}),m.data=k))}Im(h,s)})}function Da(t,s,n){return{instance:t,listener:s,currentTarget:n}}function Hr(t,s){for(var n=s+"Capture",a=[];t!==null;){var i=t,l=i.stateNode;i.tag===5&&l!==null&&(i=l,l=ka(t,n),l!=null&&a.unshift(Da(t,l,i)),l=ka(t,s),l!=null&&a.push(Da(t,l,i))),t=t.return}return a}function hn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function xd(t,s,n,a,i){for(var l=s._reactName,o=[];n!==null&&n!==a;){var d=n,c=d.alternate,u=d.stateNode;if(c!==null&&c===a)break;d.tag===5&&u!==null&&(d=u,i?(c=ka(n,l),c!=null&&o.unshift(Da(n,c,d))):i||(c=ka(n,l),c!=null&&o.push(Da(n,c,d)))),n=n.return}o.length!==0&&t.push({event:s,listeners:o})}var Fx=/\r\n?/g,Ax=/\u0000|\uFFFD/g;function gd(t){return(typeof t=="string"?t:""+t).replace(Fx,`
`).replace(Ax,"")}function ur(t,s,n){if(s=gd(s),gd(t)!==s&&n)throw Error(H(425))}function Vr(){}var Yl=null,Jl=null;function Xl(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Zl=typeof setTimeout=="function"?setTimeout:void 0,Ix=typeof clearTimeout=="function"?clearTimeout:void 0,vd=typeof Promise=="function"?Promise:void 0,$x=typeof queueMicrotask=="function"?queueMicrotask:typeof vd<"u"?function(t){return vd.resolve(null).then(t).catch(zx)}:Zl;function zx(t){setTimeout(function(){throw t})}function ul(t,s){var n=s,a=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(a===0){t.removeChild(i),Ra(s);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=i}while(n);Ra(s)}function Es(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function jd(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(s===0)return t;s--}else n==="/$"&&s++}t=t.previousSibling}return null}var Bn=Math.random().toString(36).slice(2),Jt="__reactFiber$"+Bn,La="__reactProps$"+Bn,ls="__reactContainer$"+Bn,eo="__reactEvents$"+Bn,Ux="__reactListeners$"+Bn,Bx="__reactHandles$"+Bn;function Vs(t){var s=t[Jt];if(s)return s;for(var n=t.parentNode;n;){if(s=n[ls]||n[Jt]){if(n=s.alternate,s.child!==null||n!==null&&n.child!==null)for(t=jd(t);t!==null;){if(n=t[Jt])return n;t=jd(t)}return s}t=n,n=t.parentNode}return null}function Ka(t){return t=t[Jt]||t[ls],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function jn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Ci(t){return t[La]||null}var to=[],bn=-1;function As(t){return{current:t}}function ke(t){0>bn||(t.current=to[bn],to[bn]=null,bn--)}function Se(t,s){bn++,to[bn]=t.current,t.current=s}var Ls={},rt=As(Ls),xt=As(!1),sn=Ls;function Mn(t,s){var n=t.type.contextTypes;if(!n)return Ls;var a=t.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var i={},l;for(l in n)i[l]=s[l];return a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),i}function gt(t){return t=t.childContextTypes,t!=null}function Kr(){ke(xt),ke(rt)}function bd(t,s,n){if(rt.current!==Ls)throw Error(H(168));Se(rt,s),Se(xt,n)}function zm(t,s,n){var a=t.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var i in a)if(!(i in s))throw Error(H(108,Cp(t)||"Unknown",i));return Le({},n,a)}function Gr(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ls,sn=rt.current,Se(rt,t),Se(xt,xt.current),!0}function yd(t,s,n){var a=t.stateNode;if(!a)throw Error(H(169));n?(t=zm(t,s,sn),a.__reactInternalMemoizedMergedChildContext=t,ke(xt),ke(rt),Se(rt,t)):ke(xt),Se(xt,n)}var ss=null,ki=!1,ml=!1;function Um(t){ss===null?ss=[t]:ss.push(t)}function Qx(t){ki=!0,Um(t)}function Is(){if(!ml&&ss!==null){ml=!0;var t=0,s=Ne;try{var n=ss;for(Ne=1;t<n.length;t++){var a=n[t];do a=a(!0);while(a!==null)}ss=null,ki=!1}catch(i){throw ss!==null&&(ss=ss.slice(t+1)),mm(Vo,Is),i}finally{Ne=s,ml=!1}}return null}var yn=[],Nn=0,Yr=null,Jr=0,Ot=[],Mt=0,nn=null,ns=1,as="";function qs(t,s){yn[Nn++]=Jr,yn[Nn++]=Yr,Yr=t,Jr=s}function Bm(t,s,n){Ot[Mt++]=ns,Ot[Mt++]=as,Ot[Mt++]=nn,nn=t;var a=ns;t=as;var i=32-qt(a)-1;a&=~(1<<i),n+=1;var l=32-qt(s)+i;if(30<l){var o=i-i%5;l=(a&(1<<o)-1).toString(32),a>>=o,i-=o,ns=1<<32-qt(s)+i|n<<i|a,as=l+t}else ns=1<<l|n<<i|a,as=t}function sc(t){t.return!==null&&(qs(t,1),Bm(t,1,0))}function nc(t){for(;t===Yr;)Yr=yn[--Nn],yn[Nn]=null,Jr=yn[--Nn],yn[Nn]=null;for(;t===nn;)nn=Ot[--Mt],Ot[Mt]=null,as=Ot[--Mt],Ot[Mt]=null,ns=Ot[--Mt],Ot[Mt]=null}var St=null,wt=null,Te=!1,Bt=null;function Qm(t,s){var n=Dt(5,null,null,0);n.elementType="DELETED",n.stateNode=s,n.return=t,s=t.deletions,s===null?(t.deletions=[n],t.flags|=16):s.push(n)}function Nd(t,s){switch(t.tag){case 5:var n=t.type;return s=s.nodeType!==1||n.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,St=t,wt=Es(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,St=t,wt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(n=nn!==null?{id:ns,overflow:as}:null,t.memoizedState={dehydrated:s,treeContext:n,retryLane:1073741824},n=Dt(18,null,null,0),n.stateNode=s,n.return=t,t.child=n,St=t,wt=null,!0):!1;default:return!1}}function so(t){return(t.mode&1)!==0&&(t.flags&128)===0}function no(t){if(Te){var s=wt;if(s){var n=s;if(!Nd(t,s)){if(so(t))throw Error(H(418));s=Es(n.nextSibling);var a=St;s&&Nd(t,s)?Qm(a,n):(t.flags=t.flags&-4097|2,Te=!1,St=t)}}else{if(so(t))throw Error(H(418));t.flags=t.flags&-4097|2,Te=!1,St=t}}}function _d(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;St=t}function mr(t){if(t!==St)return!1;if(!Te)return _d(t),Te=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!Xl(t.type,t.memoizedProps)),s&&(s=wt)){if(so(t))throw qm(),Error(H(418));for(;s;)Qm(t,s),s=Es(s.nextSibling)}if(_d(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(s===0){wt=Es(t.nextSibling);break e}s--}else n!=="$"&&n!=="$!"&&n!=="$?"||s++}t=t.nextSibling}wt=null}}else wt=St?Es(t.stateNode.nextSibling):null;return!0}function qm(){for(var t=wt;t;)t=Es(t.nextSibling)}function Dn(){wt=St=null,Te=!1}function ac(t){Bt===null?Bt=[t]:Bt.push(t)}var qx=ds.ReactCurrentBatchConfig;function aa(t,s,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var a=n.stateNode}if(!a)throw Error(H(147,t));var i=a,l=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===l?s.ref:(s=function(o){var d=i.refs;o===null?delete d[l]:d[l]=o},s._stringRef=l,s)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function hr(t,s){throw t=Object.prototype.toString.call(s),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function wd(t){var s=t._init;return s(t._payload)}function Wm(t){function s(f,p){if(t){var v=f.deletions;v===null?(f.deletions=[p],f.flags|=16):v.push(p)}}function n(f,p){if(!t)return null;for(;p!==null;)s(f,p),p=p.sibling;return null}function a(f,p){for(f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function i(f,p){return f=Os(f,p),f.index=0,f.sibling=null,f}function l(f,p,v){return f.index=v,t?(v=f.alternate,v!==null?(v=v.index,v<p?(f.flags|=2,p):v):(f.flags|=2,p)):(f.flags|=1048576,p)}function o(f){return t&&f.alternate===null&&(f.flags|=2),f}function d(f,p,v,N){return p===null||p.tag!==6?(p=jl(v,f.mode,N),p.return=f,p):(p=i(p,v),p.return=f,p)}function c(f,p,v,N){var y=v.type;return y===pn?m(f,p,v.props.children,N,v.key):p!==null&&(p.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===xs&&wd(y)===p.type)?(N=i(p,v.props),N.ref=aa(f,p,v),N.return=f,N):(N=Tr(v.type,v.key,v.props,null,f.mode,N),N.ref=aa(f,p,v),N.return=f,N)}function u(f,p,v,N){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=bl(v,f.mode,N),p.return=f,p):(p=i(p,v.children||[]),p.return=f,p)}function m(f,p,v,N,y){return p===null||p.tag!==7?(p=en(v,f.mode,N,y),p.return=f,p):(p=i(p,v),p.return=f,p)}function h(f,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=jl(""+p,f.mode,v),p.return=f,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case sr:return v=Tr(p.type,p.key,p.props,null,f.mode,v),v.ref=aa(f,null,p),v.return=f,v;case fn:return p=bl(p,f.mode,v),p.return=f,p;case xs:var N=p._init;return h(f,N(p._payload),v)}if(ca(p)||Zn(p))return p=en(p,f.mode,v,null),p.return=f,p;hr(f,p)}return null}function g(f,p,v,N){var y=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return y!==null?null:d(f,p,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case sr:return v.key===y?c(f,p,v,N):null;case fn:return v.key===y?u(f,p,v,N):null;case xs:return y=v._init,g(f,p,y(v._payload),N)}if(ca(v)||Zn(v))return y!==null?null:m(f,p,v,N,null);hr(f,v)}return null}function x(f,p,v,N,y){if(typeof N=="string"&&N!==""||typeof N=="number")return f=f.get(v)||null,d(p,f,""+N,y);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case sr:return f=f.get(N.key===null?v:N.key)||null,c(p,f,N,y);case fn:return f=f.get(N.key===null?v:N.key)||null,u(p,f,N,y);case xs:var w=N._init;return x(f,p,v,w(N._payload),y)}if(ca(N)||Zn(N))return f=f.get(v)||null,m(p,f,N,y,null);hr(p,N)}return null}function b(f,p,v,N){for(var y=null,w=null,k=p,O=p=0,M=null;k!==null&&O<v.length;O++){k.index>O?(M=k,k=null):M=k.sibling;var B=g(f,k,v[O],N);if(B===null){k===null&&(k=M);break}t&&k&&B.alternate===null&&s(f,k),p=l(B,p,O),w===null?y=B:w.sibling=B,w=B,k=M}if(O===v.length)return n(f,k),Te&&qs(f,O),y;if(k===null){for(;O<v.length;O++)k=h(f,v[O],N),k!==null&&(p=l(k,p,O),w===null?y=k:w.sibling=k,w=k);return Te&&qs(f,O),y}for(k=a(f,k);O<v.length;O++)M=x(k,f,O,v[O],N),M!==null&&(t&&M.alternate!==null&&k.delete(M.key===null?O:M.key),p=l(M,p,O),w===null?y=M:w.sibling=M,w=M);return t&&k.forEach(function(G){return s(f,G)}),Te&&qs(f,O),y}function _(f,p,v,N){var y=Zn(v);if(typeof y!="function")throw Error(H(150));if(v=y.call(v),v==null)throw Error(H(151));for(var w=y=null,k=p,O=p=0,M=null,B=v.next();k!==null&&!B.done;O++,B=v.next()){k.index>O?(M=k,k=null):M=k.sibling;var G=g(f,k,B.value,N);if(G===null){k===null&&(k=M);break}t&&k&&G.alternate===null&&s(f,k),p=l(G,p,O),w===null?y=G:w.sibling=G,w=G,k=M}if(B.done)return n(f,k),Te&&qs(f,O),y;if(k===null){for(;!B.done;O++,B=v.next())B=h(f,B.value,N),B!==null&&(p=l(B,p,O),w===null?y=B:w.sibling=B,w=B);return Te&&qs(f,O),y}for(k=a(f,k);!B.done;O++,B=v.next())B=x(k,f,O,B.value,N),B!==null&&(t&&B.alternate!==null&&k.delete(B.key===null?O:B.key),p=l(B,p,O),w===null?y=B:w.sibling=B,w=B);return t&&k.forEach(function(ee){return s(f,ee)}),Te&&qs(f,O),y}function j(f,p,v,N){if(typeof v=="object"&&v!==null&&v.type===pn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case sr:e:{for(var y=v.key,w=p;w!==null;){if(w.key===y){if(y=v.type,y===pn){if(w.tag===7){n(f,w.sibling),p=i(w,v.props.children),p.return=f,f=p;break e}}else if(w.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===xs&&wd(y)===w.type){n(f,w.sibling),p=i(w,v.props),p.ref=aa(f,w,v),p.return=f,f=p;break e}n(f,w);break}else s(f,w);w=w.sibling}v.type===pn?(p=en(v.props.children,f.mode,N,v.key),p.return=f,f=p):(N=Tr(v.type,v.key,v.props,null,f.mode,N),N.ref=aa(f,p,v),N.return=f,f=N)}return o(f);case fn:e:{for(w=v.key;p!==null;){if(p.key===w)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(f,p.sibling),p=i(p,v.children||[]),p.return=f,f=p;break e}else{n(f,p);break}else s(f,p);p=p.sibling}p=bl(v,f.mode,N),p.return=f,f=p}return o(f);case xs:return w=v._init,j(f,p,w(v._payload),N)}if(ca(v))return b(f,p,v,N);if(Zn(v))return _(f,p,v,N);hr(f,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(f,p.sibling),p=i(p,v),p.return=f,f=p):(n(f,p),p=jl(v,f.mode,N),p.return=f,f=p),o(f)):n(f,p)}return j}var Ln=Wm(!0),Hm=Wm(!1),Xr=As(null),Zr=null,_n=null,rc=null;function ic(){rc=_n=Zr=null}function lc(t){var s=Xr.current;ke(Xr),t._currentValue=s}function ao(t,s,n){for(;t!==null;){var a=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),t===n)break;t=t.return}}function Rn(t,s){Zr=t,rc=_n=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&s&&(ft=!0),t.firstContext=null)}function Ft(t){var s=t._currentValue;if(rc!==t)if(t={context:t,memoizedValue:s,next:null},_n===null){if(Zr===null)throw Error(H(308));_n=t,Zr.dependencies={lanes:0,firstContext:t}}else _n=_n.next=t;return s}var Ks=null;function oc(t){Ks===null?Ks=[t]:Ks.push(t)}function Vm(t,s,n,a){var i=s.interleaved;return i===null?(n.next=n,oc(s)):(n.next=i.next,i.next=n),s.interleaved=n,os(t,a)}function os(t,s){t.lanes|=s;var n=t.alternate;for(n!==null&&(n.lanes|=s),n=t,t=t.return;t!==null;)t.childLanes|=s,n=t.alternate,n!==null&&(n.childLanes|=s),n=t,t=t.return;return n.tag===3?n.stateNode:null}var gs=!1;function cc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Km(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rs(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function Ps(t,s,n){var a=t.updateQueue;if(a===null)return null;if(a=a.shared,be&2){var i=a.pending;return i===null?s.next=s:(s.next=i.next,i.next=s),a.pending=s,os(t,n)}return i=a.interleaved,i===null?(s.next=s,oc(a)):(s.next=i.next,i.next=s),a.interleaved=s,os(t,n)}function Sr(t,s,n){if(s=s.updateQueue,s!==null&&(s=s.shared,(n&4194240)!==0)){var a=s.lanes;a&=t.pendingLanes,n|=a,s.lanes=n,Ko(t,n)}}function Sd(t,s){var n=t.updateQueue,a=t.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var i=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?i=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?i=l=s:l=l.next=s}else i=l=s;n={baseState:a.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:a.shared,effects:a.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=s:t.next=s,n.lastBaseUpdate=s}function ei(t,s,n,a){var i=t.updateQueue;gs=!1;var l=i.firstBaseUpdate,o=i.lastBaseUpdate,d=i.shared.pending;if(d!==null){i.shared.pending=null;var c=d,u=c.next;c.next=null,o===null?l=u:o.next=u,o=c;var m=t.alternate;m!==null&&(m=m.updateQueue,d=m.lastBaseUpdate,d!==o&&(d===null?m.firstBaseUpdate=u:d.next=u,m.lastBaseUpdate=c))}if(l!==null){var h=i.baseState;o=0,m=u=c=null,d=l;do{var g=d.lane,x=d.eventTime;if((a&g)===g){m!==null&&(m=m.next={eventTime:x,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var b=t,_=d;switch(g=s,x=n,_.tag){case 1:if(b=_.payload,typeof b=="function"){h=b.call(x,h,g);break e}h=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=_.payload,g=typeof b=="function"?b.call(x,h,g):b,g==null)break e;h=Le({},h,g);break e;case 2:gs=!0}}d.callback!==null&&d.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[d]:g.push(d))}else x={eventTime:x,lane:g,tag:d.tag,payload:d.payload,callback:d.callback,next:null},m===null?(u=m=x,c=h):m=m.next=x,o|=g;if(d=d.next,d===null){if(d=i.shared.pending,d===null)break;g=d,d=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(m===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=m,s=i.shared.interleaved,s!==null){i=s;do o|=i.lane,i=i.next;while(i!==s)}else l===null&&(i.shared.lanes=0);rn|=o,t.lanes=o,t.memoizedState=h}}function Cd(t,s,n){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var a=t[s],i=a.callback;if(i!==null){if(a.callback=null,a=n,typeof i!="function")throw Error(H(191,i));i.call(a)}}}var Ga={},Zt=As(Ga),Fa=As(Ga),Aa=As(Ga);function Gs(t){if(t===Ga)throw Error(H(174));return t}function dc(t,s){switch(Se(Aa,s),Se(Fa,t),Se(Zt,Ga),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Il(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=Il(s,t)}ke(Zt),Se(Zt,s)}function Fn(){ke(Zt),ke(Fa),ke(Aa)}function Gm(t){Gs(Aa.current);var s=Gs(Zt.current),n=Il(s,t.type);s!==n&&(Se(Fa,t),Se(Zt,n))}function uc(t){Fa.current===t&&(ke(Zt),ke(Fa))}var Oe=As(0);function ti(t){for(var s=t;s!==null;){if(s.tag===13){var n=s.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var hl=[];function mc(){for(var t=0;t<hl.length;t++)hl[t]._workInProgressVersionPrimary=null;hl.length=0}var Cr=ds.ReactCurrentDispatcher,fl=ds.ReactCurrentBatchConfig,an=0,Me=null,qe=null,He=null,si=!1,va=!1,Ia=0,Wx=0;function tt(){throw Error(H(321))}function hc(t,s){if(s===null)return!1;for(var n=0;n<s.length&&n<t.length;n++)if(!Ht(t[n],s[n]))return!1;return!0}function fc(t,s,n,a,i,l){if(an=l,Me=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Cr.current=t===null||t.memoizedState===null?Gx:Yx,t=n(a,i),va){l=0;do{if(va=!1,Ia=0,25<=l)throw Error(H(301));l+=1,He=qe=null,s.updateQueue=null,Cr.current=Jx,t=n(a,i)}while(va)}if(Cr.current=ni,s=qe!==null&&qe.next!==null,an=0,He=qe=Me=null,si=!1,s)throw Error(H(300));return t}function pc(){var t=Ia!==0;return Ia=0,t}function Yt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return He===null?Me.memoizedState=He=t:He=He.next=t,He}function At(){if(qe===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=qe.next;var s=He===null?Me.memoizedState:He.next;if(s!==null)He=s,qe=t;else{if(t===null)throw Error(H(310));qe=t,t={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},He===null?Me.memoizedState=He=t:He=He.next=t}return He}function $a(t,s){return typeof s=="function"?s(t):s}function pl(t){var s=At(),n=s.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var a=qe,i=a.baseQueue,l=n.pending;if(l!==null){if(i!==null){var o=i.next;i.next=l.next,l.next=o}a.baseQueue=i=l,n.pending=null}if(i!==null){l=i.next,a=a.baseState;var d=o=null,c=null,u=l;do{var m=u.lane;if((an&m)===m)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),a=u.hasEagerState?u.eagerState:t(a,u.action);else{var h={lane:m,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(d=c=h,o=a):c=c.next=h,Me.lanes|=m,rn|=m}u=u.next}while(u!==null&&u!==l);c===null?o=a:c.next=d,Ht(a,s.memoizedState)||(ft=!0),s.memoizedState=a,s.baseState=o,s.baseQueue=c,n.lastRenderedState=a}if(t=n.interleaved,t!==null){i=t;do l=i.lane,Me.lanes|=l,rn|=l,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[s.memoizedState,n.dispatch]}function xl(t){var s=At(),n=s.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var a=n.dispatch,i=n.pending,l=s.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do l=t(l,o.action),o=o.next;while(o!==i);Ht(l,s.memoizedState)||(ft=!0),s.memoizedState=l,s.baseQueue===null&&(s.baseState=l),n.lastRenderedState=l}return[l,a]}function Ym(){}function Jm(t,s){var n=Me,a=At(),i=s(),l=!Ht(a.memoizedState,i);if(l&&(a.memoizedState=i,ft=!0),a=a.queue,xc(eh.bind(null,n,a,t),[t]),a.getSnapshot!==s||l||He!==null&&He.memoizedState.tag&1){if(n.flags|=2048,za(9,Zm.bind(null,n,a,i,s),void 0,null),Ve===null)throw Error(H(349));an&30||Xm(n,s,i)}return i}function Xm(t,s,n){t.flags|=16384,t={getSnapshot:s,value:n},s=Me.updateQueue,s===null?(s={lastEffect:null,stores:null},Me.updateQueue=s,s.stores=[t]):(n=s.stores,n===null?s.stores=[t]:n.push(t))}function Zm(t,s,n,a){s.value=n,s.getSnapshot=a,th(s)&&sh(t)}function eh(t,s,n){return n(function(){th(s)&&sh(t)})}function th(t){var s=t.getSnapshot;t=t.value;try{var n=s();return!Ht(t,n)}catch{return!0}}function sh(t){var s=os(t,1);s!==null&&Wt(s,t,1,-1)}function kd(t){var s=Yt();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:t},s.queue=t,t=t.dispatch=Kx.bind(null,Me,t),[s.memoizedState,t]}function za(t,s,n,a){return t={tag:t,create:s,destroy:n,deps:a,next:null},s=Me.updateQueue,s===null?(s={lastEffect:null,stores:null},Me.updateQueue=s,s.lastEffect=t.next=t):(n=s.lastEffect,n===null?s.lastEffect=t.next=t:(a=n.next,n.next=t,t.next=a,s.lastEffect=t)),t}function nh(){return At().memoizedState}function kr(t,s,n,a){var i=Yt();Me.flags|=t,i.memoizedState=za(1|s,n,void 0,a===void 0?null:a)}function Ei(t,s,n,a){var i=At();a=a===void 0?null:a;var l=void 0;if(qe!==null){var o=qe.memoizedState;if(l=o.destroy,a!==null&&hc(a,o.deps)){i.memoizedState=za(s,n,l,a);return}}Me.flags|=t,i.memoizedState=za(1|s,n,l,a)}function Ed(t,s){return kr(8390656,8,t,s)}function xc(t,s){return Ei(2048,8,t,s)}function ah(t,s){return Ei(4,2,t,s)}function rh(t,s){return Ei(4,4,t,s)}function ih(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function lh(t,s,n){return n=n!=null?n.concat([t]):null,Ei(4,4,ih.bind(null,s,t),n)}function gc(){}function oh(t,s){var n=At();s=s===void 0?null:s;var a=n.memoizedState;return a!==null&&s!==null&&hc(s,a[1])?a[0]:(n.memoizedState=[t,s],t)}function ch(t,s){var n=At();s=s===void 0?null:s;var a=n.memoizedState;return a!==null&&s!==null&&hc(s,a[1])?a[0]:(t=t(),n.memoizedState=[t,s],t)}function dh(t,s,n){return an&21?(Ht(n,s)||(n=pm(),Me.lanes|=n,rn|=n,t.baseState=!0),s):(t.baseState&&(t.baseState=!1,ft=!0),t.memoizedState=n)}function Hx(t,s){var n=Ne;Ne=n!==0&&4>n?n:4,t(!0);var a=fl.transition;fl.transition={};try{t(!1),s()}finally{Ne=n,fl.transition=a}}function uh(){return At().memoizedState}function Vx(t,s,n){var a=Ts(t);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},mh(t))hh(s,n);else if(n=Vm(t,s,n,a),n!==null){var i=ct();Wt(n,t,a,i),fh(n,s,a)}}function Kx(t,s,n){var a=Ts(t),i={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(mh(t))hh(s,i);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=s.lastRenderedReducer,l!==null))try{var o=s.lastRenderedState,d=l(o,n);if(i.hasEagerState=!0,i.eagerState=d,Ht(d,o)){var c=s.interleaved;c===null?(i.next=i,oc(s)):(i.next=c.next,c.next=i),s.interleaved=i;return}}catch{}finally{}n=Vm(t,s,i,a),n!==null&&(i=ct(),Wt(n,t,a,i),fh(n,s,a))}}function mh(t){var s=t.alternate;return t===Me||s!==null&&s===Me}function hh(t,s){va=si=!0;var n=t.pending;n===null?s.next=s:(s.next=n.next,n.next=s),t.pending=s}function fh(t,s,n){if(n&4194240){var a=s.lanes;a&=t.pendingLanes,n|=a,s.lanes=n,Ko(t,n)}}var ni={readContext:Ft,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},Gx={readContext:Ft,useCallback:function(t,s){return Yt().memoizedState=[t,s===void 0?null:s],t},useContext:Ft,useEffect:Ed,useImperativeHandle:function(t,s,n){return n=n!=null?n.concat([t]):null,kr(4194308,4,ih.bind(null,s,t),n)},useLayoutEffect:function(t,s){return kr(4194308,4,t,s)},useInsertionEffect:function(t,s){return kr(4,2,t,s)},useMemo:function(t,s){var n=Yt();return s=s===void 0?null:s,t=t(),n.memoizedState=[t,s],t},useReducer:function(t,s,n){var a=Yt();return s=n!==void 0?n(s):s,a.memoizedState=a.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},a.queue=t,t=t.dispatch=Vx.bind(null,Me,t),[a.memoizedState,t]},useRef:function(t){var s=Yt();return t={current:t},s.memoizedState=t},useState:kd,useDebugValue:gc,useDeferredValue:function(t){return Yt().memoizedState=t},useTransition:function(){var t=kd(!1),s=t[0];return t=Hx.bind(null,t[1]),Yt().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,n){var a=Me,i=Yt();if(Te){if(n===void 0)throw Error(H(407));n=n()}else{if(n=s(),Ve===null)throw Error(H(349));an&30||Xm(a,s,n)}i.memoizedState=n;var l={value:n,getSnapshot:s};return i.queue=l,Ed(eh.bind(null,a,l,t),[t]),a.flags|=2048,za(9,Zm.bind(null,a,l,n,s),void 0,null),n},useId:function(){var t=Yt(),s=Ve.identifierPrefix;if(Te){var n=as,a=ns;n=(a&~(1<<32-qt(a)-1)).toString(32)+n,s=":"+s+"R"+n,n=Ia++,0<n&&(s+="H"+n.toString(32)),s+=":"}else n=Wx++,s=":"+s+"r"+n.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},Yx={readContext:Ft,useCallback:oh,useContext:Ft,useEffect:xc,useImperativeHandle:lh,useInsertionEffect:ah,useLayoutEffect:rh,useMemo:ch,useReducer:pl,useRef:nh,useState:function(){return pl($a)},useDebugValue:gc,useDeferredValue:function(t){var s=At();return dh(s,qe.memoizedState,t)},useTransition:function(){var t=pl($a)[0],s=At().memoizedState;return[t,s]},useMutableSource:Ym,useSyncExternalStore:Jm,useId:uh,unstable_isNewReconciler:!1},Jx={readContext:Ft,useCallback:oh,useContext:Ft,useEffect:xc,useImperativeHandle:lh,useInsertionEffect:ah,useLayoutEffect:rh,useMemo:ch,useReducer:xl,useRef:nh,useState:function(){return xl($a)},useDebugValue:gc,useDeferredValue:function(t){var s=At();return qe===null?s.memoizedState=t:dh(s,qe.memoizedState,t)},useTransition:function(){var t=xl($a)[0],s=At().memoizedState;return[t,s]},useMutableSource:Ym,useSyncExternalStore:Jm,useId:uh,unstable_isNewReconciler:!1};function zt(t,s){if(t&&t.defaultProps){s=Le({},s),t=t.defaultProps;for(var n in t)s[n]===void 0&&(s[n]=t[n]);return s}return s}function ro(t,s,n,a){s=t.memoizedState,n=n(a,s),n=n==null?s:Le({},s,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Pi={isMounted:function(t){return(t=t._reactInternals)?un(t)===t:!1},enqueueSetState:function(t,s,n){t=t._reactInternals;var a=ct(),i=Ts(t),l=rs(a,i);l.payload=s,n!=null&&(l.callback=n),s=Ps(t,l,i),s!==null&&(Wt(s,t,i,a),Sr(s,t,i))},enqueueReplaceState:function(t,s,n){t=t._reactInternals;var a=ct(),i=Ts(t),l=rs(a,i);l.tag=1,l.payload=s,n!=null&&(l.callback=n),s=Ps(t,l,i),s!==null&&(Wt(s,t,i,a),Sr(s,t,i))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var n=ct(),a=Ts(t),i=rs(n,a);i.tag=2,s!=null&&(i.callback=s),s=Ps(t,i,a),s!==null&&(Wt(s,t,a,n),Sr(s,t,a))}};function Pd(t,s,n,a,i,l,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(a,l,o):s.prototype&&s.prototype.isPureReactComponent?!Oa(n,a)||!Oa(i,l):!0}function ph(t,s,n){var a=!1,i=Ls,l=s.contextType;return typeof l=="object"&&l!==null?l=Ft(l):(i=gt(s)?sn:rt.current,a=s.contextTypes,l=(a=a!=null)?Mn(t,i):Ls),s=new s(n,l),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Pi,t.stateNode=s,s._reactInternals=t,a&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=l),s}function Rd(t,s,n,a){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(n,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(n,a),s.state!==t&&Pi.enqueueReplaceState(s,s.state,null)}function io(t,s,n,a){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},cc(t);var l=s.contextType;typeof l=="object"&&l!==null?i.context=Ft(l):(l=gt(s)?sn:rt.current,i.context=Mn(t,l)),i.state=t.memoizedState,l=s.getDerivedStateFromProps,typeof l=="function"&&(ro(t,s,l,n),i.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(s=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),s!==i.state&&Pi.enqueueReplaceState(i,i.state,null),ei(t,n,i,a),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function An(t,s){try{var n="",a=s;do n+=Sp(a),a=a.return;while(a);var i=n}catch(l){i=`
Error generating stack: `+l.message+`
`+l.stack}return{value:t,source:s,stack:i,digest:null}}function gl(t,s,n){return{value:t,source:null,stack:n??null,digest:s??null}}function lo(t,s){try{console.error(s.value)}catch(n){setTimeout(function(){throw n})}}var Xx=typeof WeakMap=="function"?WeakMap:Map;function xh(t,s,n){n=rs(-1,n),n.tag=3,n.payload={element:null};var a=s.value;return n.callback=function(){ri||(ri=!0,vo=a),lo(t,s)},n}function gh(t,s,n){n=rs(-1,n),n.tag=3;var a=t.type.getDerivedStateFromError;if(typeof a=="function"){var i=s.value;n.payload=function(){return a(i)},n.callback=function(){lo(t,s)}}var l=t.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){lo(t,s),typeof a!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var o=s.stack;this.componentDidCatch(s.value,{componentStack:o!==null?o:""})}),n}function Td(t,s,n){var a=t.pingCache;if(a===null){a=t.pingCache=new Xx;var i=new Set;a.set(s,i)}else i=a.get(s),i===void 0&&(i=new Set,a.set(s,i));i.has(n)||(i.add(n),t=mg.bind(null,t,s,n),s.then(t,t))}function Od(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function Md(t,s,n,a,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===s?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(s=rs(-1,1),s.tag=2,Ps(n,s,1))),n.lanes|=1),t)}var Zx=ds.ReactCurrentOwner,ft=!1;function lt(t,s,n,a){s.child=t===null?Hm(s,null,n,a):Ln(s,t.child,n,a)}function Dd(t,s,n,a,i){n=n.render;var l=s.ref;return Rn(s,i),a=fc(t,s,n,a,l,i),n=pc(),t!==null&&!ft?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~i,cs(t,s,i)):(Te&&n&&sc(s),s.flags|=1,lt(t,s,a,i),s.child)}function Ld(t,s,n,a,i){if(t===null){var l=n.type;return typeof l=="function"&&!Sc(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(s.tag=15,s.type=l,vh(t,s,l,a,i)):(t=Tr(n.type,null,a,s,s.mode,i),t.ref=s.ref,t.return=s,s.child=t)}if(l=t.child,!(t.lanes&i)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:Oa,n(o,a)&&t.ref===s.ref)return cs(t,s,i)}return s.flags|=1,t=Os(l,a),t.ref=s.ref,t.return=s,s.child=t}function vh(t,s,n,a,i){if(t!==null){var l=t.memoizedProps;if(Oa(l,a)&&t.ref===s.ref)if(ft=!1,s.pendingProps=a=l,(t.lanes&i)!==0)t.flags&131072&&(ft=!0);else return s.lanes=t.lanes,cs(t,s,i)}return oo(t,s,n,a,i)}function jh(t,s,n){var a=s.pendingProps,i=a.children,l=t!==null?t.memoizedState:null;if(a.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Se(Sn,_t),_t|=n;else{if(!(n&1073741824))return t=l!==null?l.baseLanes|n:n,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Se(Sn,_t),_t|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=l!==null?l.baseLanes:n,Se(Sn,_t),_t|=a}else l!==null?(a=l.baseLanes|n,s.memoizedState=null):a=n,Se(Sn,_t),_t|=a;return lt(t,s,i,n),s.child}function bh(t,s){var n=s.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(s.flags|=512,s.flags|=2097152)}function oo(t,s,n,a,i){var l=gt(n)?sn:rt.current;return l=Mn(s,l),Rn(s,i),n=fc(t,s,n,a,l,i),a=pc(),t!==null&&!ft?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~i,cs(t,s,i)):(Te&&a&&sc(s),s.flags|=1,lt(t,s,n,i),s.child)}function Fd(t,s,n,a,i){if(gt(n)){var l=!0;Gr(s)}else l=!1;if(Rn(s,i),s.stateNode===null)Er(t,s),ph(s,n,a),io(s,n,a,i),a=!0;else if(t===null){var o=s.stateNode,d=s.memoizedProps;o.props=d;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ft(u):(u=gt(n)?sn:rt.current,u=Mn(s,u));var m=n.getDerivedStateFromProps,h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(d!==a||c!==u)&&Rd(s,o,a,u),gs=!1;var g=s.memoizedState;o.state=g,ei(s,a,o,i),c=s.memoizedState,d!==a||g!==c||xt.current||gs?(typeof m=="function"&&(ro(s,n,m,a),c=s.memoizedState),(d=gs||Pd(s,n,d,a,g,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(s.flags|=4194308)):(typeof o.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=c),o.props=a,o.state=c,o.context=u,a=d):(typeof o.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{o=s.stateNode,Km(t,s),d=s.memoizedProps,u=s.type===s.elementType?d:zt(s.type,d),o.props=u,h=s.pendingProps,g=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ft(c):(c=gt(n)?sn:rt.current,c=Mn(s,c));var x=n.getDerivedStateFromProps;(m=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(d!==h||g!==c)&&Rd(s,o,a,c),gs=!1,g=s.memoizedState,o.state=g,ei(s,a,o,i);var b=s.memoizedState;d!==h||g!==b||xt.current||gs?(typeof x=="function"&&(ro(s,n,x,a),b=s.memoizedState),(u=gs||Pd(s,n,u,a,g,b,c)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,b,c)),typeof o.componentDidUpdate=="function"&&(s.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof o.componentDidUpdate!="function"||d===t.memoizedProps&&g===t.memoizedState||(s.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&g===t.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=b),o.props=a,o.state=b,o.context=c,a=u):(typeof o.componentDidUpdate!="function"||d===t.memoizedProps&&g===t.memoizedState||(s.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&g===t.memoizedState||(s.flags|=1024),a=!1)}return co(t,s,n,a,l,i)}function co(t,s,n,a,i,l){bh(t,s);var o=(s.flags&128)!==0;if(!a&&!o)return i&&yd(s,n,!1),cs(t,s,l);a=s.stateNode,Zx.current=s;var d=o&&typeof n.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,t!==null&&o?(s.child=Ln(s,t.child,null,l),s.child=Ln(s,null,d,l)):lt(t,s,d,l),s.memoizedState=a.state,i&&yd(s,n,!0),s.child}function yh(t){var s=t.stateNode;s.pendingContext?bd(t,s.pendingContext,s.pendingContext!==s.context):s.context&&bd(t,s.context,!1),dc(t,s.containerInfo)}function Ad(t,s,n,a,i){return Dn(),ac(i),s.flags|=256,lt(t,s,n,a),s.child}var uo={dehydrated:null,treeContext:null,retryLane:0};function mo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Nh(t,s,n){var a=s.pendingProps,i=Oe.current,l=!1,o=(s.flags&128)!==0,d;if((d=o)||(d=t!==null&&t.memoizedState===null?!1:(i&2)!==0),d?(l=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Se(Oe,i&1),t===null)return no(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(s.mode&1?t.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(o=a.children,t=a.fallback,l?(a=s.mode,l=s.child,o={mode:"hidden",children:o},!(a&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=Oi(o,a,0,null),t=en(t,a,n,null),l.return=s,t.return=s,l.sibling=t,s.child=l,s.child.memoizedState=mo(n),s.memoizedState=uo,t):vc(s,o));if(i=t.memoizedState,i!==null&&(d=i.dehydrated,d!==null))return eg(t,s,o,a,d,i,n);if(l){l=a.fallback,o=s.mode,i=t.child,d=i.sibling;var c={mode:"hidden",children:a.children};return!(o&1)&&s.child!==i?(a=s.child,a.childLanes=0,a.pendingProps=c,s.deletions=null):(a=Os(i,c),a.subtreeFlags=i.subtreeFlags&14680064),d!==null?l=Os(d,l):(l=en(l,o,n,null),l.flags|=2),l.return=s,a.return=s,a.sibling=l,s.child=a,a=l,l=s.child,o=t.child.memoizedState,o=o===null?mo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=t.childLanes&~n,s.memoizedState=uo,a}return l=t.child,t=l.sibling,a=Os(l,{mode:"visible",children:a.children}),!(s.mode&1)&&(a.lanes=n),a.return=s,a.sibling=null,t!==null&&(n=s.deletions,n===null?(s.deletions=[t],s.flags|=16):n.push(t)),s.child=a,s.memoizedState=null,a}function vc(t,s){return s=Oi({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function fr(t,s,n,a){return a!==null&&ac(a),Ln(s,t.child,null,n),t=vc(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function eg(t,s,n,a,i,l,o){if(n)return s.flags&256?(s.flags&=-257,a=gl(Error(H(422))),fr(t,s,o,a)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(l=a.fallback,i=s.mode,a=Oi({mode:"visible",children:a.children},i,0,null),l=en(l,i,o,null),l.flags|=2,a.return=s,l.return=s,a.sibling=l,s.child=a,s.mode&1&&Ln(s,t.child,null,o),s.child.memoizedState=mo(o),s.memoizedState=uo,l);if(!(s.mode&1))return fr(t,s,o,null);if(i.data==="$!"){if(a=i.nextSibling&&i.nextSibling.dataset,a)var d=a.dgst;return a=d,l=Error(H(419)),a=gl(l,a,void 0),fr(t,s,o,a)}if(d=(o&t.childLanes)!==0,ft||d){if(a=Ve,a!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(a.suspendedLanes|o)?0:i,i!==0&&i!==l.retryLane&&(l.retryLane=i,os(t,i),Wt(a,t,i,-1))}return wc(),a=gl(Error(H(421))),fr(t,s,o,a)}return i.data==="$?"?(s.flags|=128,s.child=t.child,s=hg.bind(null,t),i._reactRetry=s,null):(t=l.treeContext,wt=Es(i.nextSibling),St=s,Te=!0,Bt=null,t!==null&&(Ot[Mt++]=ns,Ot[Mt++]=as,Ot[Mt++]=nn,ns=t.id,as=t.overflow,nn=s),s=vc(s,a.children),s.flags|=4096,s)}function Id(t,s,n){t.lanes|=s;var a=t.alternate;a!==null&&(a.lanes|=s),ao(t.return,s,n)}function vl(t,s,n,a,i){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:i}:(l.isBackwards=s,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=n,l.tailMode=i)}function _h(t,s,n){var a=s.pendingProps,i=a.revealOrder,l=a.tail;if(lt(t,s,a.children,n),a=Oe.current,a&2)a=a&1|2,s.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Id(t,n,s);else if(t.tag===19)Id(t,n,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}a&=1}if(Se(Oe,a),!(s.mode&1))s.memoizedState=null;else switch(i){case"forwards":for(n=s.child,i=null;n!==null;)t=n.alternate,t!==null&&ti(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=s.child,s.child=null):(i=n.sibling,n.sibling=null),vl(s,!1,i,n,l);break;case"backwards":for(n=null,i=s.child,s.child=null;i!==null;){if(t=i.alternate,t!==null&&ti(t)===null){s.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}vl(s,!0,n,null,l);break;case"together":vl(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Er(t,s){!(s.mode&1)&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function cs(t,s,n){if(t!==null&&(s.dependencies=t.dependencies),rn|=s.lanes,!(n&s.childLanes))return null;if(t!==null&&s.child!==t.child)throw Error(H(153));if(s.child!==null){for(t=s.child,n=Os(t,t.pendingProps),s.child=n,n.return=s;t.sibling!==null;)t=t.sibling,n=n.sibling=Os(t,t.pendingProps),n.return=s;n.sibling=null}return s.child}function tg(t,s,n){switch(s.tag){case 3:yh(s),Dn();break;case 5:Gm(s);break;case 1:gt(s.type)&&Gr(s);break;case 4:dc(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,i=s.memoizedProps.value;Se(Xr,a._currentValue),a._currentValue=i;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(Se(Oe,Oe.current&1),s.flags|=128,null):n&s.child.childLanes?Nh(t,s,n):(Se(Oe,Oe.current&1),t=cs(t,s,n),t!==null?t.sibling:null);Se(Oe,Oe.current&1);break;case 19:if(a=(n&s.childLanes)!==0,t.flags&128){if(a)return _h(t,s,n);s.flags|=128}if(i=s.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Se(Oe,Oe.current),a)break;return null;case 22:case 23:return s.lanes=0,jh(t,s,n)}return cs(t,s,n)}var wh,ho,Sh,Ch;wh=function(t,s){for(var n=s.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break;for(;n.sibling===null;){if(n.return===null||n.return===s)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ho=function(){};Sh=function(t,s,n,a){var i=t.memoizedProps;if(i!==a){t=s.stateNode,Gs(Zt.current);var l=null;switch(n){case"input":i=Dl(t,i),a=Dl(t,a),l=[];break;case"select":i=Le({},i,{value:void 0}),a=Le({},a,{value:void 0}),l=[];break;case"textarea":i=Al(t,i),a=Al(t,a),l=[];break;default:typeof i.onClick!="function"&&typeof a.onClick=="function"&&(t.onclick=Vr)}$l(n,a);var o;n=null;for(u in i)if(!a.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var d=i[u];for(o in d)d.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Sa.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in a){var c=a[u];if(d=i!=null?i[u]:void 0,a.hasOwnProperty(u)&&c!==d&&(c!=null||d!=null))if(u==="style")if(d){for(o in d)!d.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&d[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(l||(l=[]),l.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,d=d?d.__html:void 0,c!=null&&d!==c&&(l=l||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Sa.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ce("scroll",t),l||d===c||(l=[])):(l=l||[]).push(u,c))}n&&(l=l||[]).push("style",n);var u=l;(s.updateQueue=u)&&(s.flags|=4)}};Ch=function(t,s,n,a){n!==a&&(s.flags|=4)};function ra(t,s){if(!Te)switch(t.tailMode){case"hidden":s=t.tail;for(var n=null;s!==null;)s.alternate!==null&&(n=s),s=s.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:a.sibling=null}}function st(t){var s=t.alternate!==null&&t.alternate.child===t.child,n=0,a=0;if(s)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags&14680064,a|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,a|=i.subtreeFlags,a|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=a,t.childLanes=n,s}function sg(t,s,n){var a=s.pendingProps;switch(nc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(s),null;case 1:return gt(s.type)&&Kr(),st(s),null;case 3:return a=s.stateNode,Fn(),ke(xt),ke(rt),mc(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(mr(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Bt!==null&&(yo(Bt),Bt=null))),ho(t,s),st(s),null;case 5:uc(s);var i=Gs(Aa.current);if(n=s.type,t!==null&&s.stateNode!=null)Sh(t,s,n,a,i),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(H(166));return st(s),null}if(t=Gs(Zt.current),mr(s)){a=s.stateNode,n=s.type;var l=s.memoizedProps;switch(a[Jt]=s,a[La]=l,t=(s.mode&1)!==0,n){case"dialog":Ce("cancel",a),Ce("close",a);break;case"iframe":case"object":case"embed":Ce("load",a);break;case"video":case"audio":for(i=0;i<ua.length;i++)Ce(ua[i],a);break;case"source":Ce("error",a);break;case"img":case"image":case"link":Ce("error",a),Ce("load",a);break;case"details":Ce("toggle",a);break;case"input":Vc(a,l),Ce("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!l.multiple},Ce("invalid",a);break;case"textarea":Gc(a,l),Ce("invalid",a)}$l(n,l),i=null;for(var o in l)if(l.hasOwnProperty(o)){var d=l[o];o==="children"?typeof d=="string"?a.textContent!==d&&(l.suppressHydrationWarning!==!0&&ur(a.textContent,d,t),i=["children",d]):typeof d=="number"&&a.textContent!==""+d&&(l.suppressHydrationWarning!==!0&&ur(a.textContent,d,t),i=["children",""+d]):Sa.hasOwnProperty(o)&&d!=null&&o==="onScroll"&&Ce("scroll",a)}switch(n){case"input":nr(a),Kc(a,l,!0);break;case"textarea":nr(a),Yc(a);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(a.onclick=Vr)}a=i,s.updateQueue=a,a!==null&&(s.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=em(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof a.is=="string"?t=o.createElement(n,{is:a.is}):(t=o.createElement(n),n==="select"&&(o=t,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):t=o.createElementNS(t,n),t[Jt]=s,t[La]=a,wh(t,s,!1,!1),s.stateNode=t;e:{switch(o=zl(n,a),n){case"dialog":Ce("cancel",t),Ce("close",t),i=a;break;case"iframe":case"object":case"embed":Ce("load",t),i=a;break;case"video":case"audio":for(i=0;i<ua.length;i++)Ce(ua[i],t);i=a;break;case"source":Ce("error",t),i=a;break;case"img":case"image":case"link":Ce("error",t),Ce("load",t),i=a;break;case"details":Ce("toggle",t),i=a;break;case"input":Vc(t,a),i=Dl(t,a),Ce("invalid",t);break;case"option":i=a;break;case"select":t._wrapperState={wasMultiple:!!a.multiple},i=Le({},a,{value:void 0}),Ce("invalid",t);break;case"textarea":Gc(t,a),i=Al(t,a),Ce("invalid",t);break;default:i=a}$l(n,i),d=i;for(l in d)if(d.hasOwnProperty(l)){var c=d[l];l==="style"?nm(t,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&tm(t,c)):l==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Ca(t,c):typeof c=="number"&&Ca(t,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Sa.hasOwnProperty(l)?c!=null&&l==="onScroll"&&Ce("scroll",t):c!=null&&Bo(t,l,c,o))}switch(n){case"input":nr(t),Kc(t,a,!1);break;case"textarea":nr(t),Yc(t);break;case"option":a.value!=null&&t.setAttribute("value",""+Ds(a.value));break;case"select":t.multiple=!!a.multiple,l=a.value,l!=null?Cn(t,!!a.multiple,l,!1):a.defaultValue!=null&&Cn(t,!!a.multiple,a.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vr)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return st(s),null;case 6:if(t&&s.stateNode!=null)Ch(t,s,t.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(H(166));if(n=Gs(Aa.current),Gs(Zt.current),mr(s)){if(a=s.stateNode,n=s.memoizedProps,a[Jt]=s,(l=a.nodeValue!==n)&&(t=St,t!==null))switch(t.tag){case 3:ur(a.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ur(a.nodeValue,n,(t.mode&1)!==0)}l&&(s.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[Jt]=s,s.stateNode=a}return st(s),null;case 13:if(ke(Oe),a=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Te&&wt!==null&&s.mode&1&&!(s.flags&128))qm(),Dn(),s.flags|=98560,l=!1;else if(l=mr(s),a!==null&&a.dehydrated!==null){if(t===null){if(!l)throw Error(H(318));if(l=s.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(H(317));l[Jt]=s}else Dn(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;st(s),l=!1}else Bt!==null&&(yo(Bt),Bt=null),l=!0;if(!l)return s.flags&65536?s:null}return s.flags&128?(s.lanes=n,s):(a=a!==null,a!==(t!==null&&t.memoizedState!==null)&&a&&(s.child.flags|=8192,s.mode&1&&(t===null||Oe.current&1?We===0&&(We=3):wc())),s.updateQueue!==null&&(s.flags|=4),st(s),null);case 4:return Fn(),ho(t,s),t===null&&Ma(s.stateNode.containerInfo),st(s),null;case 10:return lc(s.type._context),st(s),null;case 17:return gt(s.type)&&Kr(),st(s),null;case 19:if(ke(Oe),l=s.memoizedState,l===null)return st(s),null;if(a=(s.flags&128)!==0,o=l.rendering,o===null)if(a)ra(l,!1);else{if(We!==0||t!==null&&t.flags&128)for(t=s.child;t!==null;){if(o=ti(t),o!==null){for(s.flags|=128,ra(l,!1),a=o.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=n,n=s.child;n!==null;)l=n,t=a,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=t,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,t=o.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Se(Oe,Oe.current&1|2),s.child}t=t.sibling}l.tail!==null&&Ae()>In&&(s.flags|=128,a=!0,ra(l,!1),s.lanes=4194304)}else{if(!a)if(t=ti(o),t!==null){if(s.flags|=128,a=!0,n=t.updateQueue,n!==null&&(s.updateQueue=n,s.flags|=4),ra(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!Te)return st(s),null}else 2*Ae()-l.renderingStartTime>In&&n!==1073741824&&(s.flags|=128,a=!0,ra(l,!1),s.lanes=4194304);l.isBackwards?(o.sibling=s.child,s.child=o):(n=l.last,n!==null?n.sibling=o:s.child=o,l.last=o)}return l.tail!==null?(s=l.tail,l.rendering=s,l.tail=s.sibling,l.renderingStartTime=Ae(),s.sibling=null,n=Oe.current,Se(Oe,a?n&1|2:n&1),s):(st(s),null);case 22:case 23:return _c(),a=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==a&&(s.flags|=8192),a&&s.mode&1?_t&1073741824&&(st(s),s.subtreeFlags&6&&(s.flags|=8192)):st(s),null;case 24:return null;case 25:return null}throw Error(H(156,s.tag))}function ng(t,s){switch(nc(s),s.tag){case 1:return gt(s.type)&&Kr(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return Fn(),ke(xt),ke(rt),mc(),t=s.flags,t&65536&&!(t&128)?(s.flags=t&-65537|128,s):null;case 5:return uc(s),null;case 13:if(ke(Oe),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(H(340));Dn()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return ke(Oe),null;case 4:return Fn(),null;case 10:return lc(s.type._context),null;case 22:case 23:return _c(),null;case 24:return null;default:return null}}var pr=!1,nt=!1,ag=typeof WeakSet=="function"?WeakSet:Set,ne=null;function wn(t,s){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){Fe(t,s,a)}else n.current=null}function fo(t,s,n){try{n()}catch(a){Fe(t,s,a)}}var $d=!1;function rg(t,s){if(Yl=qr,t=Tm(),tc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var i=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,d=-1,c=-1,u=0,m=0,h=t,g=null;t:for(;;){for(var x;h!==n||i!==0&&h.nodeType!==3||(d=o+i),h!==l||a!==0&&h.nodeType!==3||(c=o+a),h.nodeType===3&&(o+=h.nodeValue.length),(x=h.firstChild)!==null;)g=h,h=x;for(;;){if(h===t)break t;if(g===n&&++u===i&&(d=o),g===l&&++m===a&&(c=o),(x=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=x}n=d===-1||c===-1?null:{start:d,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jl={focusedElem:t,selectionRange:n},qr=!1,ne=s;ne!==null;)if(s=ne,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,ne=t;else for(;ne!==null;){s=ne;try{var b=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var _=b.memoizedProps,j=b.memoizedState,f=s.stateNode,p=f.getSnapshotBeforeUpdate(s.elementType===s.type?_:zt(s.type,_),j);f.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=s.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(N){Fe(s,s.return,N)}if(t=s.sibling,t!==null){t.return=s.return,ne=t;break}ne=s.return}return b=$d,$d=!1,b}function ja(t,s,n){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var i=a=a.next;do{if((i.tag&t)===t){var l=i.destroy;i.destroy=void 0,l!==void 0&&fo(s,n,l)}i=i.next}while(i!==a)}}function Ri(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var n=s=s.next;do{if((n.tag&t)===t){var a=n.create;n.destroy=a()}n=n.next}while(n!==s)}}function po(t){var s=t.ref;if(s!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof s=="function"?s(t):s.current=t}}function kh(t){var s=t.alternate;s!==null&&(t.alternate=null,kh(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[Jt],delete s[La],delete s[eo],delete s[Ux],delete s[Bx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Eh(t){return t.tag===5||t.tag===3||t.tag===4}function zd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Eh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xo(t,s,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,s?n.nodeType===8?n.parentNode.insertBefore(t,s):n.insertBefore(t,s):(n.nodeType===8?(s=n.parentNode,s.insertBefore(t,n)):(s=n,s.appendChild(t)),n=n._reactRootContainer,n!=null||s.onclick!==null||(s.onclick=Vr));else if(a!==4&&(t=t.child,t!==null))for(xo(t,s,n),t=t.sibling;t!==null;)xo(t,s,n),t=t.sibling}function go(t,s,n){var a=t.tag;if(a===5||a===6)t=t.stateNode,s?n.insertBefore(t,s):n.appendChild(t);else if(a!==4&&(t=t.child,t!==null))for(go(t,s,n),t=t.sibling;t!==null;)go(t,s,n),t=t.sibling}var Ge=null,Ut=!1;function ps(t,s,n){for(n=n.child;n!==null;)Ph(t,s,n),n=n.sibling}function Ph(t,s,n){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Ni,n)}catch{}switch(n.tag){case 5:nt||wn(n,s);case 6:var a=Ge,i=Ut;Ge=null,ps(t,s,n),Ge=a,Ut=i,Ge!==null&&(Ut?(t=Ge,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ge.removeChild(n.stateNode));break;case 18:Ge!==null&&(Ut?(t=Ge,n=n.stateNode,t.nodeType===8?ul(t.parentNode,n):t.nodeType===1&&ul(t,n),Ra(t)):ul(Ge,n.stateNode));break;case 4:a=Ge,i=Ut,Ge=n.stateNode.containerInfo,Ut=!0,ps(t,s,n),Ge=a,Ut=i;break;case 0:case 11:case 14:case 15:if(!nt&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){i=a=a.next;do{var l=i,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&fo(n,s,o),i=i.next}while(i!==a)}ps(t,s,n);break;case 1:if(!nt&&(wn(n,s),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(d){Fe(n,s,d)}ps(t,s,n);break;case 21:ps(t,s,n);break;case 22:n.mode&1?(nt=(a=nt)||n.memoizedState!==null,ps(t,s,n),nt=a):ps(t,s,n);break;default:ps(t,s,n)}}function Ud(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ag),s.forEach(function(a){var i=fg.bind(null,t,a);n.has(a)||(n.add(a),a.then(i,i))})}}function $t(t,s){var n=s.deletions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a];try{var l=t,o=s,d=o;e:for(;d!==null;){switch(d.tag){case 5:Ge=d.stateNode,Ut=!1;break e;case 3:Ge=d.stateNode.containerInfo,Ut=!0;break e;case 4:Ge=d.stateNode.containerInfo,Ut=!0;break e}d=d.return}if(Ge===null)throw Error(H(160));Ph(l,o,i),Ge=null,Ut=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Fe(i,s,u)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Rh(s,t),s=s.sibling}function Rh(t,s){var n=t.alternate,a=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if($t(s,t),Kt(t),a&4){try{ja(3,t,t.return),Ri(3,t)}catch(_){Fe(t,t.return,_)}try{ja(5,t,t.return)}catch(_){Fe(t,t.return,_)}}break;case 1:$t(s,t),Kt(t),a&512&&n!==null&&wn(n,n.return);break;case 5:if($t(s,t),Kt(t),a&512&&n!==null&&wn(n,n.return),t.flags&32){var i=t.stateNode;try{Ca(i,"")}catch(_){Fe(t,t.return,_)}}if(a&4&&(i=t.stateNode,i!=null)){var l=t.memoizedProps,o=n!==null?n.memoizedProps:l,d=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{d==="input"&&l.type==="radio"&&l.name!=null&&Xu(i,l),zl(d,o);var u=zl(d,l);for(o=0;o<c.length;o+=2){var m=c[o],h=c[o+1];m==="style"?nm(i,h):m==="dangerouslySetInnerHTML"?tm(i,h):m==="children"?Ca(i,h):Bo(i,m,h,u)}switch(d){case"input":Ll(i,l);break;case"textarea":Zu(i,l);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!l.multiple;var x=l.value;x!=null?Cn(i,!!l.multiple,x,!1):g!==!!l.multiple&&(l.defaultValue!=null?Cn(i,!!l.multiple,l.defaultValue,!0):Cn(i,!!l.multiple,l.multiple?[]:"",!1))}i[La]=l}catch(_){Fe(t,t.return,_)}}break;case 6:if($t(s,t),Kt(t),a&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,l=t.memoizedProps;try{i.nodeValue=l}catch(_){Fe(t,t.return,_)}}break;case 3:if($t(s,t),Kt(t),a&4&&n!==null&&n.memoizedState.isDehydrated)try{Ra(s.containerInfo)}catch(_){Fe(t,t.return,_)}break;case 4:$t(s,t),Kt(t);break;case 13:$t(s,t),Kt(t),i=t.child,i.flags&8192&&(l=i.memoizedState!==null,i.stateNode.isHidden=l,!l||i.alternate!==null&&i.alternate.memoizedState!==null||(yc=Ae())),a&4&&Ud(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(nt=(u=nt)||m,$t(s,t),nt=u):$t(s,t),Kt(t),a&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!m&&t.mode&1)for(ne=t,m=t.child;m!==null;){for(h=ne=m;ne!==null;){switch(g=ne,x=g.child,g.tag){case 0:case 11:case 14:case 15:ja(4,g,g.return);break;case 1:wn(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){a=g,n=g.return;try{s=a,b.props=s.memoizedProps,b.state=s.memoizedState,b.componentWillUnmount()}catch(_){Fe(a,n,_)}}break;case 5:wn(g,g.return);break;case 22:if(g.memoizedState!==null){Qd(h);continue}}x!==null?(x.return=g,ne=x):Qd(h)}m=m.sibling}e:for(m=null,h=t;;){if(h.tag===5){if(m===null){m=h;try{i=h.stateNode,u?(l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(d=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,d.style.display=sm("display",o))}catch(_){Fe(t,t.return,_)}}}else if(h.tag===6){if(m===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Fe(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;m===h&&(m=null),h=h.return}m===h&&(m=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:$t(s,t),Kt(t),a&4&&Ud(t);break;case 21:break;default:$t(s,t),Kt(t)}}function Kt(t){var s=t.flags;if(s&2){try{e:{for(var n=t.return;n!==null;){if(Eh(n)){var a=n;break e}n=n.return}throw Error(H(160))}switch(a.tag){case 5:var i=a.stateNode;a.flags&32&&(Ca(i,""),a.flags&=-33);var l=zd(t);go(t,l,i);break;case 3:case 4:var o=a.stateNode.containerInfo,d=zd(t);xo(t,d,o);break;default:throw Error(H(161))}}catch(c){Fe(t,t.return,c)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function ig(t,s,n){ne=t,Th(t)}function Th(t,s,n){for(var a=(t.mode&1)!==0;ne!==null;){var i=ne,l=i.child;if(i.tag===22&&a){var o=i.memoizedState!==null||pr;if(!o){var d=i.alternate,c=d!==null&&d.memoizedState!==null||nt;d=pr;var u=nt;if(pr=o,(nt=c)&&!u)for(ne=i;ne!==null;)o=ne,c=o.child,o.tag===22&&o.memoizedState!==null?qd(i):c!==null?(c.return=o,ne=c):qd(i);for(;l!==null;)ne=l,Th(l),l=l.sibling;ne=i,pr=d,nt=u}Bd(t)}else i.subtreeFlags&8772&&l!==null?(l.return=i,ne=l):Bd(t)}}function Bd(t){for(;ne!==null;){var s=ne;if(s.flags&8772){var n=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:nt||Ri(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!nt)if(n===null)a.componentDidMount();else{var i=s.elementType===s.type?n.memoizedProps:zt(s.type,n.memoizedProps);a.componentDidUpdate(i,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var l=s.updateQueue;l!==null&&Cd(s,l,a);break;case 3:var o=s.updateQueue;if(o!==null){if(n=null,s.child!==null)switch(s.child.tag){case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}Cd(s,o,n)}break;case 5:var d=s.stateNode;if(n===null&&s.flags&4){n=d;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var u=s.alternate;if(u!==null){var m=u.memoizedState;if(m!==null){var h=m.dehydrated;h!==null&&Ra(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}nt||s.flags&512&&po(s)}catch(g){Fe(s,s.return,g)}}if(s===t){ne=null;break}if(n=s.sibling,n!==null){n.return=s.return,ne=n;break}ne=s.return}}function Qd(t){for(;ne!==null;){var s=ne;if(s===t){ne=null;break}var n=s.sibling;if(n!==null){n.return=s.return,ne=n;break}ne=s.return}}function qd(t){for(;ne!==null;){var s=ne;try{switch(s.tag){case 0:case 11:case 15:var n=s.return;try{Ri(4,s)}catch(c){Fe(s,n,c)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var i=s.return;try{a.componentDidMount()}catch(c){Fe(s,i,c)}}var l=s.return;try{po(s)}catch(c){Fe(s,l,c)}break;case 5:var o=s.return;try{po(s)}catch(c){Fe(s,o,c)}}}catch(c){Fe(s,s.return,c)}if(s===t){ne=null;break}var d=s.sibling;if(d!==null){d.return=s.return,ne=d;break}ne=s.return}}var lg=Math.ceil,ai=ds.ReactCurrentDispatcher,jc=ds.ReactCurrentOwner,Lt=ds.ReactCurrentBatchConfig,be=0,Ve=null,Be=null,Xe=0,_t=0,Sn=As(0),We=0,Ua=null,rn=0,Ti=0,bc=0,ba=null,ht=null,yc=0,In=1/0,ts=null,ri=!1,vo=null,Rs=null,xr=!1,Ns=null,ii=0,ya=0,jo=null,Pr=-1,Rr=0;function ct(){return be&6?Ae():Pr!==-1?Pr:Pr=Ae()}function Ts(t){return t.mode&1?be&2&&Xe!==0?Xe&-Xe:qx.transition!==null?(Rr===0&&(Rr=pm()),Rr):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:Nm(t.type)),t):1}function Wt(t,s,n,a){if(50<ya)throw ya=0,jo=null,Error(H(185));Ha(t,n,a),(!(be&2)||t!==Ve)&&(t===Ve&&(!(be&2)&&(Ti|=n),We===4&&bs(t,Xe)),vt(t,a),n===1&&be===0&&!(s.mode&1)&&(In=Ae()+500,ki&&Is()))}function vt(t,s){var n=t.callbackNode;qp(t,s);var a=Qr(t,t===Ve?Xe:0);if(a===0)n!==null&&Zc(n),t.callbackNode=null,t.callbackPriority=0;else if(s=a&-a,t.callbackPriority!==s){if(n!=null&&Zc(n),s===1)t.tag===0?Qx(Wd.bind(null,t)):Um(Wd.bind(null,t)),$x(function(){!(be&6)&&Is()}),n=null;else{switch(xm(a)){case 1:n=Vo;break;case 4:n=hm;break;case 16:n=Br;break;case 536870912:n=fm;break;default:n=Br}n=$h(n,Oh.bind(null,t))}t.callbackPriority=s,t.callbackNode=n}}function Oh(t,s){if(Pr=-1,Rr=0,be&6)throw Error(H(327));var n=t.callbackNode;if(Tn()&&t.callbackNode!==n)return null;var a=Qr(t,t===Ve?Xe:0);if(a===0)return null;if(a&30||a&t.expiredLanes||s)s=li(t,a);else{s=a;var i=be;be|=2;var l=Dh();(Ve!==t||Xe!==s)&&(ts=null,In=Ae()+500,Zs(t,s));do try{dg();break}catch(d){Mh(t,d)}while(!0);ic(),ai.current=l,be=i,Be!==null?s=0:(Ve=null,Xe=0,s=We)}if(s!==0){if(s===2&&(i=Wl(t),i!==0&&(a=i,s=bo(t,i))),s===1)throw n=Ua,Zs(t,0),bs(t,a),vt(t,Ae()),n;if(s===6)bs(t,a);else{if(i=t.current.alternate,!(a&30)&&!og(i)&&(s=li(t,a),s===2&&(l=Wl(t),l!==0&&(a=l,s=bo(t,l))),s===1))throw n=Ua,Zs(t,0),bs(t,a),vt(t,Ae()),n;switch(t.finishedWork=i,t.finishedLanes=a,s){case 0:case 1:throw Error(H(345));case 2:Ws(t,ht,ts);break;case 3:if(bs(t,a),(a&130023424)===a&&(s=yc+500-Ae(),10<s)){if(Qr(t,0)!==0)break;if(i=t.suspendedLanes,(i&a)!==a){ct(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Zl(Ws.bind(null,t,ht,ts),s);break}Ws(t,ht,ts);break;case 4:if(bs(t,a),(a&4194240)===a)break;for(s=t.eventTimes,i=-1;0<a;){var o=31-qt(a);l=1<<o,o=s[o],o>i&&(i=o),a&=~l}if(a=i,a=Ae()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*lg(a/1960))-a,10<a){t.timeoutHandle=Zl(Ws.bind(null,t,ht,ts),a);break}Ws(t,ht,ts);break;case 5:Ws(t,ht,ts);break;default:throw Error(H(329))}}}return vt(t,Ae()),t.callbackNode===n?Oh.bind(null,t):null}function bo(t,s){var n=ba;return t.current.memoizedState.isDehydrated&&(Zs(t,s).flags|=256),t=li(t,s),t!==2&&(s=ht,ht=n,s!==null&&yo(s)),t}function yo(t){ht===null?ht=t:ht.push.apply(ht,t)}function og(t){for(var s=t;;){if(s.flags&16384){var n=s.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var i=n[a],l=i.getSnapshot;i=i.value;try{if(!Ht(l(),i))return!1}catch{return!1}}}if(n=s.child,s.subtreeFlags&16384&&n!==null)n.return=s,s=n;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function bs(t,s){for(s&=~bc,s&=~Ti,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var n=31-qt(s),a=1<<n;t[n]=-1,s&=~a}}function Wd(t){if(be&6)throw Error(H(327));Tn();var s=Qr(t,0);if(!(s&1))return vt(t,Ae()),null;var n=li(t,s);if(t.tag!==0&&n===2){var a=Wl(t);a!==0&&(s=a,n=bo(t,a))}if(n===1)throw n=Ua,Zs(t,0),bs(t,s),vt(t,Ae()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,Ws(t,ht,ts),vt(t,Ae()),null}function Nc(t,s){var n=be;be|=1;try{return t(s)}finally{be=n,be===0&&(In=Ae()+500,ki&&Is())}}function ln(t){Ns!==null&&Ns.tag===0&&!(be&6)&&Tn();var s=be;be|=1;var n=Lt.transition,a=Ne;try{if(Lt.transition=null,Ne=1,t)return t()}finally{Ne=a,Lt.transition=n,be=s,!(be&6)&&Is()}}function _c(){_t=Sn.current,ke(Sn)}function Zs(t,s){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ix(n)),Be!==null)for(n=Be.return;n!==null;){var a=n;switch(nc(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Kr();break;case 3:Fn(),ke(xt),ke(rt),mc();break;case 5:uc(a);break;case 4:Fn();break;case 13:ke(Oe);break;case 19:ke(Oe);break;case 10:lc(a.type._context);break;case 22:case 23:_c()}n=n.return}if(Ve=t,Be=t=Os(t.current,null),Xe=_t=s,We=0,Ua=null,bc=Ti=rn=0,ht=ba=null,Ks!==null){for(s=0;s<Ks.length;s++)if(n=Ks[s],a=n.interleaved,a!==null){n.interleaved=null;var i=a.next,l=n.pending;if(l!==null){var o=l.next;l.next=i,a.next=o}n.pending=a}Ks=null}return t}function Mh(t,s){do{var n=Be;try{if(ic(),Cr.current=ni,si){for(var a=Me.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}si=!1}if(an=0,He=qe=Me=null,va=!1,Ia=0,jc.current=null,n===null||n.return===null){We=1,Ua=s,Be=null;break}e:{var l=t,o=n.return,d=n,c=s;if(s=Xe,d.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,m=d,h=m.tag;if(!(m.mode&1)&&(h===0||h===11||h===15)){var g=m.alternate;g?(m.updateQueue=g.updateQueue,m.memoizedState=g.memoizedState,m.lanes=g.lanes):(m.updateQueue=null,m.memoizedState=null)}var x=Od(o);if(x!==null){x.flags&=-257,Md(x,o,d,l,s),x.mode&1&&Td(l,u,s),s=x,c=u;var b=s.updateQueue;if(b===null){var _=new Set;_.add(c),s.updateQueue=_}else b.add(c);break e}else{if(!(s&1)){Td(l,u,s),wc();break e}c=Error(H(426))}}else if(Te&&d.mode&1){var j=Od(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Md(j,o,d,l,s),ac(An(c,d));break e}}l=c=An(c,d),We!==4&&(We=2),ba===null?ba=[l]:ba.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,s&=-s,l.lanes|=s;var f=xh(l,c,s);Sd(l,f);break e;case 1:d=c;var p=l.type,v=l.stateNode;if(!(l.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Rs===null||!Rs.has(v)))){l.flags|=65536,s&=-s,l.lanes|=s;var N=gh(l,d,s);Sd(l,N);break e}}l=l.return}while(l!==null)}Fh(n)}catch(y){s=y,Be===n&&n!==null&&(Be=n=n.return);continue}break}while(!0)}function Dh(){var t=ai.current;return ai.current=ni,t===null?ni:t}function wc(){(We===0||We===3||We===2)&&(We=4),Ve===null||!(rn&268435455)&&!(Ti&268435455)||bs(Ve,Xe)}function li(t,s){var n=be;be|=2;var a=Dh();(Ve!==t||Xe!==s)&&(ts=null,Zs(t,s));do try{cg();break}catch(i){Mh(t,i)}while(!0);if(ic(),be=n,ai.current=a,Be!==null)throw Error(H(261));return Ve=null,Xe=0,We}function cg(){for(;Be!==null;)Lh(Be)}function dg(){for(;Be!==null&&!Lp();)Lh(Be)}function Lh(t){var s=Ih(t.alternate,t,_t);t.memoizedProps=t.pendingProps,s===null?Fh(t):Be=s,jc.current=null}function Fh(t){var s=t;do{var n=s.alternate;if(t=s.return,s.flags&32768){if(n=ng(n,s),n!==null){n.flags&=32767,Be=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{We=6,Be=null;return}}else if(n=sg(n,s,_t),n!==null){Be=n;return}if(s=s.sibling,s!==null){Be=s;return}Be=s=t}while(s!==null);We===0&&(We=5)}function Ws(t,s,n){var a=Ne,i=Lt.transition;try{Lt.transition=null,Ne=1,ug(t,s,n,a)}finally{Lt.transition=i,Ne=a}return null}function ug(t,s,n,a){do Tn();while(Ns!==null);if(be&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var l=n.lanes|n.childLanes;if(Wp(t,l),t===Ve&&(Be=Ve=null,Xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xr||(xr=!0,$h(Br,function(){return Tn(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=Lt.transition,Lt.transition=null;var o=Ne;Ne=1;var d=be;be|=4,jc.current=null,rg(t,n),Rh(n,t),Tx(Jl),qr=!!Yl,Jl=Yl=null,t.current=n,ig(n),Fp(),be=d,Ne=o,Lt.transition=l}else t.current=n;if(xr&&(xr=!1,Ns=t,ii=i),l=t.pendingLanes,l===0&&(Rs=null),$p(n.stateNode),vt(t,Ae()),s!==null)for(a=t.onRecoverableError,n=0;n<s.length;n++)i=s[n],a(i.value,{componentStack:i.stack,digest:i.digest});if(ri)throw ri=!1,t=vo,vo=null,t;return ii&1&&t.tag!==0&&Tn(),l=t.pendingLanes,l&1?t===jo?ya++:(ya=0,jo=t):ya=0,Is(),null}function Tn(){if(Ns!==null){var t=xm(ii),s=Lt.transition,n=Ne;try{if(Lt.transition=null,Ne=16>t?16:t,Ns===null)var a=!1;else{if(t=Ns,Ns=null,ii=0,be&6)throw Error(H(331));var i=be;for(be|=4,ne=t.current;ne!==null;){var l=ne,o=l.child;if(ne.flags&16){var d=l.deletions;if(d!==null){for(var c=0;c<d.length;c++){var u=d[c];for(ne=u;ne!==null;){var m=ne;switch(m.tag){case 0:case 11:case 15:ja(8,m,l)}var h=m.child;if(h!==null)h.return=m,ne=h;else for(;ne!==null;){m=ne;var g=m.sibling,x=m.return;if(kh(m),m===u){ne=null;break}if(g!==null){g.return=x,ne=g;break}ne=x}}}var b=l.alternate;if(b!==null){var _=b.child;if(_!==null){b.child=null;do{var j=_.sibling;_.sibling=null,_=j}while(_!==null)}}ne=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,ne=o;else e:for(;ne!==null;){if(l=ne,l.flags&2048)switch(l.tag){case 0:case 11:case 15:ja(9,l,l.return)}var f=l.sibling;if(f!==null){f.return=l.return,ne=f;break e}ne=l.return}}var p=t.current;for(ne=p;ne!==null;){o=ne;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,ne=v;else e:for(o=p;ne!==null;){if(d=ne,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:Ri(9,d)}}catch(y){Fe(d,d.return,y)}if(d===o){ne=null;break e}var N=d.sibling;if(N!==null){N.return=d.return,ne=N;break e}ne=d.return}}if(be=i,Is(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Ni,t)}catch{}a=!0}return a}finally{Ne=n,Lt.transition=s}}return!1}function Hd(t,s,n){s=An(n,s),s=xh(t,s,1),t=Ps(t,s,1),s=ct(),t!==null&&(Ha(t,1,s),vt(t,s))}function Fe(t,s,n){if(t.tag===3)Hd(t,t,n);else for(;s!==null;){if(s.tag===3){Hd(s,t,n);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Rs===null||!Rs.has(a))){t=An(n,t),t=gh(s,t,1),s=Ps(s,t,1),t=ct(),s!==null&&(Ha(s,1,t),vt(s,t));break}}s=s.return}}function mg(t,s,n){var a=t.pingCache;a!==null&&a.delete(s),s=ct(),t.pingedLanes|=t.suspendedLanes&n,Ve===t&&(Xe&n)===n&&(We===4||We===3&&(Xe&130023424)===Xe&&500>Ae()-yc?Zs(t,0):bc|=n),vt(t,s)}function Ah(t,s){s===0&&(t.mode&1?(s=ir,ir<<=1,!(ir&130023424)&&(ir=4194304)):s=1);var n=ct();t=os(t,s),t!==null&&(Ha(t,s,n),vt(t,n))}function hg(t){var s=t.memoizedState,n=0;s!==null&&(n=s.retryLane),Ah(t,n)}function fg(t,s){var n=0;switch(t.tag){case 13:var a=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:a=t.stateNode;break;default:throw Error(H(314))}a!==null&&a.delete(s),Ah(t,n)}var Ih;Ih=function(t,s,n){if(t!==null)if(t.memoizedProps!==s.pendingProps||xt.current)ft=!0;else{if(!(t.lanes&n)&&!(s.flags&128))return ft=!1,tg(t,s,n);ft=!!(t.flags&131072)}else ft=!1,Te&&s.flags&1048576&&Bm(s,Jr,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;Er(t,s),t=s.pendingProps;var i=Mn(s,rt.current);Rn(s,n),i=fc(null,s,a,t,i,n);var l=pc();return s.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,gt(a)?(l=!0,Gr(s)):l=!1,s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,cc(s),i.updater=Pi,s.stateNode=i,i._reactInternals=s,io(s,a,t,n),s=co(null,s,a,!0,l,n)):(s.tag=0,Te&&l&&sc(s),lt(null,s,i,n),s=s.child),s;case 16:a=s.elementType;e:{switch(Er(t,s),t=s.pendingProps,i=a._init,a=i(a._payload),s.type=a,i=s.tag=xg(a),t=zt(a,t),i){case 0:s=oo(null,s,a,t,n);break e;case 1:s=Fd(null,s,a,t,n);break e;case 11:s=Dd(null,s,a,t,n);break e;case 14:s=Ld(null,s,a,zt(a.type,t),n);break e}throw Error(H(306,a,""))}return s;case 0:return a=s.type,i=s.pendingProps,i=s.elementType===a?i:zt(a,i),oo(t,s,a,i,n);case 1:return a=s.type,i=s.pendingProps,i=s.elementType===a?i:zt(a,i),Fd(t,s,a,i,n);case 3:e:{if(yh(s),t===null)throw Error(H(387));a=s.pendingProps,l=s.memoizedState,i=l.element,Km(t,s),ei(s,a,null,n);var o=s.memoizedState;if(a=o.element,l.isDehydrated)if(l={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},s.updateQueue.baseState=l,s.memoizedState=l,s.flags&256){i=An(Error(H(423)),s),s=Ad(t,s,a,n,i);break e}else if(a!==i){i=An(Error(H(424)),s),s=Ad(t,s,a,n,i);break e}else for(wt=Es(s.stateNode.containerInfo.firstChild),St=s,Te=!0,Bt=null,n=Hm(s,null,a,n),s.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Dn(),a===i){s=cs(t,s,n);break e}lt(t,s,a,n)}s=s.child}return s;case 5:return Gm(s),t===null&&no(s),a=s.type,i=s.pendingProps,l=t!==null?t.memoizedProps:null,o=i.children,Xl(a,i)?o=null:l!==null&&Xl(a,l)&&(s.flags|=32),bh(t,s),lt(t,s,o,n),s.child;case 6:return t===null&&no(s),null;case 13:return Nh(t,s,n);case 4:return dc(s,s.stateNode.containerInfo),a=s.pendingProps,t===null?s.child=Ln(s,null,a,n):lt(t,s,a,n),s.child;case 11:return a=s.type,i=s.pendingProps,i=s.elementType===a?i:zt(a,i),Dd(t,s,a,i,n);case 7:return lt(t,s,s.pendingProps,n),s.child;case 8:return lt(t,s,s.pendingProps.children,n),s.child;case 12:return lt(t,s,s.pendingProps.children,n),s.child;case 10:e:{if(a=s.type._context,i=s.pendingProps,l=s.memoizedProps,o=i.value,Se(Xr,a._currentValue),a._currentValue=o,l!==null)if(Ht(l.value,o)){if(l.children===i.children&&!xt.current){s=cs(t,s,n);break e}}else for(l=s.child,l!==null&&(l.return=s);l!==null;){var d=l.dependencies;if(d!==null){o=l.child;for(var c=d.firstContext;c!==null;){if(c.context===a){if(l.tag===1){c=rs(-1,n&-n),c.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var m=u.pending;m===null?c.next=c:(c.next=m.next,m.next=c),u.pending=c}}l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),ao(l.return,n,s),d.lanes|=n;break}c=c.next}}else if(l.tag===10)o=l.type===s.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(H(341));o.lanes|=n,d=o.alternate,d!==null&&(d.lanes|=n),ao(o,n,s),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===s){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}lt(t,s,i.children,n),s=s.child}return s;case 9:return i=s.type,a=s.pendingProps.children,Rn(s,n),i=Ft(i),a=a(i),s.flags|=1,lt(t,s,a,n),s.child;case 14:return a=s.type,i=zt(a,s.pendingProps),i=zt(a.type,i),Ld(t,s,a,i,n);case 15:return vh(t,s,s.type,s.pendingProps,n);case 17:return a=s.type,i=s.pendingProps,i=s.elementType===a?i:zt(a,i),Er(t,s),s.tag=1,gt(a)?(t=!0,Gr(s)):t=!1,Rn(s,n),ph(s,a,i),io(s,a,i,n),co(null,s,a,!0,t,n);case 19:return _h(t,s,n);case 22:return jh(t,s,n)}throw Error(H(156,s.tag))};function $h(t,s){return mm(t,s)}function pg(t,s,n,a){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(t,s,n,a){return new pg(t,s,n,a)}function Sc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xg(t){if(typeof t=="function")return Sc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qo)return 11;if(t===Wo)return 14}return 2}function Os(t,s){var n=t.alternate;return n===null?(n=Dt(t.tag,s,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=s,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,s=t.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tr(t,s,n,a,i,l){var o=2;if(a=t,typeof t=="function")Sc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case pn:return en(n.children,i,l,s);case Qo:o=8,i|=8;break;case Rl:return t=Dt(12,n,s,i|2),t.elementType=Rl,t.lanes=l,t;case Tl:return t=Dt(13,n,s,i),t.elementType=Tl,t.lanes=l,t;case Ol:return t=Dt(19,n,s,i),t.elementType=Ol,t.lanes=l,t;case Gu:return Oi(n,i,l,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Vu:o=10;break e;case Ku:o=9;break e;case qo:o=11;break e;case Wo:o=14;break e;case xs:o=16,a=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return s=Dt(o,n,s,i),s.elementType=t,s.type=a,s.lanes=l,s}function en(t,s,n,a){return t=Dt(7,t,a,s),t.lanes=n,t}function Oi(t,s,n,a){return t=Dt(22,t,a,s),t.elementType=Gu,t.lanes=n,t.stateNode={isHidden:!1},t}function jl(t,s,n){return t=Dt(6,t,null,s),t.lanes=n,t}function bl(t,s,n){return s=Dt(4,t.children!==null?t.children:[],t.key,s),s.lanes=n,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function gg(t,s,n,a,i){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=el(0),this.expirationTimes=el(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=el(0),this.identifierPrefix=a,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Cc(t,s,n,a,i,l,o,d,c){return t=new gg(t,s,n,d,c),s===1?(s=1,l===!0&&(s|=8)):s=0,l=Dt(3,null,null,s),t.current=l,l.stateNode=t,l.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cc(l),t}function vg(t,s,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fn,key:a==null?null:""+a,children:t,containerInfo:s,implementation:n}}function zh(t){if(!t)return Ls;t=t._reactInternals;e:{if(un(t)!==t||t.tag!==1)throw Error(H(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(gt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(gt(n))return zm(t,n,s)}return s}function Uh(t,s,n,a,i,l,o,d,c){return t=Cc(n,a,!0,t,i,l,o,d,c),t.context=zh(null),n=t.current,a=ct(),i=Ts(n),l=rs(a,i),l.callback=s??null,Ps(n,l,i),t.current.lanes=i,Ha(t,i,a),vt(t,a),t}function Mi(t,s,n,a){var i=s.current,l=ct(),o=Ts(i);return n=zh(n),s.context===null?s.context=n:s.pendingContext=n,s=rs(l,o),s.payload={element:t},a=a===void 0?null:a,a!==null&&(s.callback=a),t=Ps(i,s,o),t!==null&&(Wt(t,i,o,l),Sr(t,i,o)),o}function oi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vd(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<s?n:s}}function kc(t,s){Vd(t,s),(t=t.alternate)&&Vd(t,s)}function jg(){return null}var Bh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ec(t){this._internalRoot=t}Di.prototype.render=Ec.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(H(409));Mi(t,s,null,null)};Di.prototype.unmount=Ec.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;ln(function(){Mi(null,t,null,null)}),s[ls]=null}};function Di(t){this._internalRoot=t}Di.prototype.unstable_scheduleHydration=function(t){if(t){var s=jm();t={blockedOn:null,target:t,priority:s};for(var n=0;n<js.length&&s!==0&&s<js[n].priority;n++);js.splice(n,0,t),n===0&&ym(t)}};function Pc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Li(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Kd(){}function bg(t,s,n,a,i){if(i){if(typeof a=="function"){var l=a;a=function(){var u=oi(o);l.call(u)}}var o=Uh(s,a,t,0,null,!1,!1,"",Kd);return t._reactRootContainer=o,t[ls]=o.current,Ma(t.nodeType===8?t.parentNode:t),ln(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof a=="function"){var d=a;a=function(){var u=oi(c);d.call(u)}}var c=Cc(t,0,!1,null,null,!1,!1,"",Kd);return t._reactRootContainer=c,t[ls]=c.current,Ma(t.nodeType===8?t.parentNode:t),ln(function(){Mi(s,c,n,a)}),c}function Fi(t,s,n,a,i){var l=n._reactRootContainer;if(l){var o=l;if(typeof i=="function"){var d=i;i=function(){var c=oi(o);d.call(c)}}Mi(s,o,t,i)}else o=bg(n,s,t,i,a);return oi(o)}gm=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var n=da(s.pendingLanes);n!==0&&(Ko(s,n|1),vt(s,Ae()),!(be&6)&&(In=Ae()+500,Is()))}break;case 13:ln(function(){var a=os(t,1);if(a!==null){var i=ct();Wt(a,t,1,i)}}),kc(t,1)}};Go=function(t){if(t.tag===13){var s=os(t,134217728);if(s!==null){var n=ct();Wt(s,t,134217728,n)}kc(t,134217728)}};vm=function(t){if(t.tag===13){var s=Ts(t),n=os(t,s);if(n!==null){var a=ct();Wt(n,t,s,a)}kc(t,s)}};jm=function(){return Ne};bm=function(t,s){var n=Ne;try{return Ne=t,s()}finally{Ne=n}};Bl=function(t,s,n){switch(s){case"input":if(Ll(t,n),s=n.name,n.type==="radio"&&s!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<n.length;s++){var a=n[s];if(a!==t&&a.form===t.form){var i=Ci(a);if(!i)throw Error(H(90));Ju(a),Ll(a,i)}}}break;case"textarea":Zu(t,n);break;case"select":s=n.value,s!=null&&Cn(t,!!n.multiple,s,!1)}};im=Nc;lm=ln;var yg={usingClientEntryPoint:!1,Events:[Ka,jn,Ci,am,rm,Nc]},ia={findFiberByHostInstance:Vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ng={bundleType:ia.bundleType,version:ia.version,rendererPackageName:ia.rendererPackageName,rendererConfig:ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ds.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dm(t),t===null?null:t.stateNode},findFiberByHostInstance:ia.findFiberByHostInstance||jg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gr.isDisabled&&gr.supportsFiber)try{Ni=gr.inject(Ng),Xt=gr}catch{}}kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yg;kt.createPortal=function(t,s){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pc(s))throw Error(H(200));return vg(t,s,null,n)};kt.createRoot=function(t,s){if(!Pc(t))throw Error(H(299));var n=!1,a="",i=Bh;return s!=null&&(s.unstable_strictMode===!0&&(n=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(i=s.onRecoverableError)),s=Cc(t,1,!1,null,null,n,!1,a,i),t[ls]=s.current,Ma(t.nodeType===8?t.parentNode:t),new Ec(s)};kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=dm(s),t=t===null?null:t.stateNode,t};kt.flushSync=function(t){return ln(t)};kt.hydrate=function(t,s,n){if(!Li(s))throw Error(H(200));return Fi(null,t,s,!0,n)};kt.hydrateRoot=function(t,s,n){if(!Pc(t))throw Error(H(405));var a=n!=null&&n.hydratedSources||null,i=!1,l="",o=Bh;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),s=Uh(s,null,t,1,n??null,i,!1,l,o),t[ls]=s.current,Ma(t),a)for(t=0;t<a.length;t++)n=a[t],i=n._getVersion,i=i(n._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[n,i]:s.mutableSourceEagerHydrationData.push(n,i);return new Di(s)};kt.render=function(t,s,n){if(!Li(s))throw Error(H(200));return Fi(null,t,s,!1,n)};kt.unmountComponentAtNode=function(t){if(!Li(t))throw Error(H(40));return t._reactRootContainer?(ln(function(){Fi(null,null,t,!1,function(){t._reactRootContainer=null,t[ls]=null})}),!0):!1};kt.unstable_batchedUpdates=Nc;kt.unstable_renderSubtreeIntoContainer=function(t,s,n,a){if(!Li(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Fi(t,s,n,!1,a)};kt.version="18.3.1-next-f1338f8080-20240426";function Qh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qh)}catch(t){console.error(t)}}Qh(),Qu.exports=kt;var qh=Qu.exports;const _g=Tu(qh);var Gd=qh;El.createRoot=Gd.createRoot,El.hydrateRoot=Gd.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ba(){return Ba=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ba.apply(this,arguments)}var _s;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_s||(_s={}));const Yd="popstate";function wg(t){t===void 0&&(t={});function s(a,i){let{pathname:l,search:o,hash:d}=a.location;return No("",{pathname:l,search:o,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){return typeof i=="string"?i:ci(i)}return Cg(s,n,null,t)}function De(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Wh(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Sg(){return Math.random().toString(36).substr(2,8)}function Jd(t,s){return{usr:t.state,key:t.key,idx:s}}function No(t,s,n,a){return n===void 0&&(n=null),Ba({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?Qn(s):s,{state:n,key:s&&s.key||a||Sg()})}function ci(t){let{pathname:s="/",search:n="",hash:a=""}=t;return n&&n!=="?"&&(s+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function Qn(t){let s={};if(t){let n=t.indexOf("#");n>=0&&(s.hash=t.substr(n),t=t.substr(0,n));let a=t.indexOf("?");a>=0&&(s.search=t.substr(a),t=t.substr(0,a)),t&&(s.pathname=t)}return s}function Cg(t,s,n,a){a===void 0&&(a={});let{window:i=document.defaultView,v5Compat:l=!1}=a,o=i.history,d=_s.Pop,c=null,u=m();u==null&&(u=0,o.replaceState(Ba({},o.state,{idx:u}),""));function m(){return(o.state||{idx:null}).idx}function h(){d=_s.Pop;let j=m(),f=j==null?null:j-u;u=j,c&&c({action:d,location:_.location,delta:f})}function g(j,f){d=_s.Push;let p=No(_.location,j,f);u=m()+1;let v=Jd(p,u),N=_.createHref(p);try{o.pushState(v,"",N)}catch(y){if(y instanceof DOMException&&y.name==="DataCloneError")throw y;i.location.assign(N)}l&&c&&c({action:d,location:_.location,delta:1})}function x(j,f){d=_s.Replace;let p=No(_.location,j,f);u=m();let v=Jd(p,u),N=_.createHref(p);o.replaceState(v,"",N),l&&c&&c({action:d,location:_.location,delta:0})}function b(j){let f=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof j=="string"?j:ci(j);return p=p.replace(/ $/,"%20"),De(f,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,f)}let _={get action(){return d},get location(){return t(i,o)},listen(j){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Yd,h),c=j,()=>{i.removeEventListener(Yd,h),c=null}},createHref(j){return s(i,j)},createURL:b,encodeLocation(j){let f=b(j);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:g,replace:x,go(j){return o.go(j)}};return _}var Xd;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Xd||(Xd={}));function kg(t,s,n){return n===void 0&&(n="/"),Eg(t,s,n)}function Eg(t,s,n,a){let i=typeof s=="string"?Qn(s):s,l=$n(i.pathname||"/",n);if(l==null)return null;let o=Hh(t);Pg(o);let d=null;for(let c=0;d==null&&c<o.length;++c){let u=zg(l);d=Ig(o[c],u)}return d}function Hh(t,s,n,a){s===void 0&&(s=[]),n===void 0&&(n=[]),a===void 0&&(a="");let i=(l,o,d)=>{let c={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};c.relativePath.startsWith("/")&&(De(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let u=Ms([a,c.relativePath]),m=n.concat(c);l.children&&l.children.length>0&&(De(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Hh(l.children,s,m,u)),!(l.path==null&&!l.index)&&s.push({path:u,score:Fg(u,l.index),routesMeta:m})};return t.forEach((l,o)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))i(l,o);else for(let c of Vh(l.path))i(l,o,c)}),s}function Vh(t){let s=t.split("/");if(s.length===0)return[];let[n,...a]=s,i=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return i?[l,""]:[l];let o=Vh(a.join("/")),d=[];return d.push(...o.map(c=>c===""?l:[l,c].join("/"))),i&&d.push(...o),d.map(c=>t.startsWith("/")&&c===""?"/":c)}function Pg(t){t.sort((s,n)=>s.score!==n.score?n.score-s.score:Ag(s.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}const Rg=/^:[\w-]+$/,Tg=3,Og=2,Mg=1,Dg=10,Lg=-2,Zd=t=>t==="*";function Fg(t,s){let n=t.split("/"),a=n.length;return n.some(Zd)&&(a+=Lg),s&&(a+=Og),n.filter(i=>!Zd(i)).reduce((i,l)=>i+(Rg.test(l)?Tg:l===""?Mg:Dg),a)}function Ag(t,s){return t.length===s.length&&t.slice(0,-1).every((a,i)=>a===s[i])?t[t.length-1]-s[s.length-1]:0}function Ig(t,s,n){let{routesMeta:a}=t,i={},l="/",o=[];for(let d=0;d<a.length;++d){let c=a[d],u=d===a.length-1,m=l==="/"?s:s.slice(l.length)||"/",h=_o({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},m),g=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Ms([l,h.pathname]),pathnameBase:qg(Ms([l,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(l=Ms([l,h.pathnameBase]))}return o}function _o(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,a]=$g(t.path,t.caseSensitive,t.end),i=s.match(n);if(!i)return null;let l=i[0],o=l.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:a.reduce((u,m,h)=>{let{paramName:g,isOptional:x}=m;if(g==="*"){let _=d[h]||"";o=l.slice(0,l.length-_.length).replace(/(.)\/+$/,"$1")}const b=d[h];return x&&!b?u[g]=void 0:u[g]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:l,pathnameBase:o,pattern:t}}function $g(t,s,n){s===void 0&&(s=!1),n===void 0&&(n=!0),Wh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let a=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,d,c)=>(a.push({paramName:d,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,s?void 0:"i"),a]}function zg(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Wh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function $n(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let n=s.endsWith("/")?s.length-1:s.length,a=t.charAt(n);return a&&a!=="/"?null:t.slice(n)||"/"}function Ug(t,s){s===void 0&&(s="/");let{pathname:n,search:a="",hash:i=""}=typeof t=="string"?Qn(t):t;return{pathname:n?n.startsWith("/")?n:Bg(n,s):s,search:Wg(a),hash:Hg(i)}}function Bg(t,s){let n=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function yl(t,s,n,a){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Qg(t){return t.filter((s,n)=>n===0||s.route.path&&s.route.path.length>0)}function Rc(t,s){let n=Qg(t);return s?n.map((a,i)=>i===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function Tc(t,s,n,a){a===void 0&&(a=!1);let i;typeof t=="string"?i=Qn(t):(i=Ba({},t),De(!i.pathname||!i.pathname.includes("?"),yl("?","pathname","search",i)),De(!i.pathname||!i.pathname.includes("#"),yl("#","pathname","hash",i)),De(!i.search||!i.search.includes("#"),yl("#","search","hash",i)));let l=t===""||i.pathname==="",o=l?"/":i.pathname,d;if(o==null)d=n;else{let h=s.length-1;if(!a&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}d=h>=0?s[h]:"/"}let c=Ug(i,d),u=o&&o!=="/"&&o.endsWith("/"),m=(l||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||m)&&(c.pathname+="/"),c}const Ms=t=>t.join("/").replace(/\/\/+/g,"/"),qg=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Wg=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Hg=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Vg(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Kh=["post","put","patch","delete"];new Set(Kh);const Kg=["get",...Kh];new Set(Kg);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qa(){return Qa=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Qa.apply(this,arguments)}const Ai=C.createContext(null),Gh=C.createContext(null),us=C.createContext(null),Ii=C.createContext(null),ms=C.createContext({outlet:null,matches:[],isDataRoute:!1}),Yh=C.createContext(null);function Gg(t,s){let{relative:n}=s===void 0?{}:s;qn()||De(!1);let{basename:a,navigator:i}=C.useContext(us),{hash:l,pathname:o,search:d}=$i(t,{relative:n}),c=o;return a!=="/"&&(c=o==="/"?a:Ms([a,o])),i.createHref({pathname:c,search:d,hash:l})}function qn(){return C.useContext(Ii)!=null}function mn(){return qn()||De(!1),C.useContext(Ii).location}function Jh(t){C.useContext(us).static||C.useLayoutEffect(t)}function Oc(){let{isDataRoute:t}=C.useContext(ms);return t?cv():Yg()}function Yg(){qn()||De(!1);let t=C.useContext(Ai),{basename:s,future:n,navigator:a}=C.useContext(us),{matches:i}=C.useContext(ms),{pathname:l}=mn(),o=JSON.stringify(Rc(i,n.v7_relativeSplatPath)),d=C.useRef(!1);return Jh(()=>{d.current=!0}),C.useCallback(function(u,m){if(m===void 0&&(m={}),!d.current)return;if(typeof u=="number"){a.go(u);return}let h=Tc(u,JSON.parse(o),l,m.relative==="path");t==null&&s!=="/"&&(h.pathname=h.pathname==="/"?s:Ms([s,h.pathname])),(m.replace?a.replace:a.push)(h,m.state,m)},[s,a,o,l,t])}function Jg(){let{matches:t}=C.useContext(ms),s=t[t.length-1];return s?s.params:{}}function $i(t,s){let{relative:n}=s===void 0?{}:s,{future:a}=C.useContext(us),{matches:i}=C.useContext(ms),{pathname:l}=mn(),o=JSON.stringify(Rc(i,a.v7_relativeSplatPath));return C.useMemo(()=>Tc(t,JSON.parse(o),l,n==="path"),[t,o,l,n])}function Xg(t,s){return Zg(t,s)}function Zg(t,s,n,a){qn()||De(!1);let{navigator:i}=C.useContext(us),{matches:l}=C.useContext(ms),o=l[l.length-1],d=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=mn(),m;if(s){var h;let j=typeof s=="string"?Qn(s):s;c==="/"||(h=j.pathname)!=null&&h.startsWith(c)||De(!1),m=j}else m=u;let g=m.pathname||"/",x=g;if(c!=="/"){let j=c.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(j.length).join("/")}let b=kg(t,{pathname:x}),_=av(b&&b.map(j=>Object.assign({},j,{params:Object.assign({},d,j.params),pathname:Ms([c,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:Ms([c,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,n,a);return s&&_?C.createElement(Ii.Provider,{value:{location:Qa({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:_s.Pop}},_):_}function ev(){let t=ov(),s=Vg(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},s),n?C.createElement("pre",{style:i},n):null,null)}const tv=C.createElement(ev,null);class sv extends C.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,n){return n.location!==s.location||n.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:n.error,location:n.location,revalidation:s.revalidation||n.revalidation}}componentDidCatch(s,n){console.error("React Router caught the following error during render",s,n)}render(){return this.state.error!==void 0?C.createElement(ms.Provider,{value:this.props.routeContext},C.createElement(Yh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nv(t){let{routeContext:s,match:n,children:a}=t,i=C.useContext(Ai);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(ms.Provider,{value:s},a)}function av(t,s,n,a){var i;if(s===void 0&&(s=[]),n===void 0&&(n=null),a===void 0&&(a=null),t==null){var l;if(!n)return null;if(n.errors)t=n.matches;else if((l=a)!=null&&l.v7_partialHydration&&s.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,d=(i=n)==null?void 0:i.errors;if(d!=null){let m=o.findIndex(h=>h.route.id&&(d==null?void 0:d[h.route.id])!==void 0);m>=0||De(!1),o=o.slice(0,Math.min(o.length,m+1))}let c=!1,u=-1;if(n&&a&&a.v7_partialHydration)for(let m=0;m<o.length;m++){let h=o[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=m),h.route.id){let{loaderData:g,errors:x}=n,b=h.route.loader&&g[h.route.id]===void 0&&(!x||x[h.route.id]===void 0);if(h.route.lazy||b){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((m,h,g)=>{let x,b=!1,_=null,j=null;n&&(x=d&&h.route.id?d[h.route.id]:void 0,_=h.route.errorElement||tv,c&&(u<0&&g===0?(dv("route-fallback"),b=!0,j=null):u===g&&(b=!0,j=h.route.hydrateFallbackElement||null)));let f=s.concat(o.slice(0,g+1)),p=()=>{let v;return x?v=_:b?v=j:h.route.Component?v=C.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=m,C.createElement(nv,{match:h,routeContext:{outlet:m,matches:f,isDataRoute:n!=null},children:v})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?C.createElement(sv,{location:n.location,revalidation:n.revalidation,component:_,error:x,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var Xh=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Xh||{}),Zh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Zh||{});function rv(t){let s=C.useContext(Ai);return s||De(!1),s}function iv(t){let s=C.useContext(Gh);return s||De(!1),s}function lv(t){let s=C.useContext(ms);return s||De(!1),s}function ef(t){let s=lv(),n=s.matches[s.matches.length-1];return n.route.id||De(!1),n.route.id}function ov(){var t;let s=C.useContext(Yh),n=iv(),a=ef();return s!==void 0?s:(t=n.errors)==null?void 0:t[a]}function cv(){let{router:t}=rv(Xh.UseNavigateStable),s=ef(Zh.UseNavigateStable),n=C.useRef(!1);return Jh(()=>{n.current=!0}),C.useCallback(function(i,l){l===void 0&&(l={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Qa({fromRouteId:s},l)))},[t,s])}const eu={};function dv(t,s,n){eu[t]||(eu[t]=!0)}function uv(t,s){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Nt(t){let{to:s,replace:n,state:a,relative:i}=t;qn()||De(!1);let{future:l,static:o}=C.useContext(us),{matches:d}=C.useContext(ms),{pathname:c}=mn(),u=Oc(),m=Tc(s,Rc(d,l.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(m);return C.useEffect(()=>u(JSON.parse(h),{replace:n,state:a,relative:i}),[u,h,i,n,a]),null}function we(t){De(!1)}function mv(t){let{basename:s="/",children:n=null,location:a,navigationType:i=_s.Pop,navigator:l,static:o=!1,future:d}=t;qn()&&De(!1);let c=s.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:c,navigator:l,static:o,future:Qa({v7_relativeSplatPath:!1},d)}),[c,d,l,o]);typeof a=="string"&&(a=Qn(a));let{pathname:m="/",search:h="",hash:g="",state:x=null,key:b="default"}=a,_=C.useMemo(()=>{let j=$n(m,c);return j==null?null:{location:{pathname:j,search:h,hash:g,state:x,key:b},navigationType:i}},[c,m,h,g,x,b,i]);return _==null?null:C.createElement(us.Provider,{value:u},C.createElement(Ii.Provider,{children:n,value:_}))}function tu(t){let{children:s,location:n}=t;return Xg(wo(s),n)}new Promise(()=>{});function wo(t,s){s===void 0&&(s=[]);let n=[];return C.Children.forEach(t,(a,i)=>{if(!C.isValidElement(a))return;let l=[...s,i];if(a.type===C.Fragment){n.push.apply(n,wo(a.props.children,l));return}a.type!==we&&De(!1),!a.props.index||!a.props.children||De(!1);let o={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=wo(a.props.children,l)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function di(){return di=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},di.apply(this,arguments)}function tf(t,s){if(t==null)return{};var n={},a=Object.keys(t),i,l;for(l=0;l<a.length;l++)i=a[l],!(s.indexOf(i)>=0)&&(n[i]=t[i]);return n}function hv(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fv(t,s){return t.button===0&&(!s||s==="_self")&&!hv(t)}const pv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xv=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],gv="6";try{window.__reactRouterVersion=gv}catch{}const vv=C.createContext({isTransitioning:!1}),jv="startTransition",su=mp[jv];function bv(t){let{basename:s,children:n,future:a,window:i}=t,l=C.useRef();l.current==null&&(l.current=wg({window:i,v5Compat:!0}));let o=l.current,[d,c]=C.useState({action:o.action,location:o.location}),{v7_startTransition:u}=a||{},m=C.useCallback(h=>{u&&su?su(()=>c(h)):c(h)},[c,u]);return C.useLayoutEffect(()=>o.listen(m),[o,m]),C.useEffect(()=>uv(a),[a]),C.createElement(mv,{basename:s,children:n,location:d.location,navigationType:d.action,navigator:o,future:a})}const yv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Nv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ys=C.forwardRef(function(s,n){let{onClick:a,relative:i,reloadDocument:l,replace:o,state:d,target:c,to:u,preventScrollReset:m,viewTransition:h}=s,g=tf(s,pv),{basename:x}=C.useContext(us),b,_=!1;if(typeof u=="string"&&Nv.test(u)&&(b=u,yv))try{let v=new URL(window.location.href),N=u.startsWith("//")?new URL(v.protocol+u):new URL(u),y=$n(N.pathname,x);N.origin===v.origin&&y!=null?u=y+N.search+N.hash:_=!0}catch{}let j=Gg(u,{relative:i}),f=Sv(u,{replace:o,state:d,target:c,preventScrollReset:m,relative:i,viewTransition:h});function p(v){a&&a(v),v.defaultPrevented||f(v)}return C.createElement("a",di({},g,{href:b||j,onClick:_||l?a:p,ref:n,target:c}))}),_v=C.forwardRef(function(s,n){let{"aria-current":a="page",caseSensitive:i=!1,className:l="",end:o=!1,style:d,to:c,viewTransition:u,children:m}=s,h=tf(s,xv),g=$i(c,{relative:h.relative}),x=mn(),b=C.useContext(Gh),{navigator:_,basename:j}=C.useContext(us),f=b!=null&&Cv(g)&&u===!0,p=_.encodeLocation?_.encodeLocation(g).pathname:g.pathname,v=x.pathname,N=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;i||(v=v.toLowerCase(),N=N?N.toLowerCase():null,p=p.toLowerCase()),N&&j&&(N=$n(N,j)||N);const y=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let w=v===p||!o&&v.startsWith(p)&&v.charAt(y)==="/",k=N!=null&&(N===p||!o&&N.startsWith(p)&&N.charAt(p.length)==="/"),O={isActive:w,isPending:k,isTransitioning:f},M=w?a:void 0,B;typeof l=="function"?B=l(O):B=[l,w?"active":null,k?"pending":null,f?"transitioning":null].filter(Boolean).join(" ");let G=typeof d=="function"?d(O):d;return C.createElement(Ys,di({},h,{"aria-current":M,className:B,ref:n,style:G,to:c,viewTransition:u}),typeof m=="function"?m(O):m)});var So;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(So||(So={}));var nu;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(nu||(nu={}));function wv(t){let s=C.useContext(Ai);return s||De(!1),s}function Sv(t,s){let{target:n,replace:a,state:i,preventScrollReset:l,relative:o,viewTransition:d}=s===void 0?{}:s,c=Oc(),u=mn(),m=$i(t,{relative:o});return C.useCallback(h=>{if(fv(h,n)){h.preventDefault();let g=a!==void 0?a:ci(u)===ci(m);c(t,{replace:g,state:i,preventScrollReset:l,relative:o,viewTransition:d})}},[u,c,m,a,i,n,t,l,o,d])}function Cv(t,s){s===void 0&&(s={});let n=C.useContext(vv);n==null&&De(!1);let{basename:a}=wv(So.useViewTransitionState),i=$i(t,{relative:s.relative});if(!n.isTransitioning)return!1;let l=$n(n.currentLocation.pathname,a)||n.currentLocation.pathname,o=$n(n.nextLocation.pathname,a)||n.nextLocation.pathname;return _o(i.pathname,o)!=null||_o(i.pathname,l)!=null}function Co(t,s){return Co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},Co(t,s)}function Wn(t,s){t.prototype=Object.create(s.prototype),t.prototype.constructor=t,Co(t,s)}var Hn=function(){function t(){this.listeners=[]}var s=t.prototype;return s.subscribe=function(a){var i=this,l=a||function(){};return this.listeners.push(l),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(o){return o!==l}),i.onUnsubscribe()}},s.hasListeners=function(){return this.listeners.length>0},s.onSubscribe=function(){},s.onUnsubscribe=function(){},t}();function pe(){return pe=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var n=arguments[s];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},pe.apply(null,arguments)}var ui=typeof window>"u";function Ye(){}function kv(t,s){return typeof t=="function"?t(s):t}function ko(t){return typeof t=="number"&&t>=0&&t!==1/0}function mi(t){return Array.isArray(t)?t:[t]}function sf(t,s){return Math.max(t+(s||0)-Date.now(),0)}function Or(t,s,n){return Ya(t)?typeof s=="function"?pe({},n,{queryKey:t,queryFn:s}):pe({},s,{queryKey:t}):t}function Ev(t,s,n){return Ya(t)?typeof s=="function"?pe({},n,{mutationKey:t,mutationFn:s}):pe({},s,{mutationKey:t}):typeof t=="function"?pe({},s,{mutationFn:t}):pe({},t)}function vs(t,s,n){return Ya(t)?[pe({},s,{queryKey:t}),n]:[t||{},s]}function Pv(t,s){if(t===!0&&s===!0||t==null&&s==null)return"all";if(t===!1&&s===!1)return"none";var n=t??!s;return n?"active":"inactive"}function au(t,s){var n=t.active,a=t.exact,i=t.fetching,l=t.inactive,o=t.predicate,d=t.queryKey,c=t.stale;if(Ya(d)){if(a){if(s.queryHash!==Mc(d,s.options))return!1}else if(!hi(s.queryKey,d))return!1}var u=Pv(n,l);if(u==="none")return!1;if(u!=="all"){var m=s.isActive();if(u==="active"&&!m||u==="inactive"&&m)return!1}return!(typeof c=="boolean"&&s.isStale()!==c||typeof i=="boolean"&&s.isFetching()!==i||o&&!o(s))}function ru(t,s){var n=t.exact,a=t.fetching,i=t.predicate,l=t.mutationKey;if(Ya(l)){if(!s.options.mutationKey)return!1;if(n){if(Js(s.options.mutationKey)!==Js(l))return!1}else if(!hi(s.options.mutationKey,l))return!1}return!(typeof a=="boolean"&&s.state.status==="loading"!==a||i&&!i(s))}function Mc(t,s){var n=(s==null?void 0:s.queryKeyHashFn)||Js;return n(t)}function Js(t){var s=mi(t);return Rv(s)}function Rv(t){return JSON.stringify(t,function(s,n){return Eo(n)?Object.keys(n).sort().reduce(function(a,i){return a[i]=n[i],a},{}):n})}function hi(t,s){return nf(mi(t),mi(s))}function nf(t,s){return t===s?!0:typeof t!=typeof s?!1:t&&s&&typeof t=="object"&&typeof s=="object"?!Object.keys(s).some(function(n){return!nf(t[n],s[n])}):!1}function fi(t,s){if(t===s)return t;var n=Array.isArray(t)&&Array.isArray(s);if(n||Eo(t)&&Eo(s)){for(var a=n?t.length:Object.keys(t).length,i=n?s:Object.keys(s),l=i.length,o=n?[]:{},d=0,c=0;c<l;c++){var u=n?c:i[c];o[u]=fi(t[u],s[u]),o[u]===t[u]&&d++}return a===l&&d===a?t:o}return s}function Tv(t,s){if(t&&!s||s&&!t)return!1;for(var n in t)if(t[n]!==s[n])return!1;return!0}function Eo(t){if(!iu(t))return!1;var s=t.constructor;if(typeof s>"u")return!0;var n=s.prototype;return!(!iu(n)||!n.hasOwnProperty("isPrototypeOf"))}function iu(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ya(t){return typeof t=="string"||Array.isArray(t)}function Ov(t){return new Promise(function(s){setTimeout(s,t)})}function lu(t){Promise.resolve().then(t).catch(function(s){return setTimeout(function(){throw s})})}function af(){if(typeof AbortController=="function")return new AbortController}var Mv=function(t){Wn(s,t);function s(){var a;return a=t.call(this)||this,a.setup=function(i){var l;if(!ui&&((l=window)!=null&&l.addEventListener)){var o=function(){return i()};return window.addEventListener("visibilitychange",o,!1),window.addEventListener("focus",o,!1),function(){window.removeEventListener("visibilitychange",o),window.removeEventListener("focus",o)}}},a}var n=s.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var l,o=this;this.setup=i,(l=this.cleanup)==null||l.call(this),this.cleanup=i(function(d){typeof d=="boolean"?o.setFocused(d):o.onFocus()})},n.setFocused=function(i){this.focused=i,i&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(i){i()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},s}(Hn),Na=new Mv,Dv=function(t){Wn(s,t);function s(){var a;return a=t.call(this)||this,a.setup=function(i){var l;if(!ui&&((l=window)!=null&&l.addEventListener)){var o=function(){return i()};return window.addEventListener("online",o,!1),window.addEventListener("offline",o,!1),function(){window.removeEventListener("online",o),window.removeEventListener("offline",o)}}},a}var n=s.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var l,o=this;this.setup=i,(l=this.cleanup)==null||l.call(this),this.cleanup=i(function(d){typeof d=="boolean"?o.setOnline(d):o.onOnline()})},n.setOnline=function(i){this.online=i,i&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(i){i()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},s}(Hn),Mr=new Dv;function Lv(t){return Math.min(1e3*Math.pow(2,t),3e4)}function pi(t){return typeof(t==null?void 0:t.cancel)=="function"}var rf=function(s){this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent};function Dr(t){return t instanceof rf}var lf=function(s){var n=this,a=!1,i,l,o,d;this.abort=s.abort,this.cancel=function(g){return i==null?void 0:i(g)},this.cancelRetry=function(){a=!0},this.continueRetry=function(){a=!1},this.continue=function(){return l==null?void 0:l()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(g,x){o=g,d=x});var c=function(x){n.isResolved||(n.isResolved=!0,s.onSuccess==null||s.onSuccess(x),l==null||l(),o(x))},u=function(x){n.isResolved||(n.isResolved=!0,s.onError==null||s.onError(x),l==null||l(),d(x))},m=function(){return new Promise(function(x){l=x,n.isPaused=!0,s.onPause==null||s.onPause()}).then(function(){l=void 0,n.isPaused=!1,s.onContinue==null||s.onContinue()})},h=function g(){if(!n.isResolved){var x;try{x=s.fn()}catch(b){x=Promise.reject(b)}i=function(_){if(!n.isResolved&&(u(new rf(_)),n.abort==null||n.abort(),pi(x)))try{x.cancel()}catch{}},n.isTransportCancelable=pi(x),Promise.resolve(x).then(c).catch(function(b){var _,j;if(!n.isResolved){var f=(_=s.retry)!=null?_:3,p=(j=s.retryDelay)!=null?j:Lv,v=typeof p=="function"?p(n.failureCount,b):p,N=f===!0||typeof f=="number"&&n.failureCount<f||typeof f=="function"&&f(n.failureCount,b);if(a||!N){u(b);return}n.failureCount++,s.onFail==null||s.onFail(n.failureCount,b),Ov(v).then(function(){if(!Na.isFocused()||!Mr.isOnline())return m()}).then(function(){a?u(b):g()})}})}};h()},Fv=function(){function t(){this.queue=[],this.transactions=0,this.notifyFn=function(n){n()},this.batchNotifyFn=function(n){n()}}var s=t.prototype;return s.batch=function(a){var i;this.transactions++;try{i=a()}finally{this.transactions--,this.transactions||this.flush()}return i},s.schedule=function(a){var i=this;this.transactions?this.queue.push(a):lu(function(){i.notifyFn(a)})},s.batchCalls=function(a){var i=this;return function(){for(var l=arguments.length,o=new Array(l),d=0;d<l;d++)o[d]=arguments[d];i.schedule(function(){a.apply(void 0,o)})}},s.flush=function(){var a=this,i=this.queue;this.queue=[],i.length&&lu(function(){a.batchNotifyFn(function(){i.forEach(function(l){a.notifyFn(l)})})})},s.setNotifyFunction=function(a){this.notifyFn=a},s.setBatchNotifyFunction=function(a){this.batchNotifyFn=a},t}(),Re=new Fv,of=console;function xi(){return of}function Av(t){of=t}var Iv=function(){function t(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var s=t.prototype;return s.setOptions=function(a){var i;this.options=pe({},this.defaultOptions,a),this.meta=a==null?void 0:a.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},s.setDefaultOptions=function(a){this.defaultOptions=a},s.scheduleGc=function(){var a=this;this.clearGcTimeout(),ko(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){a.optionalRemove()},this.cacheTime))},s.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},s.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},s.setData=function(a,i){var l,o,d=this.state.data,c=kv(a,d);return(l=(o=this.options).isDataEqual)!=null&&l.call(o,d,c)?c=d:this.options.structuralSharing!==!1&&(c=fi(d,c)),this.dispatch({data:c,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),c},s.setState=function(a,i){this.dispatch({type:"setState",state:a,setStateOptions:i})},s.cancel=function(a){var i,l=this.promise;return(i=this.retryer)==null||i.cancel(a),l?l.then(Ye).catch(Ye):Promise.resolve()},s.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},s.reset=function(){this.destroy(),this.setState(this.initialState)},s.isActive=function(){return this.observers.some(function(a){return a.options.enabled!==!1})},s.isFetching=function(){return this.state.isFetching},s.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(a){return a.getCurrentResult().isStale})},s.isStaleByTime=function(a){return a===void 0&&(a=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!sf(this.state.dataUpdatedAt,a)},s.onFocus=function(){var a,i=this.observers.find(function(l){return l.shouldFetchOnWindowFocus()});i&&i.refetch(),(a=this.retryer)==null||a.continue()},s.onOnline=function(){var a,i=this.observers.find(function(l){return l.shouldFetchOnReconnect()});i&&i.refetch(),(a=this.retryer)==null||a.continue()},s.addObserver=function(a){this.observers.indexOf(a)===-1&&(this.observers.push(a),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:a}))},s.removeObserver=function(a){this.observers.indexOf(a)!==-1&&(this.observers=this.observers.filter(function(i){return i!==a}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:a}))},s.getObserversCount=function(){return this.observers.length},s.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},s.fetch=function(a,i){var l=this,o,d,c;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(a&&this.setOptions(a),!this.options.queryFn){var m=this.observers.find(function(p){return p.options.queryFn});m&&this.setOptions(m.options)}var h=mi(this.queryKey),g=af(),x={queryKey:h,pageParam:void 0,meta:this.meta};Object.defineProperty(x,"signal",{enumerable:!0,get:function(){if(g)return l.abortSignalConsumed=!0,g.signal}});var b=function(){return l.options.queryFn?(l.abortSignalConsumed=!1,l.options.queryFn(x)):Promise.reject("Missing queryFn")},_={fetchOptions:i,options:this.options,queryKey:h,state:this.state,fetchFn:b,meta:this.meta};if((o=this.options.behavior)!=null&&o.onFetch){var j;(j=this.options.behavior)==null||j.onFetch(_)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((d=_.fetchOptions)==null?void 0:d.meta)){var f;this.dispatch({type:"fetch",meta:(f=_.fetchOptions)==null?void 0:f.meta})}return this.retryer=new lf({fn:_.fetchFn,abort:g==null||(c=g.abort)==null?void 0:c.bind(g),onSuccess:function(v){l.setData(v),l.cache.config.onSuccess==null||l.cache.config.onSuccess(v,l),l.cacheTime===0&&l.optionalRemove()},onError:function(v){Dr(v)&&v.silent||l.dispatch({type:"error",error:v}),Dr(v)||(l.cache.config.onError==null||l.cache.config.onError(v,l),xi().error(v)),l.cacheTime===0&&l.optionalRemove()},onFail:function(){l.dispatch({type:"failed"})},onPause:function(){l.dispatch({type:"pause"})},onContinue:function(){l.dispatch({type:"continue"})},retry:_.options.retry,retryDelay:_.options.retryDelay}),this.promise=this.retryer.promise,this.promise},s.dispatch=function(a){var i=this;this.state=this.reducer(this.state,a),Re.batch(function(){i.observers.forEach(function(l){l.onQueryUpdate(a)}),i.cache.notify({query:i,type:"queryUpdated",action:a})})},s.getDefaultState=function(a){var i=typeof a.initialData=="function"?a.initialData():a.initialData,l=typeof a.initialData<"u",o=l?typeof a.initialDataUpdatedAt=="function"?a.initialDataUpdatedAt():a.initialDataUpdatedAt:0,d=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:d?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:d?"success":"idle"}},s.reducer=function(a,i){var l,o;switch(i.type){case"failed":return pe({},a,{fetchFailureCount:a.fetchFailureCount+1});case"pause":return pe({},a,{isPaused:!0});case"continue":return pe({},a,{isPaused:!1});case"fetch":return pe({},a,{fetchFailureCount:0,fetchMeta:(l=i.meta)!=null?l:null,isFetching:!0,isPaused:!1},!a.dataUpdatedAt&&{error:null,status:"loading"});case"success":return pe({},a,{data:i.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:(o=i.dataUpdatedAt)!=null?o:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var d=i.error;return Dr(d)&&d.revert&&this.revertState?pe({},this.revertState):pe({},a,{error:d,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return pe({},a,{isInvalidated:!0});case"setState":return pe({},a,i.state);default:return a}},t}(),$v=function(t){Wn(s,t);function s(a){var i;return i=t.call(this)||this,i.config=a||{},i.queries=[],i.queriesMap={},i}var n=s.prototype;return n.build=function(i,l,o){var d,c=l.queryKey,u=(d=l.queryHash)!=null?d:Mc(c,l),m=this.get(u);return m||(m=new Iv({cache:this,queryKey:c,queryHash:u,options:i.defaultQueryOptions(l),state:o,defaultOptions:i.getQueryDefaults(c),meta:l.meta}),this.add(m)),m},n.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},n.remove=function(i){var l=this.queriesMap[i.queryHash];l&&(i.destroy(),this.queries=this.queries.filter(function(o){return o!==i}),l===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},n.clear=function(){var i=this;Re.batch(function(){i.queries.forEach(function(l){i.remove(l)})})},n.get=function(i){return this.queriesMap[i]},n.getAll=function(){return this.queries},n.find=function(i,l){var o=vs(i,l),d=o[0];return typeof d.exact>"u"&&(d.exact=!0),this.queries.find(function(c){return au(d,c)})},n.findAll=function(i,l){var o=vs(i,l),d=o[0];return Object.keys(d).length>0?this.queries.filter(function(c){return au(d,c)}):this.queries},n.notify=function(i){var l=this;Re.batch(function(){l.listeners.forEach(function(o){o(i)})})},n.onFocus=function(){var i=this;Re.batch(function(){i.queries.forEach(function(l){l.onFocus()})})},n.onOnline=function(){var i=this;Re.batch(function(){i.queries.forEach(function(l){l.onOnline()})})},s}(Hn),zv=function(){function t(n){this.options=pe({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||cf(),this.meta=n.meta}var s=t.prototype;return s.setState=function(a){this.dispatch({type:"setState",state:a})},s.addObserver=function(a){this.observers.indexOf(a)===-1&&this.observers.push(a)},s.removeObserver=function(a){this.observers=this.observers.filter(function(i){return i!==a})},s.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Ye).catch(Ye)):Promise.resolve()},s.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},s.execute=function(){var a=this,i,l=this.state.status==="loading",o=Promise.resolve();return l||(this.dispatch({type:"loading",variables:this.options.variables}),o=o.then(function(){a.mutationCache.config.onMutate==null||a.mutationCache.config.onMutate(a.state.variables,a)}).then(function(){return a.options.onMutate==null?void 0:a.options.onMutate(a.state.variables)}).then(function(d){d!==a.state.context&&a.dispatch({type:"loading",context:d,variables:a.state.variables})})),o.then(function(){return a.executeMutation()}).then(function(d){i=d,a.mutationCache.config.onSuccess==null||a.mutationCache.config.onSuccess(i,a.state.variables,a.state.context,a)}).then(function(){return a.options.onSuccess==null?void 0:a.options.onSuccess(i,a.state.variables,a.state.context)}).then(function(){return a.options.onSettled==null?void 0:a.options.onSettled(i,null,a.state.variables,a.state.context)}).then(function(){return a.dispatch({type:"success",data:i}),i}).catch(function(d){return a.mutationCache.config.onError==null||a.mutationCache.config.onError(d,a.state.variables,a.state.context,a),xi().error(d),Promise.resolve().then(function(){return a.options.onError==null?void 0:a.options.onError(d,a.state.variables,a.state.context)}).then(function(){return a.options.onSettled==null?void 0:a.options.onSettled(void 0,d,a.state.variables,a.state.context)}).then(function(){throw a.dispatch({type:"error",error:d}),d})})},s.executeMutation=function(){var a=this,i;return this.retryer=new lf({fn:function(){return a.options.mutationFn?a.options.mutationFn(a.state.variables):Promise.reject("No mutationFn found")},onFail:function(){a.dispatch({type:"failed"})},onPause:function(){a.dispatch({type:"pause"})},onContinue:function(){a.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},s.dispatch=function(a){var i=this;this.state=Uv(this.state,a),Re.batch(function(){i.observers.forEach(function(l){l.onMutationUpdate(a)}),i.mutationCache.notify(i)})},t}();function cf(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function Uv(t,s){switch(s.type){case"failed":return pe({},t,{failureCount:t.failureCount+1});case"pause":return pe({},t,{isPaused:!0});case"continue":return pe({},t,{isPaused:!1});case"loading":return pe({},t,{context:s.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:s.variables});case"success":return pe({},t,{data:s.data,error:null,status:"success",isPaused:!1});case"error":return pe({},t,{data:void 0,error:s.error,failureCount:t.failureCount+1,isPaused:!1,status:"error"});case"setState":return pe({},t,s.state);default:return t}}var Bv=function(t){Wn(s,t);function s(a){var i;return i=t.call(this)||this,i.config=a||{},i.mutations=[],i.mutationId=0,i}var n=s.prototype;return n.build=function(i,l,o){var d=new zv({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(l),state:o,defaultOptions:l.mutationKey?i.getMutationDefaults(l.mutationKey):void 0,meta:l.meta});return this.add(d),d},n.add=function(i){this.mutations.push(i),this.notify(i)},n.remove=function(i){this.mutations=this.mutations.filter(function(l){return l!==i}),i.cancel(),this.notify(i)},n.clear=function(){var i=this;Re.batch(function(){i.mutations.forEach(function(l){i.remove(l)})})},n.getAll=function(){return this.mutations},n.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(l){return ru(i,l)})},n.findAll=function(i){return this.mutations.filter(function(l){return ru(i,l)})},n.notify=function(i){var l=this;Re.batch(function(){l.listeners.forEach(function(o){o(i)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var i=this.mutations.filter(function(l){return l.state.isPaused});return Re.batch(function(){return i.reduce(function(l,o){return l.then(function(){return o.continue().catch(Ye)})},Promise.resolve())})},s}(Hn);function Qv(){return{onFetch:function(s){s.fetchFn=function(){var n,a,i,l,o,d,c=(n=s.fetchOptions)==null||(a=n.meta)==null?void 0:a.refetchPage,u=(i=s.fetchOptions)==null||(l=i.meta)==null?void 0:l.fetchMore,m=u==null?void 0:u.pageParam,h=(u==null?void 0:u.direction)==="forward",g=(u==null?void 0:u.direction)==="backward",x=((o=s.state.data)==null?void 0:o.pages)||[],b=((d=s.state.data)==null?void 0:d.pageParams)||[],_=af(),j=_==null?void 0:_.signal,f=b,p=!1,v=s.options.queryFn||function(){return Promise.reject("Missing queryFn")},N=function(Q,R,I,le){return f=le?[R].concat(f):[].concat(f,[R]),le?[I].concat(Q):[].concat(Q,[I])},y=function(Q,R,I,le){if(p)return Promise.reject("Cancelled");if(typeof I>"u"&&!R&&Q.length)return Promise.resolve(Q);var z={queryKey:s.queryKey,signal:j,pageParam:I,meta:s.meta},T=v(z),W=Promise.resolve(T).then(function(ae){return N(Q,I,ae,le)});if(pi(T)){var X=W;X.cancel=T.cancel}return W},w;if(!x.length)w=y([]);else if(h){var k=typeof m<"u",O=k?m:ou(s.options,x);w=y(x,k,O)}else if(g){var M=typeof m<"u",B=M?m:qv(s.options,x);w=y(x,M,B,!0)}else(function(){f=[];var F=typeof s.options.getNextPageParam>"u",Q=c&&x[0]?c(x[0],0,x):!0;w=Q?y([],F,b[0]):Promise.resolve(N([],b[0],x[0]));for(var R=function(z){w=w.then(function(T){var W=c&&x[z]?c(x[z],z,x):!0;if(W){var X=F?b[z]:ou(s.options,T);return y(T,F,X)}return Promise.resolve(N(T,b[z],x[z]))})},I=1;I<x.length;I++)R(I)})();var G=w.then(function(F){return{pages:F,pageParams:f}}),ee=G;return ee.cancel=function(){p=!0,_==null||_.abort(),pi(w)&&w.cancel()},G}}}}function ou(t,s){return t.getNextPageParam==null?void 0:t.getNextPageParam(s[s.length-1],s)}function qv(t,s){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(s[0],s)}var Wv=function(){function t(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new $v,this.mutationCache=n.mutationCache||new Bv,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var s=t.prototype;return s.mount=function(){var a=this;this.unsubscribeFocus=Na.subscribe(function(){Na.isFocused()&&Mr.isOnline()&&(a.mutationCache.onFocus(),a.queryCache.onFocus())}),this.unsubscribeOnline=Mr.subscribe(function(){Na.isFocused()&&Mr.isOnline()&&(a.mutationCache.onOnline(),a.queryCache.onOnline())})},s.unmount=function(){var a,i;(a=this.unsubscribeFocus)==null||a.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},s.isFetching=function(a,i){var l=vs(a,i),o=l[0];return o.fetching=!0,this.queryCache.findAll(o).length},s.isMutating=function(a){return this.mutationCache.findAll(pe({},a,{fetching:!0})).length},s.getQueryData=function(a,i){var l;return(l=this.queryCache.find(a,i))==null?void 0:l.state.data},s.getQueriesData=function(a){return this.getQueryCache().findAll(a).map(function(i){var l=i.queryKey,o=i.state,d=o.data;return[l,d]})},s.setQueryData=function(a,i,l){var o=Or(a),d=this.defaultQueryOptions(o);return this.queryCache.build(this,d).setData(i,l)},s.setQueriesData=function(a,i,l){var o=this;return Re.batch(function(){return o.getQueryCache().findAll(a).map(function(d){var c=d.queryKey;return[c,o.setQueryData(c,i,l)]})})},s.getQueryState=function(a,i){var l;return(l=this.queryCache.find(a,i))==null?void 0:l.state},s.removeQueries=function(a,i){var l=vs(a,i),o=l[0],d=this.queryCache;Re.batch(function(){d.findAll(o).forEach(function(c){d.remove(c)})})},s.resetQueries=function(a,i,l){var o=this,d=vs(a,i,l),c=d[0],u=d[1],m=this.queryCache,h=pe({},c,{active:!0});return Re.batch(function(){return m.findAll(c).forEach(function(g){g.reset()}),o.refetchQueries(h,u)})},s.cancelQueries=function(a,i,l){var o=this,d=vs(a,i,l),c=d[0],u=d[1],m=u===void 0?{}:u;typeof m.revert>"u"&&(m.revert=!0);var h=Re.batch(function(){return o.queryCache.findAll(c).map(function(g){return g.cancel(m)})});return Promise.all(h).then(Ye).catch(Ye)},s.invalidateQueries=function(a,i,l){var o,d,c,u=this,m=vs(a,i,l),h=m[0],g=m[1],x=pe({},h,{active:(o=(d=h.refetchActive)!=null?d:h.active)!=null?o:!0,inactive:(c=h.refetchInactive)!=null?c:!1});return Re.batch(function(){return u.queryCache.findAll(h).forEach(function(b){b.invalidate()}),u.refetchQueries(x,g)})},s.refetchQueries=function(a,i,l){var o=this,d=vs(a,i,l),c=d[0],u=d[1],m=Re.batch(function(){return o.queryCache.findAll(c).map(function(g){return g.fetch(void 0,pe({},u,{meta:{refetchPage:c==null?void 0:c.refetchPage}}))})}),h=Promise.all(m).then(Ye);return u!=null&&u.throwOnError||(h=h.catch(Ye)),h},s.fetchQuery=function(a,i,l){var o=Or(a,i,l),d=this.defaultQueryOptions(o);typeof d.retry>"u"&&(d.retry=!1);var c=this.queryCache.build(this,d);return c.isStaleByTime(d.staleTime)?c.fetch(d):Promise.resolve(c.state.data)},s.prefetchQuery=function(a,i,l){return this.fetchQuery(a,i,l).then(Ye).catch(Ye)},s.fetchInfiniteQuery=function(a,i,l){var o=Or(a,i,l);return o.behavior=Qv(),this.fetchQuery(o)},s.prefetchInfiniteQuery=function(a,i,l){return this.fetchInfiniteQuery(a,i,l).then(Ye).catch(Ye)},s.cancelMutations=function(){var a=this,i=Re.batch(function(){return a.mutationCache.getAll().map(function(l){return l.cancel()})});return Promise.all(i).then(Ye).catch(Ye)},s.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},s.executeMutation=function(a){return this.mutationCache.build(this,a).execute()},s.getQueryCache=function(){return this.queryCache},s.getMutationCache=function(){return this.mutationCache},s.getDefaultOptions=function(){return this.defaultOptions},s.setDefaultOptions=function(a){this.defaultOptions=a},s.setQueryDefaults=function(a,i){var l=this.queryDefaults.find(function(o){return Js(a)===Js(o.queryKey)});l?l.defaultOptions=i:this.queryDefaults.push({queryKey:a,defaultOptions:i})},s.getQueryDefaults=function(a){var i;return a?(i=this.queryDefaults.find(function(l){return hi(a,l.queryKey)}))==null?void 0:i.defaultOptions:void 0},s.setMutationDefaults=function(a,i){var l=this.mutationDefaults.find(function(o){return Js(a)===Js(o.mutationKey)});l?l.defaultOptions=i:this.mutationDefaults.push({mutationKey:a,defaultOptions:i})},s.getMutationDefaults=function(a){var i;return a?(i=this.mutationDefaults.find(function(l){return hi(a,l.mutationKey)}))==null?void 0:i.defaultOptions:void 0},s.defaultQueryOptions=function(a){if(a!=null&&a._defaulted)return a;var i=pe({},this.defaultOptions.queries,this.getQueryDefaults(a==null?void 0:a.queryKey),a,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=Mc(i.queryKey,i)),i},s.defaultQueryObserverOptions=function(a){return this.defaultQueryOptions(a)},s.defaultMutationOptions=function(a){return a!=null&&a._defaulted?a:pe({},this.defaultOptions.mutations,this.getMutationDefaults(a==null?void 0:a.mutationKey),a,{_defaulted:!0})},s.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},t}(),Hv=function(t){Wn(s,t);function s(a,i){var l;return l=t.call(this)||this,l.client=a,l.options=i,l.trackedProps=[],l.selectError=null,l.bindMethods(),l.setOptions(i),l}var n=s.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),cu(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return Po(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return Po(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(i,l){var o=this.options,d=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();var c=this.hasListeners();c&&du(this.currentQuery,d,this.options,o)&&this.executeFetch(),this.updateResult(l),c&&(this.currentQuery!==d||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();c&&(this.currentQuery!==d||this.options.enabled!==o.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},n.getOptimisticResult=function(i){var l=this.client.defaultQueryObserverOptions(i),o=this.client.getQueryCache().build(this.client,l);return this.createResult(o,l)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(i,l){var o=this,d={},c=function(m){o.trackedProps.includes(m)||o.trackedProps.push(m)};return Object.keys(i).forEach(function(u){Object.defineProperty(d,u,{configurable:!1,enumerable:!0,get:function(){return c(u),i[u]}})}),(l.useErrorBoundary||l.suspense)&&c("error"),d},n.getNextResult=function(i){var l=this;return new Promise(function(o,d){var c=l.subscribe(function(u){u.isFetching||(c(),u.isError&&(i!=null&&i.throwOnError)?d(u.error):o(u))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(i){return this.fetch(pe({},i,{meta:{refetchPage:i==null?void 0:i.refetchPage}}))},n.fetchOptimistic=function(i){var l=this,o=this.client.defaultQueryObserverOptions(i),d=this.client.getQueryCache().build(this.client,o);return d.fetch().then(function(){return l.createResult(d,o)})},n.fetch=function(i){var l=this;return this.executeFetch(i).then(function(){return l.updateResult(),l.currentResult})},n.executeFetch=function(i){this.updateQuery();var l=this.currentQuery.fetch(this.options,i);return i!=null&&i.throwOnError||(l=l.catch(Ye)),l},n.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(ui||this.currentResult.isStale||!ko(this.options.staleTime))){var l=sf(this.currentResult.dataUpdatedAt,this.options.staleTime),o=l+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},o)}},n.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},n.updateRefetchInterval=function(i){var l=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(ui||this.options.enabled===!1||!ko(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(l.options.refetchIntervalInBackground||Na.isFocused())&&l.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(i,l){var o=this.currentQuery,d=this.options,c=this.currentResult,u=this.currentResultState,m=this.currentResultOptions,h=i!==o,g=h?i.state:this.currentQueryInitialState,x=h?this.currentResult:this.previousQueryResult,b=i.state,_=b.dataUpdatedAt,j=b.error,f=b.errorUpdatedAt,p=b.isFetching,v=b.status,N=!1,y=!1,w;if(l.optimisticResults){var k=this.hasListeners(),O=!k&&cu(i,l),M=k&&du(i,o,l,d);(O||M)&&(p=!0,_||(v="loading"))}if(l.keepPreviousData&&!b.dataUpdateCount&&(x!=null&&x.isSuccess)&&v!=="error")w=x.data,_=x.dataUpdatedAt,v=x.status,N=!0;else if(l.select&&typeof b.data<"u")if(c&&b.data===(u==null?void 0:u.data)&&l.select===this.selectFn)w=this.selectResult;else try{this.selectFn=l.select,w=l.select(b.data),l.structuralSharing!==!1&&(w=fi(c==null?void 0:c.data,w)),this.selectResult=w,this.selectError=null}catch(ee){xi().error(ee),this.selectError=ee}else w=b.data;if(typeof l.placeholderData<"u"&&typeof w>"u"&&(v==="loading"||v==="idle")){var B;if(c!=null&&c.isPlaceholderData&&l.placeholderData===(m==null?void 0:m.placeholderData))B=c.data;else if(B=typeof l.placeholderData=="function"?l.placeholderData():l.placeholderData,l.select&&typeof B<"u")try{B=l.select(B),l.structuralSharing!==!1&&(B=fi(c==null?void 0:c.data,B)),this.selectError=null}catch(ee){xi().error(ee),this.selectError=ee}typeof B<"u"&&(v="success",w=B,y=!0)}this.selectError&&(j=this.selectError,w=this.selectResult,f=Date.now(),v="error");var G={status:v,isLoading:v==="loading",isSuccess:v==="success",isError:v==="error",isIdle:v==="idle",data:w,dataUpdatedAt:_,error:j,errorUpdatedAt:f,failureCount:b.fetchFailureCount,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>g.dataUpdateCount||b.errorUpdateCount>g.errorUpdateCount,isFetching:p,isRefetching:p&&v!=="loading",isLoadingError:v==="error"&&b.dataUpdatedAt===0,isPlaceholderData:y,isPreviousData:N,isRefetchError:v==="error"&&b.dataUpdatedAt!==0,isStale:Dc(i,l),refetch:this.refetch,remove:this.remove};return G},n.shouldNotifyListeners=function(i,l){if(!l)return!0;var o=this.options,d=o.notifyOnChangeProps,c=o.notifyOnChangePropsExclusions;if(!d&&!c||d==="tracked"&&!this.trackedProps.length)return!0;var u=d==="tracked"?this.trackedProps:d;return Object.keys(i).some(function(m){var h=m,g=i[h]!==l[h],x=u==null?void 0:u.some(function(_){return _===m}),b=c==null?void 0:c.some(function(_){return _===m});return g&&!b&&(!u||x)})},n.updateResult=function(i){var l=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!Tv(this.currentResult,l)){var o={cache:!0};(i==null?void 0:i.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,l)&&(o.listeners=!0),this.notify(pe({},o,i))}},n.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var l=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(l==null||l.removeObserver(this),i.addObserver(this))}},n.onQueryUpdate=function(i){var l={};i.type==="success"?l.onSuccess=!0:i.type==="error"&&!Dr(i.error)&&(l.onError=!0),this.updateResult(l),this.hasListeners()&&this.updateTimers()},n.notify=function(i){var l=this;Re.batch(function(){i.onSuccess?(l.options.onSuccess==null||l.options.onSuccess(l.currentResult.data),l.options.onSettled==null||l.options.onSettled(l.currentResult.data,null)):i.onError&&(l.options.onError==null||l.options.onError(l.currentResult.error),l.options.onSettled==null||l.options.onSettled(void 0,l.currentResult.error)),i.listeners&&l.listeners.forEach(function(o){o(l.currentResult)}),i.cache&&l.client.getQueryCache().notify({query:l.currentQuery,type:"observerResultsUpdated"})})},s}(Hn);function Vv(t,s){return s.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&s.retryOnMount===!1)}function cu(t,s){return Vv(t,s)||t.state.dataUpdatedAt>0&&Po(t,s,s.refetchOnMount)}function Po(t,s,n){if(s.enabled!==!1){var a=typeof n=="function"?n(t):n;return a==="always"||a!==!1&&Dc(t,s)}return!1}function du(t,s,n,a){return n.enabled!==!1&&(t!==s||a.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&Dc(t,n)}function Dc(t,s){return t.isStaleByTime(s.staleTime)}var Kv=function(t){Wn(s,t);function s(a,i){var l;return l=t.call(this)||this,l.client=a,l.setOptions(i),l.bindMethods(),l.updateResult(),l}var n=s.prototype;return n.bindMethods=function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)},n.setOptions=function(i){this.options=this.client.defaultMutationOptions(i)},n.onUnsubscribe=function(){if(!this.listeners.length){var i;(i=this.currentMutation)==null||i.removeObserver(this)}},n.onMutationUpdate=function(i){this.updateResult();var l={listeners:!0};i.type==="success"?l.onSuccess=!0:i.type==="error"&&(l.onError=!0),this.notify(l)},n.getCurrentResult=function(){return this.currentResult},n.reset=function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})},n.mutate=function(i,l){return this.mutateOptions=l,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,pe({},this.options,{variables:typeof i<"u"?i:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()},n.updateResult=function(){var i=this.currentMutation?this.currentMutation.state:cf(),l=pe({},i,{isLoading:i.status==="loading",isSuccess:i.status==="success",isError:i.status==="error",isIdle:i.status==="idle",mutate:this.mutate,reset:this.reset});this.currentResult=l},n.notify=function(i){var l=this;Re.batch(function(){l.mutateOptions&&(i.onSuccess?(l.mutateOptions.onSuccess==null||l.mutateOptions.onSuccess(l.currentResult.data,l.currentResult.variables,l.currentResult.context),l.mutateOptions.onSettled==null||l.mutateOptions.onSettled(l.currentResult.data,null,l.currentResult.variables,l.currentResult.context)):i.onError&&(l.mutateOptions.onError==null||l.mutateOptions.onError(l.currentResult.error,l.currentResult.variables,l.currentResult.context),l.mutateOptions.onSettled==null||l.mutateOptions.onSettled(void 0,l.currentResult.error,l.currentResult.variables,l.currentResult.context))),i.listeners&&l.listeners.forEach(function(o){o(l.currentResult)})})},s}(Hn),Gv=_g.unstable_batchedUpdates;Re.setBatchNotifyFunction(Gv);var Yv=console;Av(Yv);var uu=ue.createContext(void 0),df=ue.createContext(!1);function uf(t){return t&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=uu),window.ReactQueryClientContext):uu}var es=function(){var s=ue.useContext(uf(ue.useContext(df)));if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},Jv=function(s){var n=s.client,a=s.contextSharing,i=a===void 0?!1:a,l=s.children;ue.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var o=uf(i);return ue.createElement(df.Provider,{value:i},ue.createElement(o.Provider,{value:n},l))};function Xv(){var t=!1;return{clearReset:function(){t=!1},reset:function(){t=!0},isReset:function(){return t}}}var Zv=ue.createContext(Xv()),ej=function(){return ue.useContext(Zv)};function mf(t,s,n){return typeof s=="function"?s.apply(void 0,n):typeof s=="boolean"?s:!!t}function ot(t,s,n){var a=ue.useRef(!1),i=ue.useState(0),l=i[1],o=Ev(t,s,n),d=es(),c=ue.useRef();c.current?c.current.setOptions(o):c.current=new Kv(d,o);var u=c.current.getCurrentResult();ue.useEffect(function(){a.current=!0;var h=c.current.subscribe(Re.batchCalls(function(){a.current&&l(function(g){return g+1})}));return function(){a.current=!1,h()}},[]);var m=ue.useCallback(function(h,g){c.current.mutate(h,g).catch(Ye)},[]);if(u.error&&mf(void 0,c.current.options.useErrorBoundary,[u.error]))throw u.error;return pe({},u,{mutate:m,mutateAsync:u.mutate})}function tj(t,s){var n=ue.useRef(!1),a=ue.useState(0),i=a[1],l=es(),o=ej(),d=l.defaultQueryObserverOptions(t);d.optimisticResults=!0,d.onError&&(d.onError=Re.batchCalls(d.onError)),d.onSuccess&&(d.onSuccess=Re.batchCalls(d.onSuccess)),d.onSettled&&(d.onSettled=Re.batchCalls(d.onSettled)),d.suspense&&(typeof d.staleTime!="number"&&(d.staleTime=1e3),d.cacheTime===0&&(d.cacheTime=1)),(d.suspense||d.useErrorBoundary)&&(o.isReset()||(d.retryOnMount=!1));var c=ue.useState(function(){return new s(l,d)}),u=c[0],m=u.getOptimisticResult(d);if(ue.useEffect(function(){n.current=!0,o.clearReset();var h=u.subscribe(Re.batchCalls(function(){n.current&&i(function(g){return g+1})}));return u.updateResult(),function(){n.current=!1,h()}},[o,u]),ue.useEffect(function(){u.setOptions(d,{listeners:!1})},[d,u]),d.suspense&&m.isLoading)throw u.fetchOptimistic(d).then(function(h){var g=h.data;d.onSuccess==null||d.onSuccess(g),d.onSettled==null||d.onSettled(g,null)}).catch(function(h){o.clearReset(),d.onError==null||d.onError(h),d.onSettled==null||d.onSettled(void 0,h)});if(m.isError&&!o.isReset()&&!m.isFetching&&mf(d.suspense,d.useErrorBoundary,[m.error,u.getCurrentQuery()]))throw m.error;return d.notifyOnChangeProps==="tracked"&&(m=u.trackResult(m,d)),m}function ge(t,s,n){var a=Or(t,s,n);return tj(a,Hv)}function hf(t){var s,n,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t))for(s=0;s<t.length;s++)t[s]&&(n=hf(t[s]))&&(a&&(a+=" "),a+=n);else for(s in t)t[s]&&(a&&(a+=" "),a+=s);return a}function ws(){for(var t,s,n=0,a="";n<arguments.length;)(t=arguments[n++])&&(s=hf(t))&&(a&&(a+=" "),a+=s);return a}const _a=t=>typeof t=="number"&&!isNaN(t),on=t=>typeof t=="string",pt=t=>typeof t=="function",Lr=t=>on(t)||pt(t)?t:null,Nl=t=>C.isValidElement(t)||on(t)||pt(t)||_a(t);function sj(t,s,n){n===void 0&&(n=300);const{scrollHeight:a,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=a+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(s,n)})})}function zi(t){let{enter:s,exit:n,appendPosition:a=!1,collapse:i=!0,collapseDuration:l=300}=t;return function(o){let{children:d,position:c,preventExitTransition:u,done:m,nodeRef:h,isIn:g}=o;const x=a?`${s}--${c}`:s,b=a?`${n}--${c}`:n,_=C.useRef(0);return C.useLayoutEffect(()=>{const j=h.current,f=x.split(" "),p=v=>{v.target===h.current&&(j.dispatchEvent(new Event("d")),j.removeEventListener("animationend",p),j.removeEventListener("animationcancel",p),_.current===0&&v.type!=="animationcancel"&&j.classList.remove(...f))};j.classList.add(...f),j.addEventListener("animationend",p),j.addEventListener("animationcancel",p)},[]),C.useEffect(()=>{const j=h.current,f=()=>{j.removeEventListener("animationend",f),i?sj(j,m,l):m()};g||(u?f():(_.current=1,j.className+=` ${b}`,j.addEventListener("animationend",f)))},[g]),ue.createElement(ue.Fragment,null,d)}}function mu(t,s){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:s}:{}}const Tt={list:new Map,emitQueue:new Map,on(t,s){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(s),this},off(t,s){if(s){const n=this.list.get(t).filter(a=>a!==s);return this.list.set(t,n),this}return this.list.delete(t),this},cancelEmit(t){const s=this.emitQueue.get(t);return s&&(s.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(s=>{const n=setTimeout(()=>{s(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(n)})}},vr=t=>{let{theme:s,type:n,...a}=t;return ue.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:s==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...a})},_l={info:function(t){return ue.createElement(vr,{...t},ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return ue.createElement(vr,{...t},ue.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return ue.createElement(vr,{...t},ue.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return ue.createElement(vr,{...t},ue.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return ue.createElement("div",{className:"Toastify__spinner"})}};function nj(t){const[,s]=C.useReducer(x=>x+1,0),[n,a]=C.useState([]),i=C.useRef(null),l=C.useRef(new Map).current,o=x=>n.indexOf(x)!==-1,d=C.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:o,getToast:x=>l.get(x)}).current;function c(x){let{containerId:b}=x;const{limit:_}=d.props;!_||b&&d.containerId!==b||(d.count-=d.queue.length,d.queue=[])}function u(x){a(b=>x==null?[]:b.filter(_=>_!==x))}function m(){const{toastContent:x,toastProps:b,staleId:_}=d.queue.shift();g(x,b,_)}function h(x,b){let{delay:_,staleId:j,...f}=b;if(!Nl(x)||function(ee){return!i.current||d.props.enableMultiContainer&&ee.containerId!==d.props.containerId||l.has(ee.toastId)&&ee.updateId==null}(f))return;const{toastId:p,updateId:v,data:N}=f,{props:y}=d,w=()=>u(p),k=v==null;k&&d.count++;const O={...y,style:y.toastStyle,key:d.toastKey++,...Object.fromEntries(Object.entries(f).filter(ee=>{let[F,Q]=ee;return Q!=null})),toastId:p,updateId:v,data:N,closeToast:w,isIn:!1,className:Lr(f.className||y.toastClassName),bodyClassName:Lr(f.bodyClassName||y.bodyClassName),progressClassName:Lr(f.progressClassName||y.progressClassName),autoClose:!f.isLoading&&(M=f.autoClose,B=y.autoClose,M===!1||_a(M)&&M>0?M:B),deleteToast(){const ee=mu(l.get(p),"removed");l.delete(p),Tt.emit(4,ee);const F=d.queue.length;if(d.count=p==null?d.count-d.displayedToast:d.count-1,d.count<0&&(d.count=0),F>0){const Q=p==null?d.props.limit:1;if(F===1||Q===1)d.displayedToast++,m();else{const R=Q>F?F:Q;d.displayedToast=R;for(let I=0;I<R;I++)m()}}else s()}};var M,B;O.iconOut=function(ee){let{theme:F,type:Q,isLoading:R,icon:I}=ee,le=null;const z={theme:F,type:Q};return I===!1||(pt(I)?le=I(z):C.isValidElement(I)?le=C.cloneElement(I,z):on(I)||_a(I)?le=I:R?le=_l.spinner():(T=>T in _l)(Q)&&(le=_l[Q](z))),le}(O),pt(f.onOpen)&&(O.onOpen=f.onOpen),pt(f.onClose)&&(O.onClose=f.onClose),O.closeButton=y.closeButton,f.closeButton===!1||Nl(f.closeButton)?O.closeButton=f.closeButton:f.closeButton===!0&&(O.closeButton=!Nl(y.closeButton)||y.closeButton);let G=x;C.isValidElement(x)&&!on(x.type)?G=C.cloneElement(x,{closeToast:w,toastProps:O,data:N}):pt(x)&&(G=x({closeToast:w,toastProps:O,data:N})),y.limit&&y.limit>0&&d.count>y.limit&&k?d.queue.push({toastContent:G,toastProps:O,staleId:j}):_a(_)?setTimeout(()=>{g(G,O,j)},_):g(G,O,j)}function g(x,b,_){const{toastId:j}=b;_&&l.delete(_);const f={content:x,props:b};l.set(j,f),a(p=>[...p,j].filter(v=>v!==_)),Tt.emit(4,mu(f,f.props.updateId==null?"added":"updated"))}return C.useEffect(()=>(d.containerId=t.containerId,Tt.cancelEmit(3).on(0,h).on(1,x=>i.current&&u(x)).on(5,c).emit(2,d),()=>{l.clear(),Tt.emit(3,d)}),[]),C.useEffect(()=>{d.props=t,d.isToastActive=o,d.displayedToast=n.length}),{getToastToRender:function(x){const b=new Map,_=Array.from(l.values());return t.newestOnTop&&_.reverse(),_.forEach(j=>{const{position:f}=j.props;b.has(f)||b.set(f,[]),b.get(f).push(j)}),Array.from(b,j=>x(j[0],j[1]))},containerRef:i,isToastActive:o}}function hu(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function fu(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function aj(t){const[s,n]=C.useState(!1),[a,i]=C.useState(!1),l=C.useRef(null),o=C.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,d=C.useRef(t),{autoClose:c,pauseOnHover:u,closeToast:m,onClick:h,closeOnClick:g}=t;function x(N){if(t.draggable){N.nativeEvent.type==="touchstart"&&N.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",f),document.addEventListener("mouseup",p),document.addEventListener("touchmove",f),document.addEventListener("touchend",p);const y=l.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=y.getBoundingClientRect(),y.style.transition="",o.x=hu(N.nativeEvent),o.y=fu(N.nativeEvent),t.draggableDirection==="x"?(o.start=o.x,o.removalDistance=y.offsetWidth*(t.draggablePercent/100)):(o.start=o.y,o.removalDistance=y.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent/100))}}function b(N){if(o.boundingRect){const{top:y,bottom:w,left:k,right:O}=o.boundingRect;N.nativeEvent.type!=="touchend"&&t.pauseOnHover&&o.x>=k&&o.x<=O&&o.y>=y&&o.y<=w?j():_()}}function _(){n(!0)}function j(){n(!1)}function f(N){const y=l.current;o.canDrag&&y&&(o.didMove=!0,s&&j(),o.x=hu(N),o.y=fu(N),o.delta=t.draggableDirection==="x"?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),y.style.transform=`translate${t.draggableDirection}(${o.delta}px)`,y.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function p(){document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",p),document.removeEventListener("touchmove",f),document.removeEventListener("touchend",p);const N=l.current;if(o.canDrag&&o.didMove&&N){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void t.closeToast();N.style.transition="transform 0.2s, opacity 0.2s",N.style.transform=`translate${t.draggableDirection}(0)`,N.style.opacity="1"}}C.useEffect(()=>{d.current=t}),C.useEffect(()=>(l.current&&l.current.addEventListener("d",_,{once:!0}),pt(t.onOpen)&&t.onOpen(C.isValidElement(t.children)&&t.children.props),()=>{const N=d.current;pt(N.onClose)&&N.onClose(C.isValidElement(N.children)&&N.children.props)}),[]),C.useEffect(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||j(),window.addEventListener("focus",_),window.addEventListener("blur",j)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",_),window.removeEventListener("blur",j))}),[t.pauseOnFocusLoss]);const v={onMouseDown:x,onTouchStart:x,onMouseUp:b,onTouchEnd:b};return c&&u&&(v.onMouseEnter=j,v.onMouseLeave=_),g&&(v.onClick=N=>{h&&h(N),o.canCloseOnClick&&m()}),{playToast:_,pauseToast:j,isRunning:s,preventExitTransition:a,toastRef:l,eventHandlers:v}}function ff(t){let{closeToast:s,theme:n,ariaLabel:a="close"}=t;return ue.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:i=>{i.stopPropagation(),s(i)},"aria-label":a},ue.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},ue.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function rj(t){let{delay:s,isRunning:n,closeToast:a,type:i="default",hide:l,className:o,style:d,controlledProgress:c,progress:u,rtl:m,isIn:h,theme:g}=t;const x=l||c&&u===0,b={...d,animationDuration:`${s}ms`,animationPlayState:n?"running":"paused",opacity:x?0:1};c&&(b.transform=`scaleX(${u})`);const _=ws("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":m}),j=pt(o)?o({rtl:m,type:i,defaultClassName:_}):ws(_,o);return ue.createElement("div",{role:"progressbar","aria-hidden":x?"true":"false","aria-label":"notification timer",className:j,style:b,[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{h&&a()}})}const ij=t=>{const{isRunning:s,preventExitTransition:n,toastRef:a,eventHandlers:i}=aj(t),{closeButton:l,children:o,autoClose:d,onClick:c,type:u,hideProgressBar:m,closeToast:h,transition:g,position:x,className:b,style:_,bodyClassName:j,bodyStyle:f,progressClassName:p,progressStyle:v,updateId:N,role:y,progress:w,rtl:k,toastId:O,deleteToast:M,isIn:B,isLoading:G,iconOut:ee,closeOnClick:F,theme:Q}=t,R=ws("Toastify__toast",`Toastify__toast-theme--${Q}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":k},{"Toastify__toast--close-on-click":F}),I=pt(b)?b({rtl:k,position:x,type:u,defaultClassName:R}):ws(R,b),le=!!w||!d,z={closeToast:h,type:u,theme:Q};let T=null;return l===!1||(T=pt(l)?l(z):C.isValidElement(l)?C.cloneElement(l,z):ff(z)),ue.createElement(g,{isIn:B,done:M,position:x,preventExitTransition:n,nodeRef:a},ue.createElement("div",{id:O,onClick:c,className:I,...i,style:_,ref:a},ue.createElement("div",{...B&&{role:y},className:pt(j)?j({type:u}):ws("Toastify__toast-body",j),style:f},ee!=null&&ue.createElement("div",{className:ws("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!G})},ee),ue.createElement("div",null,o)),T,ue.createElement(rj,{...N&&!le?{key:`pb-${N}`}:{},rtl:k,theme:Q,delay:d,isRunning:s,isIn:B,closeToast:h,hide:m,type:u,style:v,className:p,controlledProgress:le,progress:w||0})))},Ui=function(t,s){return s===void 0&&(s=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:s}},lj=zi(Ui("bounce",!0));zi(Ui("slide",!0));zi(Ui("zoom"));zi(Ui("flip"));const gi=C.forwardRef((t,s)=>{const{getToastToRender:n,containerRef:a,isToastActive:i}=nj(t),{className:l,style:o,rtl:d,containerId:c}=t;function u(m){const h=ws("Toastify__toast-container",`Toastify__toast-container--${m}`,{"Toastify__toast-container--rtl":d});return pt(l)?l({position:m,rtl:d,defaultClassName:h}):ws(h,Lr(l))}return C.useEffect(()=>{s&&(s.current=a.current)},[]),ue.createElement("div",{ref:a,className:"Toastify",id:c},n((m,h)=>{const g=h.length?{...o}:{...o,pointerEvents:"none"};return ue.createElement("div",{className:u(m),style:g,key:`container-${m}`},h.map((x,b)=>{let{content:_,props:j}=x;return ue.createElement(ij,{...j,isIn:i(j.toastId),style:{...j.style,"--nth":b+1,"--len":h.length},key:`toast-${j.key}`},_)}))}))});gi.displayName="ToastContainer",gi.defaultProps={position:"top-right",transition:lj,autoClose:5e3,closeButton:ff,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let wl,Hs=new Map,ma=[],oj=1;function pf(){return""+oj++}function cj(t){return t&&(on(t.toastId)||_a(t.toastId))?t.toastId:pf()}function wa(t,s){return Hs.size>0?Tt.emit(0,t,s):ma.push({content:t,options:s}),s.toastId}function vi(t,s){return{...s,type:s&&s.type||t,toastId:cj(s)}}function jr(t){return(s,n)=>wa(s,vi(t,n))}function U(t,s){return wa(t,vi("default",s))}U.loading=(t,s)=>wa(t,vi("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...s})),U.promise=function(t,s,n){let a,{pending:i,error:l,success:o}=s;i&&(a=on(i)?U.loading(i,n):U.loading(i.render,{...n,...i}));const d={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(m,h,g)=>{if(h==null)return void U.dismiss(a);const x={type:m,...d,...n,data:g},b=on(h)?{render:h}:h;return a?U.update(a,{...x,...b}):U(b.render,{...x,...b}),g},u=pt(t)?t():t;return u.then(m=>c("success",o,m)).catch(m=>c("error",l,m)),u},U.success=jr("success"),U.info=jr("info"),U.error=jr("error"),U.warning=jr("warning"),U.warn=U.warning,U.dark=(t,s)=>wa(t,vi("default",{theme:"dark",...s})),U.dismiss=t=>{Hs.size>0?Tt.emit(1,t):ma=ma.filter(s=>t!=null&&s.options.toastId!==t)},U.clearWaitingQueue=function(t){return t===void 0&&(t={}),Tt.emit(5,t)},U.isActive=t=>{let s=!1;return Hs.forEach(n=>{n.isToastActive&&n.isToastActive(t)&&(s=!0)}),s},U.update=function(t,s){s===void 0&&(s={}),setTimeout(()=>{const n=function(a,i){let{containerId:l}=i;const o=Hs.get(l||wl);return o&&o.getToast(a)}(t,s);if(n){const{props:a,content:i}=n,l={delay:100,...a,...s,toastId:s.toastId||t,updateId:pf()};l.toastId!==t&&(l.staleId=t);const o=l.render||i;delete l.render,wa(o,l)}},0)},U.done=t=>{U.update(t,{progress:1})},U.onChange=t=>(Tt.on(4,t),()=>{Tt.off(4,t)}),U.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},U.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Tt.on(2,t=>{wl=t.containerId||t,Hs.set(wl,t),ma.forEach(s=>{Tt.emit(0,s.content,s.options)}),ma=[]}).on(3,t=>{Hs.delete(t.containerId||t),Hs.size===0&&Tt.off(0).off(1).off(5)});function xf(t,s){return function(){return t.apply(s,arguments)}}const{toString:dj}=Object.prototype,{getPrototypeOf:Lc}=Object,{iterator:Bi,toStringTag:gf}=Symbol,Qi=(t=>s=>{const n=dj.call(s);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Vt=t=>(t=t.toLowerCase(),s=>Qi(s)===t),qi=t=>s=>typeof s===t,{isArray:Vn}=Array,qa=qi("undefined");function Ja(t){return t!==null&&!qa(t)&&t.constructor!==null&&!qa(t.constructor)&&jt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const vf=Vt("ArrayBuffer");function uj(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&vf(t.buffer),s}const mj=qi("string"),jt=qi("function"),jf=qi("number"),Xa=t=>t!==null&&typeof t=="object",hj=t=>t===!0||t===!1,Fr=t=>{if(Qi(t)!=="object")return!1;const s=Lc(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(gf in t)&&!(Bi in t)},fj=t=>{if(!Xa(t)||Ja(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},pj=Vt("Date"),xj=Vt("File"),gj=Vt("Blob"),vj=Vt("FileList"),jj=t=>Xa(t)&&jt(t.pipe),bj=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||jt(t.append)&&((s=Qi(t))==="formdata"||s==="object"&&jt(t.toString)&&t.toString()==="[object FormData]"))},yj=Vt("URLSearchParams"),[Nj,_j,wj,Sj]=["ReadableStream","Request","Response","Headers"].map(Vt),Cj=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Za(t,s,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let a,i;if(typeof t!="object"&&(t=[t]),Vn(t))for(a=0,i=t.length;a<i;a++)s.call(null,t[a],a,t);else{if(Ja(t))return;const l=n?Object.getOwnPropertyNames(t):Object.keys(t),o=l.length;let d;for(a=0;a<o;a++)d=l[a],s.call(null,t[d],d,t)}}function bf(t,s){if(Ja(t))return null;s=s.toLowerCase();const n=Object.keys(t);let a=n.length,i;for(;a-- >0;)if(i=n[a],s===i.toLowerCase())return i;return null}const Xs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,yf=t=>!qa(t)&&t!==Xs;function Ro(){const{caseless:t}=yf(this)&&this||{},s={},n=(a,i)=>{const l=t&&bf(s,i)||i;Fr(s[l])&&Fr(a)?s[l]=Ro(s[l],a):Fr(a)?s[l]=Ro({},a):Vn(a)?s[l]=a.slice():s[l]=a};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Za(arguments[a],n);return s}const kj=(t,s,n,{allOwnKeys:a}={})=>(Za(s,(i,l)=>{n&&jt(i)?t[l]=xf(i,n):t[l]=i},{allOwnKeys:a}),t),Ej=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Pj=(t,s,n,a)=>{t.prototype=Object.create(s.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),n&&Object.assign(t.prototype,n)},Rj=(t,s,n,a)=>{let i,l,o;const d={};if(s=s||{},t==null)return s;do{for(i=Object.getOwnPropertyNames(t),l=i.length;l-- >0;)o=i[l],(!a||a(o,t,s))&&!d[o]&&(s[o]=t[o],d[o]=!0);t=n!==!1&&Lc(t)}while(t&&(!n||n(t,s))&&t!==Object.prototype);return s},Tj=(t,s,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=s.length;const a=t.indexOf(s,n);return a!==-1&&a===n},Oj=t=>{if(!t)return null;if(Vn(t))return t;let s=t.length;if(!jf(s))return null;const n=new Array(s);for(;s-- >0;)n[s]=t[s];return n},Mj=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&Lc(Uint8Array)),Dj=(t,s)=>{const a=(t&&t[Bi]).call(t);let i;for(;(i=a.next())&&!i.done;){const l=i.value;s.call(t,l[0],l[1])}},Lj=(t,s)=>{let n;const a=[];for(;(n=t.exec(s))!==null;)a.push(n);return a},Fj=Vt("HTMLFormElement"),Aj=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,a,i){return a.toUpperCase()+i}),pu=(({hasOwnProperty:t})=>(s,n)=>t.call(s,n))(Object.prototype),Ij=Vt("RegExp"),Nf=(t,s)=>{const n=Object.getOwnPropertyDescriptors(t),a={};Za(n,(i,l)=>{let o;(o=s(i,l,t))!==!1&&(a[l]=o||i)}),Object.defineProperties(t,a)},$j=t=>{Nf(t,(s,n)=>{if(jt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const a=t[n];if(jt(a)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},zj=(t,s)=>{const n={},a=i=>{i.forEach(l=>{n[l]=!0})};return Vn(t)?a(t):a(String(t).split(s)),n},Uj=()=>{},Bj=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function Qj(t){return!!(t&&jt(t.append)&&t[gf]==="FormData"&&t[Bi])}const qj=t=>{const s=new Array(10),n=(a,i)=>{if(Xa(a)){if(s.indexOf(a)>=0)return;if(Ja(a))return a;if(!("toJSON"in a)){s[i]=a;const l=Vn(a)?[]:{};return Za(a,(o,d)=>{const c=n(o,i+1);!qa(c)&&(l[d]=c)}),s[i]=void 0,l}}return a};return n(t,0)},Wj=Vt("AsyncFunction"),Hj=t=>t&&(Xa(t)||jt(t))&&jt(t.then)&&jt(t.catch),_f=((t,s)=>t?setImmediate:s?((n,a)=>(Xs.addEventListener("message",({source:i,data:l})=>{i===Xs&&l===n&&a.length&&a.shift()()},!1),i=>{a.push(i),Xs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",jt(Xs.postMessage)),Vj=typeof queueMicrotask<"u"?queueMicrotask.bind(Xs):typeof process<"u"&&process.nextTick||_f,Kj=t=>t!=null&&jt(t[Bi]),A={isArray:Vn,isArrayBuffer:vf,isBuffer:Ja,isFormData:bj,isArrayBufferView:uj,isString:mj,isNumber:jf,isBoolean:hj,isObject:Xa,isPlainObject:Fr,isEmptyObject:fj,isReadableStream:Nj,isRequest:_j,isResponse:wj,isHeaders:Sj,isUndefined:qa,isDate:pj,isFile:xj,isBlob:gj,isRegExp:Ij,isFunction:jt,isStream:jj,isURLSearchParams:yj,isTypedArray:Mj,isFileList:vj,forEach:Za,merge:Ro,extend:kj,trim:Cj,stripBOM:Ej,inherits:Pj,toFlatObject:Rj,kindOf:Qi,kindOfTest:Vt,endsWith:Tj,toArray:Oj,forEachEntry:Dj,matchAll:Lj,isHTMLForm:Fj,hasOwnProperty:pu,hasOwnProp:pu,reduceDescriptors:Nf,freezeMethods:$j,toObjectSet:zj,toCamelCase:Aj,noop:Uj,toFiniteNumber:Bj,findKey:bf,global:Xs,isContextDefined:yf,isSpecCompliantForm:Qj,toJSONObject:qj,isAsyncFn:Wj,isThenable:Hj,setImmediate:_f,asap:Vj,isIterable:Kj};function he(t,s,n,a,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),n&&(this.config=n),a&&(this.request=a),i&&(this.response=i,this.status=i.status?i.status:null)}A.inherits(he,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:A.toJSONObject(this.config),code:this.code,status:this.status}}});const wf=he.prototype,Sf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Sf[t]={value:t}});Object.defineProperties(he,Sf);Object.defineProperty(wf,"isAxiosError",{value:!0});he.from=(t,s,n,a,i,l)=>{const o=Object.create(wf);return A.toFlatObject(t,o,function(c){return c!==Error.prototype},d=>d!=="isAxiosError"),he.call(o,t.message,s,n,a,i),o.cause=t,o.name=t.name,l&&Object.assign(o,l),o};const Gj=null;function To(t){return A.isPlainObject(t)||A.isArray(t)}function Cf(t){return A.endsWith(t,"[]")?t.slice(0,-2):t}function xu(t,s,n){return t?t.concat(s).map(function(i,l){return i=Cf(i),!n&&l?"["+i+"]":i}).join(n?".":""):s}function Yj(t){return A.isArray(t)&&!t.some(To)}const Jj=A.toFlatObject(A,{},null,function(s){return/^is[A-Z]/.test(s)});function Wi(t,s,n){if(!A.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,n=A.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,j){return!A.isUndefined(j[_])});const a=n.metaTokens,i=n.visitor||m,l=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&A.isSpecCompliantForm(s);if(!A.isFunction(i))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(A.isDate(b))return b.toISOString();if(A.isBoolean(b))return b.toString();if(!c&&A.isBlob(b))throw new he("Blob is not supported. Use a Buffer instead.");return A.isArrayBuffer(b)||A.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function m(b,_,j){let f=b;if(b&&!j&&typeof b=="object"){if(A.endsWith(_,"{}"))_=a?_:_.slice(0,-2),b=JSON.stringify(b);else if(A.isArray(b)&&Yj(b)||(A.isFileList(b)||A.endsWith(_,"[]"))&&(f=A.toArray(b)))return _=Cf(_),f.forEach(function(v,N){!(A.isUndefined(v)||v===null)&&s.append(o===!0?xu([_],N,l):o===null?_:_+"[]",u(v))}),!1}return To(b)?!0:(s.append(xu(j,_,l),u(b)),!1)}const h=[],g=Object.assign(Jj,{defaultVisitor:m,convertValue:u,isVisitable:To});function x(b,_){if(!A.isUndefined(b)){if(h.indexOf(b)!==-1)throw Error("Circular reference detected in "+_.join("."));h.push(b),A.forEach(b,function(f,p){(!(A.isUndefined(f)||f===null)&&i.call(s,f,A.isString(p)?p.trim():p,_,g))===!0&&x(f,_?_.concat(p):[p])}),h.pop()}}if(!A.isObject(t))throw new TypeError("data must be an object");return x(t),s}function gu(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return s[a]})}function Fc(t,s){this._pairs=[],t&&Wi(t,this,s)}const kf=Fc.prototype;kf.append=function(s,n){this._pairs.push([s,n])};kf.toString=function(s){const n=s?function(a){return s.call(this,a,gu)}:gu;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Xj(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ef(t,s,n){if(!s)return t;const a=n&&n.encode||Xj;A.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let l;if(i?l=i(s,n):l=A.isURLSearchParams(s)?s.toString():new Fc(s,n).toString(a),l){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class vu{constructor(){this.handlers=[]}use(s,n,a){return this.handlers.push({fulfilled:s,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){A.forEach(this.handlers,function(a){a!==null&&s(a)})}}const Pf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zj=typeof URLSearchParams<"u"?URLSearchParams:Fc,e0=typeof FormData<"u"?FormData:null,t0=typeof Blob<"u"?Blob:null,s0={isBrowser:!0,classes:{URLSearchParams:Zj,FormData:e0,Blob:t0},protocols:["http","https","file","blob","url","data"]},Ac=typeof window<"u"&&typeof document<"u",Oo=typeof navigator=="object"&&navigator||void 0,n0=Ac&&(!Oo||["ReactNative","NativeScript","NS"].indexOf(Oo.product)<0),a0=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",r0=Ac&&window.location.href||"http://localhost",i0=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ac,hasStandardBrowserEnv:n0,hasStandardBrowserWebWorkerEnv:a0,navigator:Oo,origin:r0},Symbol.toStringTag,{value:"Module"})),at={...i0,...s0};function l0(t,s){return Wi(t,new at.classes.URLSearchParams,{visitor:function(n,a,i,l){return at.isNode&&A.isBuffer(n)?(this.append(a,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...s})}function o0(t){return A.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function c0(t){const s={},n=Object.keys(t);let a;const i=n.length;let l;for(a=0;a<i;a++)l=n[a],s[l]=t[l];return s}function Rf(t){function s(n,a,i,l){let o=n[l++];if(o==="__proto__")return!0;const d=Number.isFinite(+o),c=l>=n.length;return o=!o&&A.isArray(i)?i.length:o,c?(A.hasOwnProp(i,o)?i[o]=[i[o],a]:i[o]=a,!d):((!i[o]||!A.isObject(i[o]))&&(i[o]=[]),s(n,a,i[o],l)&&A.isArray(i[o])&&(i[o]=c0(i[o])),!d)}if(A.isFormData(t)&&A.isFunction(t.entries)){const n={};return A.forEachEntry(t,(a,i)=>{s(o0(a),i,n,0)}),n}return null}function d0(t,s,n){if(A.isString(t))try{return(s||JSON.parse)(t),A.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(n||JSON.stringify)(t)}const er={transitional:Pf,adapter:["xhr","http","fetch"],transformRequest:[function(s,n){const a=n.getContentType()||"",i=a.indexOf("application/json")>-1,l=A.isObject(s);if(l&&A.isHTMLForm(s)&&(s=new FormData(s)),A.isFormData(s))return i?JSON.stringify(Rf(s)):s;if(A.isArrayBuffer(s)||A.isBuffer(s)||A.isStream(s)||A.isFile(s)||A.isBlob(s)||A.isReadableStream(s))return s;if(A.isArrayBufferView(s))return s.buffer;if(A.isURLSearchParams(s))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let d;if(l){if(a.indexOf("application/x-www-form-urlencoded")>-1)return l0(s,this.formSerializer).toString();if((d=A.isFileList(s))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Wi(d?{"files[]":s}:s,c&&new c,this.formSerializer)}}return l||i?(n.setContentType("application/json",!1),d0(s)):s}],transformResponse:[function(s){const n=this.transitional||er.transitional,a=n&&n.forcedJSONParsing,i=this.responseType==="json";if(A.isResponse(s)||A.isReadableStream(s))return s;if(s&&A.isString(s)&&(a&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(s)}catch(d){if(o)throw d.name==="SyntaxError"?he.from(d,he.ERR_BAD_RESPONSE,this,null,this.response):d}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:at.classes.FormData,Blob:at.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};A.forEach(["delete","get","head","post","put","patch"],t=>{er.headers[t]={}});const u0=A.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),m0=t=>{const s={};let n,a,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),a=o.substring(i+1).trim(),!(!n||s[n]&&u0[n])&&(n==="set-cookie"?s[n]?s[n].push(a):s[n]=[a]:s[n]=s[n]?s[n]+", "+a:a)}),s},ju=Symbol("internals");function la(t){return t&&String(t).trim().toLowerCase()}function Ar(t){return t===!1||t==null?t:A.isArray(t)?t.map(Ar):String(t)}function h0(t){const s=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(t);)s[a[1]]=a[2];return s}const f0=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Sl(t,s,n,a,i){if(A.isFunction(a))return a.call(this,s,n);if(i&&(s=n),!!A.isString(s)){if(A.isString(a))return s.indexOf(a)!==-1;if(A.isRegExp(a))return a.test(s)}}function p0(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,n,a)=>n.toUpperCase()+a)}function x0(t,s){const n=A.toCamelCase(" "+s);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+n,{value:function(i,l,o){return this[a].call(this,s,i,l,o)},configurable:!0})})}let bt=class{constructor(s){s&&this.set(s)}set(s,n,a){const i=this;function l(d,c,u){const m=la(c);if(!m)throw new Error("header name must be a non-empty string");const h=A.findKey(i,m);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||c]=Ar(d))}const o=(d,c)=>A.forEach(d,(u,m)=>l(u,m,c));if(A.isPlainObject(s)||s instanceof this.constructor)o(s,n);else if(A.isString(s)&&(s=s.trim())&&!f0(s))o(m0(s),n);else if(A.isObject(s)&&A.isIterable(s)){let d={},c,u;for(const m of s){if(!A.isArray(m))throw TypeError("Object iterator must return a key-value pair");d[u=m[0]]=(c=d[u])?A.isArray(c)?[...c,m[1]]:[c,m[1]]:m[1]}o(d,n)}else s!=null&&l(n,s,a);return this}get(s,n){if(s=la(s),s){const a=A.findKey(this,s);if(a){const i=this[a];if(!n)return i;if(n===!0)return h0(i);if(A.isFunction(n))return n.call(this,i,a);if(A.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,n){if(s=la(s),s){const a=A.findKey(this,s);return!!(a&&this[a]!==void 0&&(!n||Sl(this,this[a],a,n)))}return!1}delete(s,n){const a=this;let i=!1;function l(o){if(o=la(o),o){const d=A.findKey(a,o);d&&(!n||Sl(a,a[d],d,n))&&(delete a[d],i=!0)}}return A.isArray(s)?s.forEach(l):l(s),i}clear(s){const n=Object.keys(this);let a=n.length,i=!1;for(;a--;){const l=n[a];(!s||Sl(this,this[l],l,s,!0))&&(delete this[l],i=!0)}return i}normalize(s){const n=this,a={};return A.forEach(this,(i,l)=>{const o=A.findKey(a,l);if(o){n[o]=Ar(i),delete n[l];return}const d=s?p0(l):String(l).trim();d!==l&&delete n[l],n[d]=Ar(i),a[d]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const n=Object.create(null);return A.forEach(this,(a,i)=>{a!=null&&a!==!1&&(n[i]=s&&A.isArray(a)?a.join(", "):a)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,n])=>s+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...n){const a=new this(s);return n.forEach(i=>a.set(i)),a}static accessor(s){const a=(this[ju]=this[ju]={accessors:{}}).accessors,i=this.prototype;function l(o){const d=la(o);a[d]||(x0(i,o),a[d]=!0)}return A.isArray(s)?s.forEach(l):l(s),this}};bt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);A.reduceDescriptors(bt.prototype,({value:t},s)=>{let n=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(a){this[n]=a}}});A.freezeMethods(bt);function Cl(t,s){const n=this||er,a=s||n,i=bt.from(a.headers);let l=a.data;return A.forEach(t,function(d){l=d.call(n,l,i.normalize(),s?s.status:void 0)}),i.normalize(),l}function Tf(t){return!!(t&&t.__CANCEL__)}function Kn(t,s,n){he.call(this,t??"canceled",he.ERR_CANCELED,s,n),this.name="CanceledError"}A.inherits(Kn,he,{__CANCEL__:!0});function Of(t,s,n){const a=n.config.validateStatus;!n.status||!a||a(n.status)?t(n):s(new he("Request failed with status code "+n.status,[he.ERR_BAD_REQUEST,he.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function g0(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function v0(t,s){t=t||10;const n=new Array(t),a=new Array(t);let i=0,l=0,o;return s=s!==void 0?s:1e3,function(c){const u=Date.now(),m=a[l];o||(o=u),n[i]=c,a[i]=u;let h=l,g=0;for(;h!==i;)g+=n[h++],h=h%t;if(i=(i+1)%t,i===l&&(l=(l+1)%t),u-o<s)return;const x=m&&u-m;return x?Math.round(g*1e3/x):void 0}}function j0(t,s){let n=0,a=1e3/s,i,l;const o=(u,m=Date.now())=>{n=m,i=null,l&&(clearTimeout(l),l=null),t(...u)};return[(...u)=>{const m=Date.now(),h=m-n;h>=a?o(u,m):(i=u,l||(l=setTimeout(()=>{l=null,o(i)},a-h)))},()=>i&&o(i)]}const ji=(t,s,n=3)=>{let a=0;const i=v0(50,250);return j0(l=>{const o=l.loaded,d=l.lengthComputable?l.total:void 0,c=o-a,u=i(c),m=o<=d;a=o;const h={loaded:o,total:d,progress:d?o/d:void 0,bytes:c,rate:u||void 0,estimated:u&&d&&m?(d-o)/u:void 0,event:l,lengthComputable:d!=null,[s?"download":"upload"]:!0};t(h)},n)},bu=(t,s)=>{const n=t!=null;return[a=>s[0]({lengthComputable:n,total:t,loaded:a}),s[1]]},yu=t=>(...s)=>A.asap(()=>t(...s)),b0=at.hasStandardBrowserEnv?((t,s)=>n=>(n=new URL(n,at.origin),t.protocol===n.protocol&&t.host===n.host&&(s||t.port===n.port)))(new URL(at.origin),at.navigator&&/(msie|trident)/i.test(at.navigator.userAgent)):()=>!0,y0=at.hasStandardBrowserEnv?{write(t,s,n,a,i,l){const o=[t+"="+encodeURIComponent(s)];A.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),A.isString(a)&&o.push("path="+a),A.isString(i)&&o.push("domain="+i),l===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function N0(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function _0(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function Mf(t,s,n){let a=!N0(s);return t&&(a||n==!1)?_0(t,s):s}const Nu=t=>t instanceof bt?{...t}:t;function cn(t,s){s=s||{};const n={};function a(u,m,h,g){return A.isPlainObject(u)&&A.isPlainObject(m)?A.merge.call({caseless:g},u,m):A.isPlainObject(m)?A.merge({},m):A.isArray(m)?m.slice():m}function i(u,m,h,g){if(A.isUndefined(m)){if(!A.isUndefined(u))return a(void 0,u,h,g)}else return a(u,m,h,g)}function l(u,m){if(!A.isUndefined(m))return a(void 0,m)}function o(u,m){if(A.isUndefined(m)){if(!A.isUndefined(u))return a(void 0,u)}else return a(void 0,m)}function d(u,m,h){if(h in s)return a(u,m);if(h in t)return a(void 0,u)}const c={url:l,method:l,data:l,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:d,headers:(u,m,h)=>i(Nu(u),Nu(m),h,!0)};return A.forEach(Object.keys({...t,...s}),function(m){const h=c[m]||i,g=h(t[m],s[m],m);A.isUndefined(g)&&h!==d||(n[m]=g)}),n}const Df=t=>{const s=cn({},t);let{data:n,withXSRFToken:a,xsrfHeaderName:i,xsrfCookieName:l,headers:o,auth:d}=s;s.headers=o=bt.from(o),s.url=Ef(Mf(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&o.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let c;if(A.isFormData(n)){if(at.hasStandardBrowserEnv||at.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...m]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...m].join("; "))}}if(at.hasStandardBrowserEnv&&(a&&A.isFunction(a)&&(a=a(s)),a||a!==!1&&b0(s.url))){const u=i&&l&&y0.read(l);u&&o.set(i,u)}return s},w0=typeof XMLHttpRequest<"u",S0=w0&&function(t){return new Promise(function(n,a){const i=Df(t);let l=i.data;const o=bt.from(i.headers).normalize();let{responseType:d,onUploadProgress:c,onDownloadProgress:u}=i,m,h,g,x,b;function _(){x&&x(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(m),i.signal&&i.signal.removeEventListener("abort",m)}let j=new XMLHttpRequest;j.open(i.method.toUpperCase(),i.url,!0),j.timeout=i.timeout;function f(){if(!j)return;const v=bt.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),y={data:!d||d==="text"||d==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:v,config:t,request:j};Of(function(k){n(k),_()},function(k){a(k),_()},y),j=null}"onloadend"in j?j.onloadend=f:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(f)},j.onabort=function(){j&&(a(new he("Request aborted",he.ECONNABORTED,t,j)),j=null)},j.onerror=function(){a(new he("Network Error",he.ERR_NETWORK,t,j)),j=null},j.ontimeout=function(){let N=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const y=i.transitional||Pf;i.timeoutErrorMessage&&(N=i.timeoutErrorMessage),a(new he(N,y.clarifyTimeoutError?he.ETIMEDOUT:he.ECONNABORTED,t,j)),j=null},l===void 0&&o.setContentType(null),"setRequestHeader"in j&&A.forEach(o.toJSON(),function(N,y){j.setRequestHeader(y,N)}),A.isUndefined(i.withCredentials)||(j.withCredentials=!!i.withCredentials),d&&d!=="json"&&(j.responseType=i.responseType),u&&([g,b]=ji(u,!0),j.addEventListener("progress",g)),c&&j.upload&&([h,x]=ji(c),j.upload.addEventListener("progress",h),j.upload.addEventListener("loadend",x)),(i.cancelToken||i.signal)&&(m=v=>{j&&(a(!v||v.type?new Kn(null,t,j):v),j.abort(),j=null)},i.cancelToken&&i.cancelToken.subscribe(m),i.signal&&(i.signal.aborted?m():i.signal.addEventListener("abort",m)));const p=g0(i.url);if(p&&at.protocols.indexOf(p)===-1){a(new he("Unsupported protocol "+p+":",he.ERR_BAD_REQUEST,t));return}j.send(l||null)})},C0=(t,s)=>{const{length:n}=t=t?t.filter(Boolean):[];if(s||n){let a=new AbortController,i;const l=function(u){if(!i){i=!0,d();const m=u instanceof Error?u:this.reason;a.abort(m instanceof he?m:new Kn(m instanceof Error?m.message:m))}};let o=s&&setTimeout(()=>{o=null,l(new he(`timeout ${s} of ms exceeded`,he.ETIMEDOUT))},s);const d=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(l):u.removeEventListener("abort",l)}),t=null)};t.forEach(u=>u.addEventListener("abort",l));const{signal:c}=a;return c.unsubscribe=()=>A.asap(d),c}},k0=function*(t,s){let n=t.byteLength;if(n<s){yield t;return}let a=0,i;for(;a<n;)i=a+s,yield t.slice(a,i),a=i},E0=async function*(t,s){for await(const n of P0(t))yield*k0(n,s)},P0=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:n,value:a}=await s.read();if(n)break;yield a}}finally{await s.cancel()}},_u=(t,s,n,a)=>{const i=E0(t,s);let l=0,o,d=c=>{o||(o=!0,a&&a(c))};return new ReadableStream({async pull(c){try{const{done:u,value:m}=await i.next();if(u){d(),c.close();return}let h=m.byteLength;if(n){let g=l+=h;n(g)}c.enqueue(new Uint8Array(m))}catch(u){throw d(u),u}},cancel(c){return d(c),i.return()}},{highWaterMark:2})},Hi=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Lf=Hi&&typeof ReadableStream=="function",R0=Hi&&(typeof TextEncoder=="function"?(t=>s=>t.encode(s))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Ff=(t,...s)=>{try{return!!t(...s)}catch{return!1}},T0=Lf&&Ff(()=>{let t=!1;const s=new Request(at.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!s}),wu=64*1024,Mo=Lf&&Ff(()=>A.isReadableStream(new Response("").body)),bi={stream:Mo&&(t=>t.body)};Hi&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!bi[s]&&(bi[s]=A.isFunction(t[s])?n=>n[s]():(n,a)=>{throw new he(`Response type '${s}' is not supported`,he.ERR_NOT_SUPPORT,a)})})})(new Response);const O0=async t=>{if(t==null)return 0;if(A.isBlob(t))return t.size;if(A.isSpecCompliantForm(t))return(await new Request(at.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(A.isArrayBufferView(t)||A.isArrayBuffer(t))return t.byteLength;if(A.isURLSearchParams(t)&&(t=t+""),A.isString(t))return(await R0(t)).byteLength},M0=async(t,s)=>{const n=A.toFiniteNumber(t.getContentLength());return n??O0(s)},D0=Hi&&(async t=>{let{url:s,method:n,data:a,signal:i,cancelToken:l,timeout:o,onDownloadProgress:d,onUploadProgress:c,responseType:u,headers:m,withCredentials:h="same-origin",fetchOptions:g}=Df(t);u=u?(u+"").toLowerCase():"text";let x=C0([i,l&&l.toAbortSignal()],o),b;const _=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let j;try{if(c&&T0&&n!=="get"&&n!=="head"&&(j=await M0(m,a))!==0){let y=new Request(s,{method:"POST",body:a,duplex:"half"}),w;if(A.isFormData(a)&&(w=y.headers.get("content-type"))&&m.setContentType(w),y.body){const[k,O]=bu(j,ji(yu(c)));a=_u(y.body,wu,k,O)}}A.isString(h)||(h=h?"include":"omit");const f="credentials"in Request.prototype;b=new Request(s,{...g,signal:x,method:n.toUpperCase(),headers:m.normalize().toJSON(),body:a,duplex:"half",credentials:f?h:void 0});let p=await fetch(b,g);const v=Mo&&(u==="stream"||u==="response");if(Mo&&(d||v&&_)){const y={};["status","statusText","headers"].forEach(M=>{y[M]=p[M]});const w=A.toFiniteNumber(p.headers.get("content-length")),[k,O]=d&&bu(w,ji(yu(d),!0))||[];p=new Response(_u(p.body,wu,k,()=>{O&&O(),_&&_()}),y)}u=u||"text";let N=await bi[A.findKey(bi,u)||"text"](p,t);return!v&&_&&_(),await new Promise((y,w)=>{Of(y,w,{data:N,headers:bt.from(p.headers),status:p.status,statusText:p.statusText,config:t,request:b})})}catch(f){throw _&&_(),f&&f.name==="TypeError"&&/Load failed|fetch/i.test(f.message)?Object.assign(new he("Network Error",he.ERR_NETWORK,t,b),{cause:f.cause||f}):he.from(f,f&&f.code,t,b)}}),Do={http:Gj,xhr:S0,fetch:D0};A.forEach(Do,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const Su=t=>`- ${t}`,L0=t=>A.isFunction(t)||t===null||t===!1,Af={getAdapter:t=>{t=A.isArray(t)?t:[t];const{length:s}=t;let n,a;const i={};for(let l=0;l<s;l++){n=t[l];let o;if(a=n,!L0(n)&&(a=Do[(o=String(n)).toLowerCase()],a===void 0))throw new he(`Unknown adapter '${o}'`);if(a)break;i[o||"#"+l]=a}if(!a){const l=Object.entries(i).map(([d,c])=>`adapter ${d} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=s?l.length>1?`since :
`+l.map(Su).join(`
`):" "+Su(l[0]):"as no adapter specified";throw new he("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:Do};function kl(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Kn(null,t)}function Cu(t){return kl(t),t.headers=bt.from(t.headers),t.data=Cl.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Af.getAdapter(t.adapter||er.adapter)(t).then(function(a){return kl(t),a.data=Cl.call(t,t.transformResponse,a),a.headers=bt.from(a.headers),a},function(a){return Tf(a)||(kl(t),a&&a.response&&(a.response.data=Cl.call(t,t.transformResponse,a.response),a.response.headers=bt.from(a.response.headers))),Promise.reject(a)})}const If="1.11.0",Vi={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{Vi[t]=function(a){return typeof a===t||"a"+(s<1?"n ":" ")+t}});const ku={};Vi.transitional=function(s,n,a){function i(l,o){return"[Axios v"+If+"] Transitional option '"+l+"'"+o+(a?". "+a:"")}return(l,o,d)=>{if(s===!1)throw new he(i(o," has been removed"+(n?" in "+n:"")),he.ERR_DEPRECATED);return n&&!ku[o]&&(ku[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),s?s(l,o,d):!0}};Vi.spelling=function(s){return(n,a)=>(console.warn(`${a} is likely a misspelling of ${s}`),!0)};function F0(t,s,n){if(typeof t!="object")throw new he("options must be an object",he.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let i=a.length;for(;i-- >0;){const l=a[i],o=s[l];if(o){const d=t[l],c=d===void 0||o(d,l,t);if(c!==!0)throw new he("option "+l+" must be "+c,he.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new he("Unknown option "+l,he.ERR_BAD_OPTION)}}const Ir={assertOptions:F0,validators:Vi},Gt=Ir.validators;let tn=class{constructor(s){this.defaults=s||{},this.interceptors={request:new vu,response:new vu}}async request(s,n){try{return await this._request(s,n)}catch(a){if(a instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const l=i.stack?i.stack.replace(/^.+\n/,""):"";try{a.stack?l&&!String(a.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+l):a.stack=l}catch{}}throw a}}_request(s,n){typeof s=="string"?(n=n||{},n.url=s):n=s||{},n=cn(this.defaults,n);const{transitional:a,paramsSerializer:i,headers:l}=n;a!==void 0&&Ir.assertOptions(a,{silentJSONParsing:Gt.transitional(Gt.boolean),forcedJSONParsing:Gt.transitional(Gt.boolean),clarifyTimeoutError:Gt.transitional(Gt.boolean)},!1),i!=null&&(A.isFunction(i)?n.paramsSerializer={serialize:i}:Ir.assertOptions(i,{encode:Gt.function,serialize:Gt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ir.assertOptions(n,{baseUrl:Gt.spelling("baseURL"),withXsrfToken:Gt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=l&&A.merge(l.common,l[n.method]);l&&A.forEach(["delete","get","head","post","put","patch","common"],b=>{delete l[b]}),n.headers=bt.concat(o,l);const d=[];let c=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(c=c&&_.synchronous,d.unshift(_.fulfilled,_.rejected))});const u=[];this.interceptors.response.forEach(function(_){u.push(_.fulfilled,_.rejected)});let m,h=0,g;if(!c){const b=[Cu.bind(this),void 0];for(b.unshift(...d),b.push(...u),g=b.length,m=Promise.resolve(n);h<g;)m=m.then(b[h++],b[h++]);return m}g=d.length;let x=n;for(h=0;h<g;){const b=d[h++],_=d[h++];try{x=b(x)}catch(j){_.call(this,j);break}}try{m=Cu.call(this,x)}catch(b){return Promise.reject(b)}for(h=0,g=u.length;h<g;)m=m.then(u[h++],u[h++]);return m}getUri(s){s=cn(this.defaults,s);const n=Mf(s.baseURL,s.url,s.allowAbsoluteUrls);return Ef(n,s.params,s.paramsSerializer)}};A.forEach(["delete","get","head","options"],function(s){tn.prototype[s]=function(n,a){return this.request(cn(a||{},{method:s,url:n,data:(a||{}).data}))}});A.forEach(["post","put","patch"],function(s){function n(a){return function(l,o,d){return this.request(cn(d||{},{method:s,headers:a?{"Content-Type":"multipart/form-data"}:{},url:l,data:o}))}}tn.prototype[s]=n(),tn.prototype[s+"Form"]=n(!0)});let A0=class $f{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const a=this;this.promise.then(i=>{if(!a._listeners)return;let l=a._listeners.length;for(;l-- >0;)a._listeners[l](i);a._listeners=null}),this.promise.then=i=>{let l;const o=new Promise(d=>{a.subscribe(d),l=d}).then(i);return o.cancel=function(){a.unsubscribe(l)},o},s(function(l,o,d){a.reason||(a.reason=new Kn(l,o,d),n(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const n=this._listeners.indexOf(s);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const s=new AbortController,n=a=>{s.abort(a)};return this.subscribe(n),s.signal.unsubscribe=()=>this.unsubscribe(n),s.signal}static source(){let s;return{token:new $f(function(i){s=i}),cancel:s}}};function I0(t){return function(n){return t.apply(null,n)}}function $0(t){return A.isObject(t)&&t.isAxiosError===!0}const Lo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Lo).forEach(([t,s])=>{Lo[s]=t});function zf(t){const s=new tn(t),n=xf(tn.prototype.request,s);return A.extend(n,tn.prototype,s,{allOwnKeys:!0}),A.extend(n,s,null,{allOwnKeys:!0}),n.create=function(i){return zf(cn(t,i))},n}const Ie=zf(er);Ie.Axios=tn;Ie.CanceledError=Kn;Ie.CancelToken=A0;Ie.isCancel=Tf;Ie.VERSION=If;Ie.toFormData=Wi;Ie.AxiosError=he;Ie.Cancel=Ie.CanceledError;Ie.all=function(s){return Promise.all(s)};Ie.spread=I0;Ie.isAxiosError=$0;Ie.mergeConfig=cn;Ie.AxiosHeaders=bt;Ie.formToJSON=t=>Rf(A.isHTMLForm(t)?new FormData(t):t);Ie.getAdapter=Af.getAdapter;Ie.HttpStatusCode=Lo;Ie.default=Ie;const{Axios:bb,AxiosError:yb,CanceledError:Nb,isCancel:_b,CancelToken:wb,VERSION:Sb,all:Cb,Cancel:kb,isAxiosError:Eb,spread:Pb,toFormData:Rb,AxiosHeaders:Tb,HttpStatusCode:Ob,formToJSON:Mb,getAdapter:Db,mergeConfig:Lb}=Ie,z0="http://localhost:8000",te=Ie.create({baseURL:z0,timeout:1e4,headers:{"Content-Type":"application/json"}});te.interceptors.request.use(t=>{const s=localStorage.getItem("token");return s&&(t.headers.Authorization=`Token ${s}`),t},t=>Promise.reject(t));te.interceptors.response.use(t=>t,t=>{var s,n,a,i;return((s=t.response)==null?void 0:s.status)===401?(localStorage.removeItem("token"),window.location.href="/login"):((n=t.response)==null?void 0:n.status)===403?U.error("      "):((a=t.response)==null?void 0:a.status)===404?U.error("   "):((i=t.response)==null?void 0:i.status)>=500?U.error("   .   "):t.code==="NETWORK_ERROR"&&U.error("   "),Promise.reject(t)});const Uf=C.createContext(),U0={user:null,token:localStorage.getItem("token"),loading:!0,error:null};function B0(t,s){switch(s.type){case"LOGIN_START":return{...t,loading:!0,error:null};case"LOGIN_SUCCESS":return{...t,user:s.payload.user,token:s.payload.token,loading:!1,error:null};case"LOGIN_ERROR":return{...t,user:null,token:null,loading:!1,error:s.payload};case"LOGOUT":return{...t,user:null,token:null,loading:!1,error:null};case"SET_LOADING":return{...t,loading:s.payload};case"UPDATE_USER":return{...t,user:{...t.user,...s.payload}};default:return t}}function Q0({children:t}){const[s,n]=C.useReducer(B0,U0);C.useEffect(()=>{const u=localStorage.getItem("token");u?(te.defaults.headers.common.Authorization=`Token ${u}`,a()):n({type:"SET_LOADING",payload:!1})},[]);const a=async()=>{try{const u=await te.get("/api/auth/profile/");n({type:"LOGIN_SUCCESS",payload:{user:u.data,token:localStorage.getItem("token")}})}catch(u){console.error("Failed to fetch profile:",u),localStorage.removeItem("token"),delete te.defaults.headers.common.Authorization,n({type:"LOGOUT"})}},c={...s,login:async u=>{var m,h,g,x;n({type:"LOGIN_START"});try{const b={username:u.phone,password:u.password};console.log("Logging in with data:",b);const _=new AbortController,j=setTimeout(()=>_.abort(),1e4),f=await te.post("/api/auth/login/",b,{signal:_.signal});clearTimeout(j),console.log("Login response:",f.data);const{token:p,user:v}=f.data;return localStorage.setItem("token",p),te.defaults.headers.common.Authorization=`Token ${p}`,n({type:"LOGIN_SUCCESS",payload:{user:v,token:p}}),U.success("   "),setTimeout(()=>{let N="/dashboard";v.role==="doctor"?N="/doctor/dashboard":v.role==="admin"?N="/admin/dashboard":v.role==="accountant"&&(N="/accountant/dashboard"),window.location.href=N},100),{success:!0}}catch(b){console.error("Login error:",b);let _="   ";return b.name==="AbortError"?_="  .    .":(h=(m=b.response)==null?void 0:m.data)!=null&&h.detail?_=b.response.data.detail:(x=(g=b.response)==null?void 0:g.data)!=null&&x.error?_=b.response.data.error:b.message&&(_=b.message),n({type:"LOGIN_ERROR",payload:_}),U.error(_),{success:!1,error:_}}},register:async u=>{var m,h,g,x,b,_;n({type:"LOGIN_START"});try{const j={...u,username:u.phone,role:"patient",gender:u.gender||"male",height:u.height?parseFloat(u.height):175,current_weight:u.current_weight?parseFloat(u.current_weight):70,goal:u.goal||"maintain_weight"};console.log("Registering with data:",j);const f=new AbortController,p=setTimeout(()=>f.abort(),1e4),v=await te.post("/api/auth/register/",j,{signal:f.signal});return clearTimeout(p),console.log("Registration response:",v.data),n({type:"SET_LOADING",payload:!1}),U.success("   .     ."),setTimeout(()=>{window.location.href="/login"},2e3),{success:!0}}catch(j){console.error("Registration error:",j);let f="   ";if(j.name==="AbortError")f="  .    .";else if((h=(m=j.response)==null?void 0:m.data)!=null&&h.detail)f=j.response.data.detail;else if((x=(g=j.response)==null?void 0:g.data)!=null&&x.error)f=j.response.data.error;else if((b=j.response)!=null&&b.data){const p=Object.values(j.response.data).flat();p.length>0&&(f=p.join(", "))}else j.message&&(f=j.message);return n({type:"LOGIN_ERROR",payload:f}),U.error(f),{success:!1,error:((_=j.response)==null?void 0:_.data)||{detail:f}}}},logout:async()=>{try{await te.post("/api/auth/logout/")}catch(u){console.error("Logout error:",u)}finally{localStorage.removeItem("token"),delete te.defaults.headers.common.Authorization,n({type:"LOGOUT"}),U.success("   ")}},updateUser:u=>{n({type:"UPDATE_USER",payload:u})}};return e.jsx(Uf.Provider,{value:c,children:t})}const Qe=()=>{const t=C.useContext(Uf);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},Bf=C.createContext(),q0={ar:{dashboard:" ",profile:" ",appointments:"",meal_plans:" ",payments:"",patients:"",doctors:"",users:"",reports:"",settings:"",logout:" ",welcome:"",loading:" ...",save:"",cancel:"",edit:"",delete:"",view:"",search:"",filter:"",export:"",import:"",add:"",create:"",update:"",submit:"",close:"",yes:"",no:"",confirm:"",login:" ",register:" ",email:" ",password:" ",confirm_password:"  ",first_name:" ",last_name:" ",phone:" ",role:"",patient:"",doctor:"",admin:"",accountant:"",my_appointments:"",my_meal_plans:" ",my_payments:"",book_appointment:" ",medical_history:" ",measurements:"",progress:"",my_patients:"",create_meal_plan:"  ",patient_appointments:" ",availability:" ",financial_dashboard:" ",user_management:" ",payment_management:" ",system_reports:" ",pending:" ",confirmed:"",completed:"",cancelled:"",paid:"",unpaid:" ",active:"",inactive:" "},en:{dashboard:"Dashboard",profile:"Profile",appointments:"Appointments",meal_plans:"Meal Plans",payments:"Payments",patients:"Patients",doctors:"Doctors",users:"Users",reports:"Reports",settings:"Settings",logout:"Logout",welcome:"Welcome",loading:"Loading...",save:"Save",cancel:"Cancel",edit:"Edit",delete:"Delete",view:"View",search:"Search",filter:"Filter",export:"Export",import:"Import",add:"Add",create:"Create",update:"Update",submit:"Submit",close:"Close",yes:"Yes",no:"No",confirm:"Confirm",login:"Login",register:"Register",email:"Email",password:"Password",confirm_password:"Confirm Password",first_name:"First Name",last_name:"Last Name",phone:"Phone",role:"Role",patient:"Patient",doctor:"Doctor",admin:"Admin",accountant:"Accountant",my_appointments:"My Appointments",my_meal_plans:"My Meal Plans",my_payments:"My Payments",book_appointment:"Book Appointment",medical_history:"Medical History",measurements:"Measurements",progress:"Progress",my_patients:"My Patients",create_meal_plan:"Create Meal Plan",patient_appointments:"Patient Appointments",availability:"Availability",financial_dashboard:"Financial Dashboard",user_management:"User Management",payment_management:"Payment Management",system_reports:"System Reports",pending:"Pending",confirmed:"Confirmed",completed:"Completed",cancelled:"Cancelled",paid:"Paid",unpaid:"Unpaid",active:"Active",inactive:"Inactive"}};function W0({children:t}){const[s,n]=C.useState(()=>localStorage.getItem("language")||"ar"),a=s==="ar"?"rtl":"ltr";C.useEffect(()=>{localStorage.setItem("language",s)},[s]);const o={language:s,direction:a,toggleLanguage:()=>{n(d=>d==="ar"?"en":"ar")},t:d=>q0[s][d]||d};return e.jsx(Bf.Provider,{value:o,children:t})}const $e=()=>{const t=C.useContext(Bf);if(!t)throw new Error("useLanguage must be used within a LanguageProvider");return t},H0=()=>{const{user:t,logout:s}=Qe(),{t:n,toggleLanguage:a,language:i}=$e(),l=()=>{window.confirm(n("confirm_logout")||"     ")&&s()};return e.jsx("nav",{className:"navbar navbar-expand-lg navbar-dark",children:e.jsxs("div",{className:"container-fluid",children:[e.jsxs("a",{className:"navbar-brand d-flex align-items-center",href:"/",children:[e.jsx("img",{src:"/logo.svg",alt:"Dr MAYS Logo",style:{width:"120px",height:"120px"},className:"me-2"}),e.jsx("span",{className:"fw-bold",children:"Dr MAYS - Nutrition & Wellness"})]}),e.jsx("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav",children:e.jsx("span",{className:"navbar-toggler-icon"})}),e.jsx("div",{className:"collapse navbar-collapse",id:"navbarNav",children:e.jsxs("ul",{className:"navbar-nav ms-auto",children:[e.jsx("li",{className:"nav-item",children:e.jsx("button",{className:"nav-link btn btn-link text-white",onClick:a,children:i==="ar"?"EN":""})}),e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:"btn btn-outline-light btn-sm d-flex align-items-center",onClick:l,title:" ",children:[e.jsx("i",{className:"fas fa-sign-out-alt me-2"}),e.jsx("span",{className:"d-none d-lg-inline",children:""})]})}),e.jsxs("li",{className:"nav-item dropdown",children:[e.jsxs("a",{className:"nav-link dropdown-toggle d-flex align-items-center",href:"#",role:"button","data-bs-toggle":"dropdown",children:[e.jsx("div",{className:"bg-white rounded-circle p-1 me-2",children:e.jsx("i",{className:"fas fa-user text-success"})}),e.jsxs("span",{children:[t==null?void 0:t.first_name," ",t==null?void 0:t.last_name]})]}),e.jsxs("ul",{className:"dropdown-menu dropdown-menu-end",children:[e.jsx("li",{children:e.jsxs("h6",{className:"dropdown-header",children:[n(t==null?void 0:t.role)," - ",t==null?void 0:t.email]})}),e.jsx("li",{children:e.jsx("hr",{className:"dropdown-divider"})}),e.jsx("li",{children:e.jsxs("a",{className:"dropdown-item",href:"/profile",children:[e.jsx("i",{className:"fas fa-user me-2"}),n("profile")]})}),e.jsx("li",{children:e.jsxs("a",{className:"dropdown-item",href:"/settings",children:[e.jsx("i",{className:"fas fa-cog me-2"}),n("settings")]})}),e.jsx("li",{children:e.jsx("hr",{className:"dropdown-divider"})}),e.jsx("li",{children:e.jsxs("button",{className:"dropdown-item text-danger",onClick:l,children:[e.jsx("i",{className:"fas fa-sign-out-alt me-2"}),n("logout")]})})]})]})]})})]})})},V0=()=>{const{user:t,logout:s}=Qe(),{t:n}=$e(),i=(()=>{switch(t==null?void 0:t.role){case"patient":return[{path:"/dashboard",icon:"fas fa-tachometer-alt",label:n("dashboard")},{path:"/profile",icon:"fas fa-user",label:n("profile")},{path:"/meal-plans",icon:"fas fa-utensils",label:n("meal_plans")},{path:"/appointments",icon:"fas fa-calendar-check",label:n("appointments")},{path:"/payments",icon:"fas fa-credit-card",label:n("payments")}];case"doctor":return[{path:"/doctor/dashboard",icon:"fas fa-tachometer-alt",label:n("dashboard")},{path:"/doctor/profile",icon:"fas fa-user",label:n("profile")},{path:"/doctor/patients",icon:"fas fa-users",label:n("patients")},{path:"/doctor/meal-plans",icon:"fas fa-utensils",label:n("meal_plans")},{path:"/iraqi-nutrition/meal-planner",icon:"fas fa-calendar-day",label:"  "}];case"admin":return[{path:"/admin/dashboard",icon:"fas fa-tachometer-alt",label:n("dashboard")},{path:"/admin/users",icon:"fas fa-users",label:n("users")},{path:"/admin/doctors",icon:"fas fa-user-md",label:n("doctors")},{path:"/admin/payments",icon:"fas fa-credit-card",label:n("payments")},{path:"/admin/reports",icon:"fas fa-chart-bar",label:n("reports")},{path:"/iraqi-nutrition/meal-planner",icon:"fas fa-calendar-day",label:"  "},{path:"/admin/settings",icon:"fas fa-cog",label:n("settings")}];case"accountant":return[{path:"/accountant/dashboard",icon:"fas fa-tachometer-alt",label:n("dashboard")},{path:"/accountant/payments",icon:"fas fa-credit-card",label:n("payments")},{path:"/accountant/reports",icon:"fas fa-chart-bar",label:n("reports")}];default:return[]}})();return e.jsx("div",{className:"sidebar bg-dark",style:{minWidth:"250px",minHeight:"100vh"},children:e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"d-inline-flex align-items-center justify-content-center",children:e.jsx("img",{src:"/logo.svg",alt:"Dr MAYS Logo",style:{width:"160px",height:"160px"}})}),e.jsx("h6",{className:"text-white mt-2 mb-0",children:"Dr MAYS"}),e.jsx("small",{className:"text-white-50",children:"Nutrition & Wellness"})]}),e.jsx("nav",{className:"nav flex-column",children:i.map(l=>e.jsxs(_v,{to:l.path,className:({isActive:o})=>`nav-link text-white d-flex align-items-center p-3 rounded mb-1 ${o?"bg-success":""}`,children:[e.jsx("i",{className:`${l.icon} me-3`}),e.jsx("span",{children:l.label})]},l.path))}),e.jsxs("div",{className:"mt-4 pt-4 border-top border-secondary",children:[e.jsxs("div",{className:"d-flex align-items-center mb-3",children:[e.jsx("div",{className:"bg-success rounded-circle p-2 me-2",children:e.jsx("i",{className:"fas fa-user text-white"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-white small fw-bold",children:[t==null?void 0:t.first_name," ",t==null?void 0:t.last_name]}),e.jsx("div",{className:"text-white-50 small",children:n(t==null?void 0:t.role)})]})]}),e.jsxs("button",{className:"btn btn-outline-light btn-sm w-100 d-flex align-items-center justify-content-center",onClick:()=>{window.confirm("     ")&&s()},children:[e.jsx("i",{className:"fas fa-sign-out-alt me-2"}),e.jsx("span",{children:" "})]})]})]})})},je=({size:t="md",color:s="primary"})=>{const n={sm:"spinner-border-sm",md:"",lg:"spinner-border-lg"},a={primary:"text-primary",secondary:"text-secondary",success:"text-success",danger:"text-danger",warning:"text-warning",info:"text-info",light:"text-light",dark:"text-dark"};return e.jsx("div",{className:"d-flex justify-content-center align-items-center",children:e.jsx("div",{className:`spinner-border ${n[t]} ${a[s]}`,role:"status",children:e.jsx("span",{className:"visually-hidden",children:"Loading..."})})})},Ue=({children:t,allowedRoles:s=[]})=>{const{user:n,loading:a}=Qe(),i=mn();return a?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(je,{size:"lg"})}):n?s.length>0&&!s.includes(n.role)?e.jsx(Nt,{to:"/dashboard",replace:!0}):t:e.jsx(Nt,{to:"/login",state:{from:i},replace:!0})},K0=()=>{const{login:t,loading:s,user:n}=Qe(),{t:a,language:i}=$e(),[l,o]=C.useState({phone:"",password:""});if(n){let u="/dashboard";return n.role==="doctor"?u="/doctor/dashboard":n.role==="admin"?u="/admin/dashboard":n.role==="accountant"&&(u="/accountant/dashboard"),e.jsx(Nt,{to:u,replace:!0})}const d=u=>{o({...l,[u.target.name]:u.target.value})},c=async u=>{u.preventDefault(),await t(l)};return e.jsx("div",{className:"min-vh-100 d-flex align-items-center justify-content-center py-5",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-md-6 col-lg-5",children:e.jsx("div",{className:"card shadow-lg border-0 rounded-4",children:e.jsxs("div",{className:"card-body p-5",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"d-inline-flex align-items-center justify-content-center mb-3",children:e.jsx("img",{src:"/logo.svg",alt:"Dr MAYS Logo",style:{width:"240px",height:"240px"}})}),e.jsx("h4",{className:"text-primary mb-3",children:i==="ar"?"  ":"Patient Login"})]}),e.jsxs("div",{className:"alert alert-info mb-3",children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),e.jsx("strong",{children:i==="ar"?":":"Note:"}),i==="ar"?"       .       .":" Use your registered phone number to login. Phone number is your username."]}),e.jsxs("form",{onSubmit:c,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"phone",className:"form-label",children:i==="ar"?" ":"Phone Number"}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text bg-light border-end-0",children:e.jsx("i",{className:"fas fa-phone text-muted"})}),e.jsx("input",{type:"tel",className:"form-control border-start-0",id:"phone",name:"phone",value:l.phone,onChange:d,required:!0,placeholder:i==="ar"?"  ":"Enter phone number"})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"password",className:"form-label",children:a("password")}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text bg-light border-end-0",children:e.jsx("i",{className:"fas fa-lock text-muted"})}),e.jsx("input",{type:"password",className:"form-control border-start-0",id:"password",name:"password",value:l.password,onChange:d,required:!0,placeholder:i==="ar"?"  ":"Enter password"})]})]}),e.jsx("button",{type:"submit",className:"btn btn-success w-100 py-2 fw-bold",disabled:s,children:s?e.jsxs(e.Fragment,{children:[e.jsx(je,{size:"sm",color:"light"}),e.jsx("span",{className:"ms-2",children:i==="ar"?"  ...":"Logging in..."})]}):a("login")}),s&&e.jsx("div",{className:"text-center mt-2",children:e.jsx("small",{className:"text-muted",children:i==="ar"?" ...":"Please wait..."})})]}),e.jsx("div",{className:"text-center mt-4",children:e.jsxs("p",{className:"text-muted mb-0",children:[i==="ar"?"  ":"Don't have an account?",e.jsx(Ys,{to:"/register",className:"text-success fw-bold ms-1",children:a("register")})]})})]})})})})})})},G0=()=>{const{register:t,loading:s,user:n}=Qe(),{t:a,language:i}=$e(),l=Oc(),[o,d]=C.useState({username:"",first_name:"",last_name:"",phone:"",password:"",password_confirm:"",role:"patient",gender:"",height:"",current_weight:"",goal:""}),[c,u]=C.useState({}),[m,h]=C.useState(!1),[g,x]=C.useState(3);if(n)return e.jsx(Nt,{to:"/dashboard"});C.useEffect(()=>{if(m&&g>0){const j=setTimeout(()=>{x(g-1)},1e3);return()=>clearTimeout(j)}else m&&g===0&&l("/login")},[m,g,l]);const b=j=>{d({...o,[j.target.name]:j.target.value}),c[j.target.name]&&u({...c,[j.target.name]:null})},_=async j=>{j.preventDefault(),u({}),h(!1),console.log("Submitting registration form:",o);try{const f=await t(o);console.log("Registration result:",f),f.success?(h(!0),x(3)):f.error&&u(f.error)}catch(f){console.error("Registration error:",f),u({general:["   .    ."]})}};return e.jsx("div",{className:"min-vh-100 d-flex align-items-center justify-content-center py-5",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-md-8 col-lg-6",children:e.jsx("div",{className:"card shadow-lg border-0 rounded-4",children:e.jsxs("div",{className:"card-body p-5",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"d-inline-flex align-items-center justify-content-center mb-3",children:e.jsx("img",{src:"/logo.svg",alt:"Dr MAYS Logo",style:{width:"240px",height:"240px"}})}),e.jsx("h2",{className:"text-success fw-bold mb-2",children:"Dr MAYS"}),e.jsx("p",{className:"text-muted",children:"Nutrition & Wellness"}),e.jsx("h4",{className:"text-primary mb-3",children:i==="ar"?"   ":"Register New Patient Account"})]}),e.jsxs("form",{onSubmit:_,children:[c.general&&e.jsx("div",{className:"alert alert-danger mb-3",children:c.general.map((j,f)=>e.jsx("div",{children:j},f))}),m&&e.jsxs("div",{className:"alert alert-success mb-3 text-center",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-center",children:[e.jsx("i",{className:"fas fa-check-circle me-2"}),e.jsxs("div",{children:[e.jsx("strong",{children:"   !"}),e.jsx("br",{}),e.jsxs("small",{className:"text-muted",children:["      ",g," ..."]})]})]}),e.jsx("div",{className:"mt-2",children:e.jsx("button",{type:"button",className:"btn btn-outline-success btn-sm",onClick:()=>l("/login"),children:"  "})})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{htmlFor:"first_name",className:"form-label",children:a("first_name")}),e.jsx("input",{type:"text",className:`form-control ${c.first_name?"is-invalid":""}`,id:"first_name",name:"first_name",value:o.first_name,onChange:b,required:!0}),c.first_name&&e.jsx("div",{className:"invalid-feedback",children:c.first_name[0]})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{htmlFor:"last_name",className:"form-label",children:a("last_name")}),e.jsx("input",{type:"text",className:`form-control ${c.last_name?"is-invalid":""}`,id:"last_name",name:"last_name",value:o.last_name,onChange:b,required:!0}),c.last_name&&e.jsx("div",{className:"invalid-feedback",children:c.last_name[0]})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"username",className:"form-label",children:i==="ar"?" ":"Username"}),e.jsx("input",{type:"text",className:`form-control ${c.username?"is-invalid":""}`,id:"username",name:"username",value:o.username,onChange:b,required:!0}),c.username&&e.jsx("div",{className:"invalid-feedback",children:c.username[0]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{htmlFor:"phone",className:"form-label",children:[a("phone")," *"]}),e.jsx("input",{type:"tel",className:`form-control ${c.phone?"is-invalid":""}`,id:"phone",name:"phone",value:o.phone,onChange:b,required:!0}),c.phone&&e.jsx("div",{className:"invalid-feedback",children:c.phone[0]})]}),e.jsxs("div",{className:"card mb-4",children:[e.jsx("div",{className:"card-header bg-light",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-ruler me-2"}),i==="ar"?" ":"Physical Information"]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{htmlFor:"gender",className:"form-label",children:i==="ar"?" *":"Gender *"}),e.jsxs("select",{className:`form-control ${c.gender?"is-invalid":""}`,id:"gender",name:"gender",value:o.gender,onChange:b,required:!0,children:[e.jsx("option",{value:"",children:i==="ar"?" ":"Select Gender"}),e.jsx("option",{value:"male",children:i==="ar"?"":"Male"}),e.jsx("option",{value:"female",children:i==="ar"?"":"Female"})]}),c.gender&&e.jsx("div",{className:"invalid-feedback",children:c.gender[0]})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{htmlFor:"height",className:"form-label",children:i==="ar"?" () *":"Height (cm) *"}),e.jsx("input",{type:"number",className:`form-control ${c.height?"is-invalid":""}`,id:"height",name:"height",value:o.height,onChange:b,placeholder:"170",min:"100",max:"250",required:!0}),c.height&&e.jsx("div",{className:"invalid-feedback",children:c.height[0]})]})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{htmlFor:"current_weight",className:"form-label",children:i==="ar"?" () *":"Weight (kg) *"}),e.jsx("input",{type:"number",className:`form-control ${c.current_weight?"is-invalid":""}`,id:"current_weight",name:"current_weight",value:o.current_weight,onChange:b,placeholder:"70",min:"30",max:"300",required:!0}),c.current_weight&&e.jsx("div",{className:"invalid-feedback",children:c.current_weight[0]})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{htmlFor:"goal",className:"form-label",children:i==="ar"?"  *":"Fitness Goals *"}),e.jsxs("select",{className:`form-control ${c.goal?"is-invalid":""}`,id:"goal",name:"goal",value:o.goal,onChange:b,required:!0,children:[e.jsx("option",{value:"",children:i==="ar"?" ":"Select Goal"}),e.jsx("option",{value:"lose_weight",children:i==="ar"?" ":"Lose Weight"}),e.jsx("option",{value:"gain_weight",children:i==="ar"?" ":"Gain Weight"}),e.jsx("option",{value:"maintain_weight",children:i==="ar"?"  ":"Maintain Weight"}),e.jsx("option",{value:"build_muscle",children:i==="ar"?" ":"Build Muscle"}),e.jsx("option",{value:"improve_health",children:i==="ar"?"  ":"Improve Health"})]}),c.goal&&e.jsx("div",{className:"invalid-feedback",children:c.goal[0]})]})]})]})]}),e.jsx("input",{type:"hidden",name:"role",value:"patient"}),e.jsxs("div",{className:"alert alert-info mb-3",children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),e.jsx("strong",{children:i==="ar"?":":"Note:"}),i==="ar"?"    .     .      .":" Registration is available for patients only. A patient account will be created automatically. Phone number will be used as username for login."]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{htmlFor:"password",className:"form-label",children:a("password")}),e.jsx("input",{type:"password",className:`form-control ${c.password?"is-invalid":""}`,id:"password",name:"password",value:o.password,onChange:b,required:!0}),c.password&&e.jsx("div",{className:"invalid-feedback",children:c.password[0]})]}),e.jsxs("div",{className:"col-md-6 mb-4",children:[e.jsx("label",{htmlFor:"password_confirm",className:"form-label",children:a("confirm_password")}),e.jsx("input",{type:"password",className:`form-control ${c.password_confirm?"is-invalid":""}`,id:"password_confirm",name:"password_confirm",value:o.password_confirm,onChange:b,required:!0}),c.password_confirm&&e.jsx("div",{className:"invalid-feedback",children:c.password_confirm[0]})]})]}),e.jsx("button",{type:"submit",className:"btn btn-success w-100 py-2 fw-bold",disabled:s||m,children:s?e.jsxs(e.Fragment,{children:[e.jsx(je,{size:"sm",color:"light"}),e.jsx("span",{className:"ms-2",children:i==="ar"?"  ...":"Creating account..."})]}):m?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-check me-2"}),i==="ar"?"  !":"Account Created!"]}):a("register")}),(s||m)&&e.jsx("div",{className:"text-center mt-2",children:e.jsx("small",{className:"text-muted",children:s?i==="ar"?"      ...":"Please wait, this may take a few seconds...":i==="ar"?"    ...":"You will be redirected to login page..."})})]}),e.jsx("div",{className:"text-center mt-4",children:e.jsxs("p",{className:"text-muted mb-0",children:[i==="ar"?"  ":"Already have an account?",e.jsx(Ys,{to:"/login",className:"text-success fw-bold ms-1",children:a("login")})]})})]})})})})})})},Je=t=>{if(!t)return"--";try{const s=new Date(t);if(isNaN(s.getTime()))return"--";const n=s.getDate().toString().padStart(2,"0"),a=(s.getMonth()+1).toString().padStart(2,"0"),i=s.getFullYear();return`${n}/${a}/${i}`}catch(s){return console.error("Error formatting date:",s),"--"}},Qt=t=>{if(!t)return"--";try{const s=t.split(" ")[0],[n,a]=s.split(":"),i=parseInt(n),l=parseInt(a);let o="",d=i;return i<12?(o="",i===0&&(d=12)):(o="",i>12&&(d=i-12)),`${d.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")} ${o}`}catch(s){return console.error("Error formatting time:",s),"--"}},Y0=()=>{const{user:t}=Qe(),[s,n]=C.useState(new Date().toISOString().split("T")[0]),{data:a,isLoading:i,error:l}=ge(["patient-selected-meals",t==null?void 0:t.id,s],()=>te.get(`/api/meals/patients/${t==null?void 0:t.id}/selected-meals/?date=${s}`).then(c=>{var u,m;return console.log("Patient selected meals API response:",c.data),console.log("Number of selections:",((u=c.data)==null?void 0:u.length)||0),c.data&&c.data.length>0&&console.log("First selection ingredients:",(m=c.data[0])==null?void 0:m.ingredients),c.data}),{enabled:!!(t!=null&&t.id),refetchInterval:3e4}),o=c=>new Date(c).toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric",weekday:"long"}),d=c=>({breakfast:"",lunch:"",dinner:"",snack:" "})[c]||c;return i?e.jsx(je,{}):l?e.jsxs("div",{className:"alert alert-danger",children:[e.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),"    "]}):e.jsxs("div",{className:"patient-selected-meals",children:[e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header bg-primary text-white",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-shopping-cart me-2"})," "]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:" :"}),e.jsx("input",{type:"date",className:"form-control",value:s,onChange:c=>n(c.target.value)})]}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"d-flex align-items-end h-100",children:e.jsx("div",{className:"alert alert-info mb-0 w-100",children:e.jsxs("small",{children:[e.jsx("i",{className:"fas fa-info-circle me-1"})," : ",new Date().toLocaleTimeString("ar-SA")]})})})})]})})]})})}),a&&a.length>0?e.jsx("div",{className:"row",children:a.map((c,u)=>e.jsx("div",{className:"col-md-6 col-lg-4 mb-4",children:e.jsxs("div",{className:"card h-100 border-success",children:[e.jsx("div",{className:"card-header bg-success text-white",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-utensils me-2"}),e.jsxs("div",{children:[e.jsx("h6",{className:"mb-0",children:d(c.meal_type)}),e.jsx("small",{children:o(c.selected_at)})]})]})}),e.jsxs("div",{className:"card-body",children:[e.jsx("h5",{className:"card-title text-primary",children:c.meal_name}),e.jsxs("p",{className:"card-text text-muted small",children:[" : ",new Date(c.selected_at).toLocaleTimeString("ar-SA")]}),(()=>{var h;console.log("Rendering selection:",c.meal_name,"Ingredients:",c.ingredients);const m=((h=c.ingredients)==null?void 0:h.filter(g=>g&&(g.food_name_ar||g.food_name||g.name)))||[];return m.length>0?e.jsxs("div",{className:"ingredients-section mb-3",children:[e.jsxs("h6",{className:"text-primary mb-2",children:[e.jsx("i",{className:"fas fa-shopping-basket me-1"}),":"]}),e.jsx("div",{className:"ingredients-list",children:m.map((g,x)=>{console.log("Rendering ingredient:",g);const b=g.food_name_ar||g.food_name||g.name||"  ",_=g.amount||g.quantity||0,j=g.calories||g.calories_per_100g||0,f=g.protein||g.protein_per_100g||0;return e.jsxs("div",{className:"ingredient-item d-flex justify-content-between align-items-center mb-1 p-2 bg-light rounded",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-circle text-success me-2",style:{fontSize:"0.5rem"}}),e.jsx("span",{className:"fw-bold",children:b})]}),e.jsxs("div",{className:"text-muted",children:[e.jsxs("span",{className:"badge bg-primary",children:[_,"g"]}),e.jsxs("small",{className:"text-info ms-1",children:[": ",j," | : ",f,"g"]})]})]},x)})})]}):e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),"     "]})})(),(()=>{var g;const h=(((g=c.ingredients)==null?void 0:g.filter(x=>x&&(x.food_name_ar||x.food_name||x.name)))||[]).reduce((x,b)=>{const _=b.amount||b.quantity||0,j=b.calories_per_100g||b.calories||0,f=b.protein_per_100g||b.protein||0,p=b.carbs_per_100g||b.carbs||0,v=b.fat_per_100g||b.fat||0;return{calories:x.calories+j*_/100,protein:x.protein+f*_/100,carbs:x.carbs+p*_/100,fat:x.fat+v*_/100}},{calories:0,protein:0,carbs:0,fat:0})||{calories:0,protein:0,carbs:0,fat:0};return e.jsxs("div",{className:"nutrition-summary",children:[e.jsxs("h6",{className:"text-success mb-2",children:[e.jsx("i",{className:"fas fa-chart-pie me-1"}),"  :"]}),e.jsxs("div",{className:"row text-center",children:[e.jsx("div",{className:"col-3",children:e.jsxs("div",{className:"p-2 bg-primary text-white rounded",children:[e.jsx("div",{className:"fw-bold",children:Math.round(h.calories)}),e.jsx("small",{children:""})]})}),e.jsx("div",{className:"col-3",children:e.jsxs("div",{className:"p-2 bg-success text-white rounded",children:[e.jsxs("div",{className:"fw-bold",children:[Math.round(h.protein),"g"]}),e.jsx("small",{children:""})]})}),e.jsx("div",{className:"col-3",children:e.jsxs("div",{className:"p-2 bg-info text-white rounded",children:[e.jsxs("div",{className:"fw-bold",children:[Math.round(h.carbs),"g"]}),e.jsx("small",{children:""})]})}),e.jsx("div",{className:"col-3",children:e.jsxs("div",{className:"p-2 bg-warning text-white rounded",children:[e.jsxs("div",{className:"fw-bold",children:[Math.round(h.fat),"g"]}),e.jsx("small",{children:""})]})})]})]})})()]}),e.jsx("div",{className:"card-footer",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-clock me-1"}),new Date(c.selected_at).toLocaleTimeString("ar-SA")]}),e.jsxs("span",{className:"badge bg-success",children:[e.jsx("i",{className:"fas fa-check me-1"}),""]})]})})]})},u))}):e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{className:"fas fa-shopping-cart text-muted",style:{fontSize:"4rem"}}),e.jsx("h5",{className:"text-muted mt-3",children:"   "}),e.jsx("p",{className:"text-muted",children:"     "})]})})}),a&&a.length>0&&e.jsx("div",{className:"row mt-4",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card border-info",children:[e.jsx("div",{className:"card-header bg-info text-white",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-chart-bar me-2"}),"  "]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row text-center",children:[e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:"fw-bold text-primary fs-4",children:a.length}),e.jsx("small",{className:"text-muted",children:"  "})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:"fw-bold text-success fs-4",children:a.filter(c=>c.meal_type==="breakfast").length}),e.jsx("small",{className:"text-muted",children:" "})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:"fw-bold text-info fs-4",children:a.filter(c=>c.meal_type==="lunch").length}),e.jsx("small",{className:"text-muted",children:" "})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:"fw-bold text-warning fs-4",children:a.filter(c=>c.meal_type==="dinner").length}),e.jsx("small",{className:"text-muted",children:" "})]})})]})})]})})})]})},J0=()=>{var N;const{t}=$e(),{user:s}=Qe(),{data:n,isLoading:a}=ge("patient-meal-plans",()=>te.get(`/api/meals/meal-plans/?patient=${s==null?void 0:s.id}`).then(y=>(console.log(" Dashboard: Fetched meal plans:",y.data.results),y.data.results.forEach((w,k)=>{console.log(`Dashboard Plan ${k+1} (ID: ${w.id}): ${w.title} - Start: ${w.start_date}, End: ${w.end_date} - Active: ${w.is_active}`)}),y.data.results)),{enabled:!!s,staleTime:0,cacheTime:0,refetchOnWindowFocus:!0}),{data:i,isLoading:l}=ge("patient-appointments",()=>te.get("/api/bookings/appointments/").then(y=>y.data.results),{enabled:!!s}),{data:o,isLoading:d}=ge("patient-measurements",()=>te.get("/api/auth/measurements/").then(y=>y.data.results),{enabled:!!s}),c=()=>{if(console.log(" getCurrentPlans called with mealPlans:",n),!n)return console.log(" No mealPlans data"),[];const y=new Date;y.setHours(0,0,0,0),console.log(" Today:",y.toISOString());const w=n.filter(O=>{if(console.log(` Processing plan ${O.id}: ${O.title}`),console.log(`  - is_active: ${O.is_active}`),console.log(`  - start_date: ${O.start_date}`),console.log(`  - end_date: ${O.end_date}`),!O.is_active)return console.log(`   Plan ${O.id} is not active`),!1;const M=new Date(O.start_date),B=new Date(O.end_date);M.setHours(0,0,0,0),B.setHours(23,59,59,999),console.log(`  - startDate: ${M.toISOString()}`),console.log(`  - endDate: ${B.toISOString()}`);const G=M<=y&&B>=y,ee=M>=y,F=G||ee;return console.log(`  - isCurrentlyActive: ${G}`),console.log(`  - isFuturePlan: ${ee}`),console.log(`  - shouldInclude: ${F}`),F});console.log(` Found ${w.length} active plans`);const k=w.sort((O,M)=>new Date(O.start_date)-new Date(M.start_date));return console.log(" Sorted plans:",k.map(O=>`${O.id}: ${O.title}`)),k},u=()=>{if(!i)return[];const y=new Date;return i.filter(w=>new Date(w.scheduled_date)>=y&&w.status!=="cancelled")},m=()=>(o==null?void 0:o[0])||null,h=y=>{const w=new Date;w.setHours(0,0,0,0);const k=new Date(y.start_date),O=new Date(y.end_date);return k.setHours(0,0,0,0),O.setHours(23,59,59,999),k>w?"future":k<=w&&O>=w?"active":"expired"},g=y=>{switch(h(y)){case"future":return"";case"active":return"";case"expired":return"";default:return" "}},x=y=>{switch(h(y)){case"future":return"bg-warning text-dark";case"active":return"bg-success";case"expired":return"bg-secondary";default:return"bg-light text-dark"}},b=y=>{switch(h(y)){case"future":return"alert-warning";case"active":return"alert-success";case"expired":return"alert-secondary";default:return"alert-info"}},_=y=>{switch(h(y)){case"future":return"fa-clock";case"active":return"fa-check-circle";case"expired":return"fa-times-circle";default:return"fa-info-circle"}},j=y=>{switch(h(y)){case"future":return"  ";case"active":return"  ";case"expired":return"  ";default:return" "}};if(a||l||d)return e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:e.jsx(je,{size:"lg"})});const f=c(),p=u(),v=m();return e.jsxs("div",{className:"fade-in",children:[e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card bg-gradient-primary text-white",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsxs("div",{className:"col-md-8",children:[e.jsxs("h2",{className:"mb-2",children:[e.jsx("i",{className:"fas fa-heart me-2"})," ",s==null?void 0:s.first_name,"!"]}),e.jsx("p",{className:"mb-0 fs-5",children:"     .     "})]}),e.jsxs("div",{className:"col-md-4 text-center",children:[e.jsx("div",{className:"display-4",children:e.jsx("i",{className:"fas fa-user-circle"})}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"badge bg-light text-dark fs-6",children:""})})]})]})})})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"alert alert-success",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-credit-card me-3 fs-4"}),e.jsxs("div",{children:[e.jsx("h5",{className:"mb-2",children:e.jsx("strong",{children:"  "})}),e.jsx("p",{className:"mb-2",children:"     Qcard :"}),e.jsx("div",{className:"p-3 bg-white rounded border",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-university text-success me-2"}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-success",children:"Qcard -  "}),e.jsx("br",{}),e.jsx("span",{className:"text-primary fs-5 fw-bold",children:"7113596071"})]})]})}),e.jsxs("small",{className:"text-muted mt-2 d-block",children:[e.jsx("i",{className:"fas fa-info-circle me-1"}),"   Qcard      "]})]})]})})})}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("div",{className:"col-md-3 mb-3",children:e.jsx("div",{className:"card text-center border-primary",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"d-flex align-items-center justify-content-center mb-2",children:[e.jsx("i",{className:"fas fa-utensils text-primary fs-1 me-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold text-primary fs-2",children:f.length}),e.jsx("small",{className:"text-muted",children:"  "})]})]}),f.length>0&&e.jsx("div",{className:"mt-2",children:e.jsxs("small",{className:"text-muted",children:[" : ",((N=f[0])==null?void 0:N.title)||" "]})})]})})}),e.jsx("div",{className:"col-md-3 mb-3",children:e.jsx("div",{className:"card text-center border-success",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-center mb-2",children:[e.jsx("i",{className:"fas fa-calendar-check text-success fs-1 me-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold text-success fs-2",children:p.length}),e.jsx("small",{className:"text-muted",children:" "})]})]})})})}),e.jsx("div",{className:"col-md-3 mb-3",children:e.jsx("div",{className:"card text-center border-info",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-center mb-2",children:[e.jsx("i",{className:"fas fa-chart-line text-info fs-1 me-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold text-info fs-2",children:(o==null?void 0:o.length)||0}),e.jsx("small",{className:"text-muted",children:" "})]})]})})})}),e.jsx("div",{className:"col-md-3 mb-3",children:e.jsx("div",{className:"card text-center border-warning",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex align-items-center justify-content-center mb-2",children:[e.jsx("i",{className:"fas fa-weight text-warning fs-1 me-3"}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold text-warning fs-2",children:(v==null?void 0:v.weight)||"--"}),e.jsx("small",{className:"text-muted",children:"  ()"})]})]})})})})]}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-md-12 mb-3",children:e.jsx("div",{className:"card text-center border-primary h-100",children:e.jsxs("div",{className:"card-body d-flex flex-column",children:[e.jsx("i",{className:"fas fa-utensils text-primary fs-1 mb-3"}),e.jsx("h6",{className:"text-primary mb-2",children:" "}),e.jsx("p",{className:"text-muted small mb-3",children:"   "}),e.jsxs("a",{href:"/meal-plans",className:"btn btn-outline-primary btn-sm mt-auto",children:[e.jsx("i",{className:"fas fa-utensils me-1"})," "]})]})})})}),n&&n.length>0&&e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header bg-primary text-white",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-list me-2"}),"  "]})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"row",children:n.map(y=>{var w;return e.jsx("div",{className:"col-md-6 mb-3",children:e.jsxs("div",{className:`card h-100 ${h(y)==="active"?"border-success":h(y)==="future"?"border-warning":"border-secondary"}`,children:[e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[e.jsx("h6",{className:"card-title",children:y.title}),e.jsx("span",{className:`badge ${x(y)}`,children:g(y)})]}),e.jsxs("p",{className:"card-text small text-muted",children:[(w=y.description)==null?void 0:w.substring(0,100),"..."]}),e.jsxs("div",{className:"row text-center mb-2",children:[e.jsxs("div",{className:"col-4",children:[e.jsx("small",{className:"text-muted",children:""}),e.jsxs("div",{className:"fw-bold text-primary",children:[y.target_calories," "]})]}),e.jsxs("div",{className:"col-4",children:[e.jsx("small",{className:"text-muted",children:""}),e.jsxs("div",{className:"fw-bold text-success",children:[y.target_protein,"g"]})]}),e.jsxs("div",{className:"col-4",children:[e.jsx("small",{className:"text-muted",children:""}),e.jsxs("div",{className:"fw-bold text-warning",children:[y.target_carbs||"--","g"]})]})]}),e.jsxs("p",{className:"small text-muted mb-0",children:[e.jsx("i",{className:"fas fa-calendar me-1"})," ",new Date(y.start_date).toLocaleDateString("ar-SA"),"  ",new Date(y.end_date).toLocaleDateString("ar-SA")]})]}),e.jsx("div",{className:"card-footer",children:e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs("a",{href:"/meal-plans",className:"btn btn-primary btn-sm flex-fill",children:[e.jsx("i",{className:"fas fa-eye me-2"})," "]}),h(y)==="active"&&e.jsx("a",{href:"/iraqi-nutrition/meal-planner",className:"btn btn-success btn-sm",children:e.jsx("i",{className:"fas fa-utensils"})})]})})]})},y.id)})})})]})})}),f.length>0&&e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header bg-success text-white",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-utensils me-2"}),"  "]})}),e.jsxs("div",{className:"card-body",children:[f[0]&&e.jsxs("div",{className:`alert ${b(f[0])} mb-4`,children:[e.jsxs("h6",{className:"alert-heading",children:[e.jsx("i",{className:`fas ${_(f[0])} me-2`}),j(f[0])]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:" :"})," ",f[0].title]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:":"})," ",f[0].description||"  "]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:":"}),"  ",new Date(f[0].start_date).toLocaleDateString("ar-SA"),"  ",new Date(f[0].end_date).toLocaleDateString("ar-SA")]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:":"})," ",e.jsx("span",{className:`badge ${x(f[0])}`,children:g(f[0])})]})]}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"row text-center",children:[e.jsxs("div",{className:"col-4",children:[e.jsx("div",{className:"fw-bold text-primary",children:f[0].target_calories}),e.jsx("small",{className:"text-muted",children:""})]}),e.jsxs("div",{className:"col-4",children:[e.jsxs("div",{className:"fw-bold text-success",children:[f[0].target_protein,"g"]}),e.jsx("small",{className:"text-muted",children:""})]}),e.jsxs("div",{className:"col-4",children:[e.jsxs("div",{className:"fw-bold text-warning",children:[f[0].target_carbs||"--","g"]}),e.jsx("small",{className:"text-muted",children:""})]})]})})]}),e.jsx("hr",{}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs("a",{href:"/meal-plans",className:"btn btn-primary btn-sm",children:[e.jsx("i",{className:"fas fa-eye me-2"}),"  "]}),e.jsxs("a",{href:"/iraqi-nutrition/meal-planner",className:"btn btn-success btn-sm",children:[e.jsx("i",{className:"fas fa-utensils me-2"}),"  "]})]})]}),e.jsx("div",{className:"row",children:f.slice(0,3).map(y=>{var w;return e.jsx("div",{className:"col-md-4 mb-3",children:e.jsxs("div",{className:"card h-100 border-success",children:[e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{className:"card-title text-success",children:y.title}),e.jsxs("p",{className:"card-text small text-muted",children:[(w=y.description)==null?void 0:w.substring(0,100),"..."]}),e.jsxs("div",{className:"row text-center",children:[e.jsxs("div",{className:"col-6",children:[e.jsx("small",{className:"text-muted",children:""}),e.jsxs("div",{className:"fw-bold text-primary",children:[y.target_calories," "]})]}),e.jsxs("div",{className:"col-6",children:[e.jsx("small",{className:"text-muted",children:""}),e.jsxs("div",{className:"fw-bold text-success",children:[y.target_protein,"g"]})]})]})]}),e.jsx("div",{className:"card-footer",children:e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs("a",{href:"/meal-plans",className:"btn btn-success btn-sm flex-fill",children:[e.jsx("i",{className:"fas fa-eye me-2"})," "]}),e.jsx("button",{className:"btn btn-outline-success btn-sm",onClick:()=>{const k=`
                                  <div class="meal-plan-details">
                                    <h5>${y.title}</h5>
                                    <p><strong>:</strong> ${y.description||"  "}</p>
                                    <p><strong> :</strong> ${y.target_calories} </p>
                                    <p><strong> :</strong> ${y.target_protein}g</p>
                                    <p><strong> :</strong> ${y.target_carbs||" "}g</p>
                                    <p><strong> :</strong> ${y.target_fat||" "}g</p>
                                    <p><strong>:</strong> ${new Date(y.start_date).toLocaleDateString("ar-SA")}</p>
                                    <p><strong>:</strong> ${new Date(y.end_date).toLocaleDateString("ar-SA")}</p>
                                    <p><strong>:</strong> ${y.is_active?"":" "}</p>
                                  </div>
                                `,O=document.createElement("div");O.className="modal fade",O.innerHTML=`
                                  <div class="modal-dialog modal-lg">
                                    <div class="modal-content">
                                      <div class="modal-header">
                                        <h5 class="modal-title">  </h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                                      </div>
                                      <div class="modal-body">
                                        ${k}
                                      </div>
                                      <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"></button>
                                        <a href="/meal-plans" class="btn btn-primary"> </a>
                                      </div>
                                    </div>
                                  </div>
                                `,document.body.appendChild(O),new bootstrap.Modal(O).show(),O.addEventListener("hidden.bs.modal",()=>{document.body.removeChild(O)})},children:e.jsx("i",{className:"fas fa-info-circle"})})]})})]})},y.id)})}),f.length>3&&e.jsx("div",{className:"text-center mt-3",children:e.jsxs("a",{href:"/meal-plans",className:"btn btn-outline-success",children:[e.jsx("i",{className:"fas fa-list me-2"}),"   (",f.length,")"]})})]})]})})}),p.length>0&&e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header bg-primary text-white",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-calendar-check me-2"})," "]})}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:""}),e.jsx("th",{children:""}),e.jsx("th",{children:""}),e.jsx("th",{children:" "}),e.jsx("th",{children:""}),e.jsx("th",{children:""})]})}),e.jsx("tbody",{children:p.slice(0,5).map(y=>e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsxs("div",{className:"fw-bold",children:[". ",y.doctor_name]}),e.jsx("small",{className:"text-muted",children:y.doctor_specialization})]}),e.jsx("td",{children:Je(y.scheduled_date)}),e.jsx("td",{children:Qt(y.scheduled_time)}),e.jsx("td",{children:e.jsx("span",{className:"badge bg-info",children:y.appointment_type==="consultation"?"":y.appointment_type==="follow_up"?"":y.appointment_type})}),e.jsx("td",{children:y.status==="confirmed"?e.jsx("span",{className:"badge bg-success",children:""}):e.jsx("span",{className:"badge bg-warning",children:" "})}),e.jsx("td",{children:e.jsxs("a",{href:"/appointments",className:"btn btn-sm btn-outline-primary",children:[e.jsx("i",{className:"fas fa-eye me-1"}),""]})})]},y.id))})]})}),p.length>5&&e.jsx("div",{className:"text-center mt-3",children:e.jsxs("a",{href:"/appointments",className:"btn btn-outline-primary",children:[e.jsx("i",{className:"fas fa-list me-2"}),"   (",p.length,")"]})})]})]})})}),v&&e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header bg-info text-white",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-chart-line me-2"}),"  "]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3 text-center mb-3",children:e.jsxs("div",{className:"p-3 bg-primary text-white rounded",children:[e.jsxs("div",{className:"fw-bold fs-4",children:[v.weight," "]}),e.jsx("small",{children:""})]})}),e.jsx("div",{className:"col-md-3 text-center mb-3",children:e.jsxs("div",{className:"p-3 bg-success text-white rounded",children:[e.jsxs("div",{className:"fw-bold fs-4",children:[v.body_fat_percentage,"%"]}),e.jsx("small",{children:" "})]})}),e.jsx("div",{className:"col-md-3 text-center mb-3",children:e.jsxs("div",{className:"p-3 bg-warning text-white rounded",children:[e.jsxs("div",{className:"fw-bold fs-4",children:[v.waist_circumference||"--"," "]}),e.jsx("small",{children:" "})]})}),e.jsx("div",{className:"col-md-3 text-center mb-3",children:e.jsxs("div",{className:"p-3 bg-danger text-white rounded",children:[e.jsx("div",{className:"fw-bold fs-4",children:v.blood_pressure_systolic&&v.blood_pressure_diastolic?`${v.blood_pressure_systolic}/${v.blood_pressure_diastolic}`:"--"}),e.jsx("small",{children:" "})]})})]}),e.jsx("div",{className:"text-center mt-3",children:e.jsxs("a",{href:"/measurements",className:"btn btn-outline-info",children:[e.jsx("i",{className:"fas fa-chart-area me-2"}),"  "]})})]})]})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsx(Y0,{})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card bg-light",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h6",{className:"text-muted mb-3",children:[e.jsx("i",{className:"fas fa-lightbulb text-warning me-2"})," "]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-4 mb-3",children:e.jsxs("div",{className:"d-flex",children:[e.jsx("i",{className:"fas fa-check-circle text-success me-2 mt-1"}),e.jsxs("div",{children:[e.jsx("strong",{children:"  :"}),e.jsx("br",{}),e.jsx("small",{className:"text-muted",children:"8-10      "})]})]})}),e.jsx("div",{className:"col-md-4 mb-3",children:e.jsxs("div",{className:"d-flex",children:[e.jsx("i",{className:"fas fa-check-circle text-success me-2 mt-1"}),e.jsxs("div",{children:[e.jsx("strong",{children:"  :"}),e.jsx("br",{}),e.jsx("small",{className:"text-muted",children:"30    "})]})]})}),e.jsx("div",{className:"col-md-4 mb-3",children:e.jsxs("div",{className:"d-flex",children:[e.jsx("i",{className:"fas fa-check-circle text-success me-2 mt-1"}),e.jsxs("div",{children:[e.jsx("strong",{children:"  :"}),e.jsx("br",{}),e.jsx("small",{className:"text-muted",children:"   "})]})]})})]})]})})})})]})},X0=()=>{const{t}=$e(),{user:s,updateUser:n}=Qe(),a=es(),[i,l]=C.useState(!1),[o,d]=C.useState({first_name:"",last_name:"",phone:"",date_of_birth:"",gender:"",address:"",allergies:"",medical_conditions:"",medications:"",target_weight:""}),{data:c,isLoading:u,refetch:m}=ge("patient-profile",async()=>{var j,f;try{const p=await te.get("/api/auth/patient-profile/");return console.log("Patient profile API Response:",p.data),console.log("Patient height:",(j=p.data)==null?void 0:j.height),console.log("Patient weight:",(f=p.data)==null?void 0:f.current_weight),p.data}catch(p){throw console.error("Error fetching patient profile:",p),p}},{enabled:!!s,staleTime:0,cacheTime:0,refetchOnWindowFocus:!0,retry:3,retryDelay:1e3}),h=ot(async j=>{try{return await te.put("/api/auth/patient-profile/",j)}catch(f){throw console.error("Profile update API error:",f),f}},{onSuccess:j=>{console.log("Profile update success:",j.data),U.success("    "),a.invalidateQueries("patient-profile"),a.invalidateQueries("user-profile"),setTimeout(()=>{m()},100),l(!1)},onError:j=>{var p,v,N,y;console.error("Profile update error:",j),console.error("Error response:",(p=j.response)==null?void 0:p.data);let f="    ";if((N=(v=j.response)==null?void 0:v.data)!=null&&N.detail)f=j.response.data.detail;else if((y=j.response)!=null&&y.data){const w=Object.values(j.response.data).flat();w.length>0&&(f=w.join(", "))}U.error(f)}}),g=ot(async j=>{try{return await te.put("/api/auth/user/",j)}catch(f){throw console.error("User update API error:",f),f}},{onSuccess:j=>{console.log("User update success:",j.data),U.success("    "),a.invalidateQueries("patient-profile"),a.invalidateQueries("user-profile"),setTimeout(()=>{m()},100),n(j.data)},onError:j=>{var p,v,N,y;console.error("User update error:",j),console.error("Error response:",(p=j.response)==null?void 0:p.data);let f="    ";if((N=(v=j.response)==null?void 0:v.data)!=null&&N.detail)f=j.response.data.detail;else if((y=j.response)!=null&&y.data){const w=Object.values(j.response.data).flat();w.length>0&&(f=w.join(", "))}U.error(f)}});C.useEffect(()=>{var j,f,p,v,N;c&&(console.log("Loading patient profile data:",c),d({first_name:((j=c.user)==null?void 0:j.first_name)||"",last_name:((f=c.user)==null?void 0:f.last_name)||"",phone:((p=c.user)==null?void 0:p.phone)||"",date_of_birth:(v=c.user)!=null&&v.date_of_birth?typeof c.user.date_of_birth=="string"?c.user.date_of_birth:c.user.date_of_birth.split("T")[0]:"",gender:c.gender||"",address:((N=c.user)==null?void 0:N.address)||"",allergies:c.dietary_restrictions||"",medical_conditions:c.medical_conditions||"",medications:c.medications||"",target_weight:c.target_weight||""}))},[c]),C.useEffect(()=>{const j=setInterval(()=>{s&&m()},3e4);return()=>clearInterval(j)},[s,m]);const x=j=>{const{name:f,value:p}=j.target;console.log(`Updating field ${f} to:`,p),d(v=>({...v,[f]:p}))},b=async j=>{var f,p,v,N;j.preventDefault(),console.log("Submitting profile update with data:",o);try{const y={first_name:o.first_name,last_name:o.last_name,phone:o.phone,date_of_birth:o.date_of_birth,address:o.address};console.log("Updating user data:",y),await g.mutateAsync(y),console.log("User update completed successfully");const w={target_weight:o.target_weight?parseFloat(o.target_weight):null,medical_conditions:o.medical_conditions||"",dietary_restrictions:o.allergies||"",medications:o.medications||""};console.log("Updating profile data:",w),await h.mutateAsync(w),console.log("Profile update completed successfully")}catch(y){console.error("Submit error:",y),console.error("Error details:",(f=y.response)==null?void 0:f.data);let w="    ";if((v=(p=y.response)==null?void 0:p.data)!=null&&v.detail)w=y.response.data.detail;else if((N=y.response)!=null&&N.data){const k=Object.values(y.response.data).flat();k.length>0&&(w=k.join(", "))}U.error(w)}},_=()=>{var j,f,p,v;c&&(console.log("Cancelling edit, resetting form data"),d({first_name:((j=c.user)==null?void 0:j.first_name)||"",last_name:((f=c.user)==null?void 0:f.last_name)||"",phone:((p=c.user)==null?void 0:p.phone)||"",date_of_birth:(v=c.user)!=null&&v.date_of_birth?typeof c.user.date_of_birth=="string"?c.user.date_of_birth:c.user.date_of_birth.split("T")[0]:"",gender:c.gender||"",address:"",allergies:c.dietary_restrictions||"",medical_conditions:c.medical_conditions||"",medications:c.medications||"",target_weight:c.target_weight||""})),l(!1),U.info("  ")};return u?e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:e.jsx(je,{size:"lg"})}):e.jsxs("div",{className:"fade-in",children:[e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-user text-success me-2"})," "]}),e.jsx("p",{className:"text-muted",children:"   "})]}),e.jsx("div",{className:"d-flex gap-2",children:i?e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"btn btn-secondary",onClick:_,children:[e.jsx("i",{className:"fas fa-times me-2"}),""]}),e.jsx("button",{className:"btn btn-success",onClick:b,disabled:h.isLoading||g.isLoading,children:h.isLoading||g.isLoading?e.jsx(je,{size:"sm",color:"light"}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-save me-2"})," "]})})]}):e.jsxs("button",{className:"btn btn-success",onClick:()=>l(!0),children:[e.jsx("i",{className:"fas fa-edit me-2"})," "]})})]})})}),e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6 mb-4",children:e.jsxs("div",{className:"card h-100",children:[e.jsx("div",{className:"card-header bg-primary text-white",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-user me-2"})," "]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"  *"}),e.jsx("input",{type:"text",name:"first_name",className:"form-control",value:o.first_name,onChange:x,required:!0,disabled:!i})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"  *"}),e.jsx("input",{type:"text",name:"last_name",className:"form-control",value:o.last_name,onChange:x,required:!0,disabled:!i})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"  *"}),e.jsx("input",{type:"tel",name:"phone",className:"form-control",value:o.phone,onChange:x,required:!0,disabled:!i,placeholder:"+964 750 123 4567"})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:" "}),e.jsx("input",{type:"date",name:"date_of_birth",className:"form-control",value:o.date_of_birth,onChange:x,disabled:!i})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:" *"}),e.jsxs("select",{name:"gender",className:"form-select",value:o.gender,onChange:x,required:!0,disabled:!i,children:[e.jsx("option",{value:"",children:" "}),e.jsx("option",{value:"male",children:""}),e.jsx("option",{value:"female",children:""})]})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:""}),e.jsx("textarea",{name:"address",className:"form-control",rows:"2",value:o.address,onChange:x,disabled:!i,placeholder:" "})]})]})]})}),e.jsx("div",{className:"col-md-6 mb-4",children:e.jsxs("div",{className:"card h-100",children:[e.jsx("div",{className:"card-header bg-danger text-white",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-heartbeat me-2"})," "]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:""}),e.jsx("textarea",{name:"allergies",className:"form-control",rows:"2",value:o.allergies,onChange:x,disabled:!i,placeholder:"    (  )"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:" "}),e.jsx("textarea",{name:"medical_conditions",className:"form-control",rows:"2",value:o.medical_conditions,onChange:x,disabled:!i,placeholder:"      "})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:" "}),e.jsx("textarea",{name:"medications",className:"form-control",rows:"2",value:o.medications,onChange:x,disabled:!i,placeholder:"    "})]})]})]})}),e.jsx("div",{className:"col-md-6 mb-4",children:e.jsxs("div",{className:"card h-100",children:[e.jsx("div",{className:"card-header bg-info text-white",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-ruler me-2"})," ",e.jsxs("span",{className:"ms-2",children:[e.jsx("i",{className:"fas fa-lock"}),"()"]})]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:" () *"}),e.jsx("div",{className:"form-control-plaintext bg-light p-2 rounded",children:c!=null&&c.height?`${c.height} `:" "})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:" () *"}),e.jsx("div",{className:"form-control-plaintext bg-light p-2 rounded",children:c!=null&&c.current_weight?`${c.current_weight} `:" "})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"  *"}),e.jsx("div",{className:"form-control-plaintext bg-light p-2 rounded",children:(c==null?void 0:c.goal)==="lose_weight"?" ":(c==null?void 0:c.goal)==="gain_weight"?" ":(c==null?void 0:c.goal)==="maintain_weight"?"  ":(c==null?void 0:c.goal)==="build_muscle"?" ":(c==null?void 0:c.goal)==="improve_health"?"  ":" "})]}),e.jsxs("div",{className:"alert alert-info",children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),e.jsxs("small",{children:[e.jsx("strong",{children:":"}),"    (*)       .       ."]})]})]})]})})]}),!i&&c&&e.jsx("div",{className:"row mt-4",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card bg-light",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h6",{className:"text-muted mb-3",children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),"  "]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3 text-center",children:e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:"fw-bold text-primary fs-4",children:c.height?`${c.height} `:" "}),e.jsx("small",{className:"text-muted",children:""})]})}),e.jsx("div",{className:"col-md-3 text-center",children:e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:"fw-bold text-success fs-4",children:c.current_weight?`${c.current_weight} `:" "}),e.jsx("small",{className:"text-muted",children:""})]})}),e.jsx("div",{className:"col-md-3 text-center",children:e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:"fw-bold text-warning fs-4",children:c.gender==="male"?"":c.gender==="female"?"":" "}),e.jsx("small",{className:"text-muted",children:""})]})})]})]})})})})]})]})},Z0=()=>{const{t}=$e(),{user:s}=Qe(),n=es(),a=y=>({weight_loss:" ",weight_maintenance:" ",weight_gain:" ",health_maintenance:"  ",pregnant:"",breastfeeding:"",diabetic:" ",keto:"",balanced:"",low_carb:" ",muscle_gain:" ",muscle_building:" "})[y]||y,[i,l]=C.useState(null),[o,d]=C.useState([]),[c,u]=C.useState(!1),{data:m,isLoading:h,error:g}=ge("patient-meal-plans",()=>te.get(`/api/meals/patients/${s.id}/meal-plans/`).then(y=>(console.log("API response:",y.data),y.data&&y.data.results&&Array.isArray(y.data.results)?(console.log("Found meal plans:",y.data.results.length),y.data.results):(console.log("No meal plans found or invalid response format"),[]))),{enabled:!!(s!=null&&s.id),refetchInterval:3e4,initialData:[]}),x=(y,w)=>{console.log("handleMealSelection called with:",{meal:y.name,mealType:w,selectedMeals:o});const k=`${w}-${y.name}`,O=o.some(M=>M.key===k);console.log("Current selection state:",{mealKey:k,isSelected:O,selectedMeals:o}),O?(d(M=>{const B=M.filter(G=>G.key!==k);return console.log("Removing meal, new selections:",B),B}),U.info(`  : ${y.name}`)):(d(M=>{const B=[...M,{key:k,meal:y,mealType:w,selectedAt:new Date().toISOString()}];return console.log("Adding meal, new selections:",B),B}),U.success(` : ${y.name}`))},b=(y,w)=>{const k=`${w}-${y.name}`;return o.some(O=>O.key===k)},_=async()=>{var y,w,k;try{if(o.length===0){U.warning("     ");return}if(!s||!s.id){console.error("User not found or user.id is missing"),U.error(":    ");return}if(!i||!i.id){console.error("Selected plan not found or plan.id is missing"),U.error(":    ");return}console.log("Saving meal selections:",{patientId:s.id,mealPlanId:i.id,selectedMeals:o,user:s,selectedPlan:i});const O=await te.post(`/api/meals/patients/${s.id}/selected-meals/`,{meal_plan_id:i.id,selected_meals:o.map(M=>({meal_name:M.meal.name,meal_type:M.mealType,selected_at:M.selectedAt,nutrition_info:{calories:M.meal.calories,protein:M.meal.protein,carbs:M.meal.carbs,fat:M.meal.fat},ingredients:M.meal.ingredients||[],notes:M.meal.description||""}))});console.log("Meal selections saved successfully:",O.data),U.success("   "),u(!1),n.invalidateQueries("patient-meal-plans"),n.invalidateQueries("patient-meal-selections")}catch(O){console.error("Error saving meal selections:",O),console.error("Error details:",(y=O.response)==null?void 0:y.data),U.error("   : "+(((k=(w=O.response)==null?void 0:w.data)==null?void 0:k.error)||O.message))}},j=y=>({breakfast:"",lunch:"",dinner:"",snack:" "})[y]||y,f=y=>({keto:"",balanced:"",muscle_gain:" ",diabetic:" ",low_carb:" ",high_protein:" ",weight_gain:" ",muscle_building:" ",health_maintenance:"  ",weight_maintenance:"  ",diabetes:" ",heart_healthy:" ",mediterranean:"  ",vegetarian:"",vegan:" ",paleo:"",intermittent_fasting:" "})[y]||y,p=y=>{const w={keto:{breakfast:[{name:"  ",description:"    ",calories:450,protein:25,carbs:8,fat:35,ingredients:["  ",""," "," "]},{name:"  ",description:"  ",calories:380,protein:20,carbs:6,fat:30,ingredients:[" "," ",""," "]}],lunch:[{name:" ",description:"   ",calories:520,protein:30,carbs:12,fat:40,ingredients:[{name:" ",amount:100,nutrition:{calories:20,protein:2}},{name:"",amount:80,nutrition:{calories:160,protein:2}},{name:" ",amount:50,nutrition:{calories:150,protein:8}},{name:" ",amount:15,nutrition:{calories:135,protein:0}}]}],dinner:[{name:"  ",description:"     ",calories:480,protein:35,carbs:8,fat:32,ingredients:[{name:" ",amount:150,nutrition:{calories:300,protein:25}},{name:"",amount:100,nutrition:{calories:35,protein:3}},{name:"  ",amount:10,nutrition:{calories:90,protein:0}},{name:"",amount:20,nutrition:{calories:5,protein:0}}]}],snack:[{name:"  ",description:"    ",calories:200,protein:8,carbs:4,fat:18,ingredients:[{name:" ",amount:60,nutrition:{calories:120,protein:2}},{name:"",amount:20,nutrition:{calories:120,protein:4}},{name:"",amount:30,nutrition:{calories:40,protein:0}},{name:"",amount:50,nutrition:{calories:100,protein:1}}]},{name:"  ",description:"   ",calories:150,protein:6,carbs:3,fat:14,ingredients:[{name:" ",amount:40,nutrition:{calories:160,protein:10}},{name:" ",amount:20,nutrition:{calories:30,protein:0}},{name:" ",amount:10,nutrition:{calories:50,protein:2}}]}]},balanced:{breakfast:[{name:" ",description:"  ",calories:400,protein:20,carbs:45,fat:15,ingredients:[{name:"",amount:50,nutrition:{calories:200,protein:7}},{name:"",amount:200,nutrition:{calories:100,protein:8}},{name:"",amount:100,nutrition:{calories:60,protein:1}},{name:"",amount:20,nutrition:{calories:60,protein:0}}]}],lunch:[{name:"  ",description:"    ",calories:450,protein:30,carbs:50,fat:12,ingredients:[{name:"",amount:150,nutrition:{calories:250,protein:30}},{name:" ",amount:100,nutrition:{calories:110,protein:2}},{name:"",amount:80,nutrition:{calories:30,protein:2}},{name:" ",amount:10,nutrition:{calories:90,protein:0}}]}],dinner:[{name:"   ",description:"  ",calories:420,protein:25,carbs:35,fat:18,ingredients:[{name:" ",amount:120,nutrition:{calories:200,protein:25}},{name:" ",amount:100,nutrition:{calories:40,protein:3}},{name:" ",amount:15,nutrition:{calories:135,protein:0}},{name:"",amount:20,nutrition:{calories:5,protein:0}}]}],snack:[{name:"  ",description:"   ",calories:180,protein:8,carbs:25,fat:6,ingredients:[{name:"",amount:80,nutrition:{calories:80,protein:1}},{name:"",amount:15,nutrition:{calories:90,protein:3}},{name:"",amount:10,nutrition:{calories:30,protein:0}},{name:"",amount:100,nutrition:{calories:60,protein:5}}]},{name:"  ",description:"    ",calories:120,protein:3,carbs:28,fat:2,ingredients:[{name:"",amount:100,nutrition:{calories:50,protein:0}},{name:"",amount:80,nutrition:{calories:40,protein:1}},{name:"",amount:10,nutrition:{calories:65,protein:1}},{name:"",amount:5,nutrition:{calories:15,protein:0}}]}]},weight_loss:{breakfast:[{name:"  ",description:"    ",calories:300,protein:25,carbs:20,fat:12,ingredients:[{name:" ",amount:100,nutrition:{calories:155,protein:13}},{name:" ",amount:50,nutrition:{calories:10,protein:1}},{name:"  ",amount:30,nutrition:{calories:60,protein:8}},{name:"",amount:60,nutrition:{calories:10,protein:0}}]}],lunch:[{name:"  ",description:"    ",calories:250,protein:20,carbs:15,fat:8,ingredients:[{name:" ",amount:100,nutrition:{calories:165,protein:31}},{name:" ",amount:80,nutrition:{calories:15,protein:2}},{name:"",amount:60,nutrition:{calories:10,protein:0}},{name:"",amount:50,nutrition:{calories:8,protein:0}}]}],dinner:[{name:"   ",description:"    ",calories:280,protein:30,carbs:12,fat:10,ingredients:[{name:" ",amount:120,nutrition:{calories:120,protein:25}},{name:"",amount:80,nutrition:{calories:30,protein:3}},{name:"",amount:60,nutrition:{calories:25,protein:1}},{name:"",amount:15,nutrition:{calories:4,protein:0}}]}],snack:[{name:"  ",description:"   ",calories:100,protein:8,carbs:12,fat:2,ingredients:[{name:"  ",amount:150,nutrition:{calories:80,protein:8}},{name:"",amount:50,nutrition:{calories:25,protein:0}},{name:" ",amount:5,nutrition:{calories:25,protein:1}}]},{name:"  ",description:"    ",calories:80,protein:4,carbs:15,fat:1,ingredients:[{name:"",amount:80,nutrition:{calories:12,protein:1}},{name:"",amount:60,nutrition:{calories:25,protein:1}},{name:"",amount:50,nutrition:{calories:9,protein:0}},{name:"",amount:10,nutrition:{calories:3,protein:0}}]}]}};return w[y]||w.balanced},v=()=>{try{if(console.log("getCurrentPlans called with mealPlans:",m),!m||!Array.isArray(m))return console.log("mealPlans is not an array:",m),[];if(m.length===0)return console.log("No meal plans available"),[];const y=new Date;y.setHours(0,0,0,0);const w=m.filter(M=>{if(console.log("Processing plan:",M.id,M.title,"is_active:",M.is_active),!M||!M.start_date||!M.end_date)return console.log("Invalid plan:",M),!1;try{const B=new Date(M.start_date),G=new Date(M.end_date);B.setHours(0,0,0,0),G.setHours(23,59,59,999);const ee=new Date(y);ee.setDate(ee.getDate()+1);const F=M.is_active&&G>=y&&B<=ee;return console.log(`Plan ${M.id}: start=${B.toISOString()}, end=${G.toISOString()}, today=${y.toISOString()}, tomorrow=${ee.toISOString()}, is_active=${M.is_active}, isCurrent=${F}`),F}catch(B){return console.error("Error processing plan dates:",B,M),!1}});console.log("Active plans found:",w.length);const k=w.sort((M,B)=>new Date(B.created_at)-new Date(M.created_at)),O=k.length>0?[k[0]]:[];return console.log("Returning current plans:",O.length),O}catch(y){return console.error("Error in getCurrentPlans:",y),[]}};if(h)return e.jsx(je,{});if(g)return console.error("Error loading meal plans:",g),e.jsxs("div",{className:"alert alert-danger",children:[e.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),"    : ",g.message||"  "]});const N=v();return e.jsxs("div",{className:"container-fluid py-4",children:[e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsxs("h2",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-utensils me-2"})," "]}),e.jsxs("button",{className:"btn btn-outline-primary me-2",onClick:()=>{n.invalidateQueries("patient-meal-plans"),U.info("  ...")},children:[e.jsx("i",{className:"fas fa-sync me-2"}),""]}),e.jsxs("button",{className:"btn btn-outline-success",onClick:async()=>{try{const y=[{meal:{name:" ",calories:400,protein:20,carbs:45,fat:15,description:" "},mealType:"breakfast",selectedAt:new Date().toISOString(),key:"test-breakfast"}];if(s&&s.id&&i&&i.id){const w=await te.post(`/api/meals/patients/${s.id}/selected-meals/`,{meal_plan_id:i.id,selected_meals:y.map(k=>({meal_name:k.meal.name,meal_type:k.mealType,selected_at:k.selectedAt,nutrition_info:{calories:k.meal.calories,protein:k.meal.protein,carbs:k.meal.carbs,fat:k.meal.fat},notes:k.meal.description||""}))});console.log("Test selections saved:",w.data),U.success("   "),n.invalidateQueries("patient-meal-selections")}else U.error("     ")}catch(y){console.error("Error saving test selections:",y),U.error("    ")}},children:[e.jsx("i",{className:"fas fa-flask me-2"})," "]})]}),e.jsx("div",{className:"row mb-3",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"alert alert-info",children:[e.jsxs("h6",{className:"mb-2",children:[e.jsx("i",{className:"fas fa-info-circle me-2"})," "]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:" :"})," ",s?s.id:" "]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"  :"})," ",m?m.length:" "]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:" :"})," ",N.length]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:" :"})," ",o.length]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:" :"})," ",i?`ID: ${i.id}`:" "]}),e.jsxs("p",{className:"mb-0",children:[e.jsx("strong",{children:" :"})," ",h?" ...":""]})]})})}),N.length===0?e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{className:"fas fa-calendar-plus text-muted fs-1 mb-3"}),e.jsx("h5",{className:"text-muted",children:"    "}),e.jsx("p",{className:"text-muted",children:"       "}),m&&m.length>0&&e.jsxs("div",{className:"alert alert-warning mt-3",children:[e.jsx("h6",{children:" :"}),m.map((y,w)=>{const k=new Date(y.start_date),O=new Date(y.end_date),M=new Date,B=k>M,G=y.is_active,ee=O<M;return e.jsxs("div",{className:"mb-2 p-2 border rounded",children:[e.jsx("strong",{children:a(y.title)})," -  ",k.toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric",calendar:"gregory"}),"  ",O.toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric",calendar:"gregory"}),e.jsx("br",{}),e.jsxs("small",{className:`badge ${G?"bg-success":"bg-secondary"} me-1`,children:[": ",G?"":""]}),e.jsx("small",{className:`badge ${B?"bg-info":ee?"bg-danger":"bg-primary"} me-1`,children:B?"":ee?"":""}),B&&e.jsxs("small",{className:"text-info",children:[e.jsx("i",{className:"fas fa-clock me-1"}),"  ",Math.ceil((k-M)/(1e3*60*60*24))," "]})]},w)})]})]}):e.jsx("div",{className:"row",children:N.map(y=>e.jsx("div",{className:"col-12 mb-4",children:e.jsxs("div",{className:"card border-success",children:[e.jsx("div",{className:"card-header bg-success text-white",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-utensils me-2"}),a(y.title)]}),e.jsx("span",{className:"badge bg-light text-success",children:f(y.diet_plan)})]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("p",{className:"text-muted mb-2",children:[e.jsx("i",{className:"fas fa-calendar me-2"})," ",new Date(y.start_date).toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric",calendar:"gregory"}),"  ",new Date(y.end_date).toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric",calendar:"gregory"})]}),e.jsxs("p",{className:"text-muted mb-2",children:[e.jsx("i",{className:"fas fa-fire me-2"})," : ",y.target_calories,"  "]})]}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"d-flex gap-2",children:e.jsxs("button",{className:"btn btn-primary",onClick:()=>l(y),children:[e.jsx("i",{className:"fas fa-eye me-2"})," "]})})})]})})]})},y.id))})]})}),i&&e.jsx("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:e.jsx("div",{className:"modal-dialog modal-xl",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header bg-success text-white",children:[e.jsxs("h5",{className:"modal-title",children:[e.jsx("i",{className:"fas fa-utensils me-2"}),a(i.title)]}),e.jsx("button",{type:"button",className:"btn-close btn-close-white",onClick:()=>l(null)})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"row mb-4",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card border-primary",children:[e.jsx("div",{className:"card-header bg-primary text-white",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-info-circle me-2"})," "]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("p",{children:[e.jsx("strong",{children:" :"})," ",f(i.diet_plan)]}),e.jsxs("p",{children:[e.jsx("strong",{children:" :"})," ",i.target_calories,"  "]}),e.jsxs("p",{children:[e.jsx("strong",{children:":"}),"  ",new Date(i.start_date).toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric",calendar:"gregory"}),"  ",new Date(i.end_date).toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric",calendar:"gregory"})]})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"card border-success",children:[e.jsxs("div",{className:"card-header bg-success text-white",children:[e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-utensils me-2"})," "]}),i.meals&&i.meals.length>0&&e.jsxs("span",{className:"badge bg-light text-success",children:[i.meals.length," "]})]}),e.jsx("div",{className:"card-body",children:i.meals&&i.meals.length>0?e.jsxs("p",{className:"text-success",children:[e.jsx("i",{className:"fas fa-check me-2"}),"  ",i.meals.length," "]}):e.jsxs("p",{className:"text-warning",children:[e.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),"    "]})})]})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"alert alert-success",children:[e.jsxs("h6",{className:"alert-heading",children:[e.jsx("i",{className:"fas fa-utensils me-2"}),"   "]}),e.jsxs("p",{className:"mb-0",children:["     (",i.diet_plan,")        :"]})]})})}),(()=>{const y=new Date(i.start_date),w=new Date(i.end_date),k=Math.ceil((w-y)/(1e3*60*60*24))+1;return Array.from({length:k},(O,M)=>{const B=new Date(y);B.setDate(y.getDate()+M);const G=B.toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric",calendar:"gregory"});return e.jsxs("div",{className:"card mb-4 border-info",children:[e.jsxs("div",{className:"card-header bg-info text-white",children:[e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-calendar-day me-2"})," ",M+1," - ",G]}),e.jsx("small",{children:"      "})]}),e.jsx("div",{className:"card-body",children:(()=>{const ee=i.meals||[];console.log(" :",ee);const F=ee.length>0?ee.reduce((R,I)=>{const le=I.meal_type_name||I.meal_type_name_ar||"breakfast";return console.log(" :",le,":",I.name),R[le]||(R[le]=[]),R[le].push(I),R},{}):p(i.diet_plan);return console.log(" :",F),["breakfast","lunch","dinner","snack"].map((R,I)=>{const le=F[R]||[];return le.length===0?null:e.jsxs("div",{className:"card mb-3 border-success",children:[e.jsxs("div",{className:"card-header bg-success text-white",children:[e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-utensils me-2"}),j(R)]}),e.jsxs("small",{children:["  ",le.length,"  "]})]}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"row",children:le.map((z,T)=>{var W,X,ae,D,Y;return e.jsx("div",{className:"col-md-4 mb-4",children:e.jsxs("div",{className:"card h-100",style:{border:b(z,R)?"2px solid #28a745":"1px solid #dee2e6",borderRadius:"12px",boxShadow:b(z,R)?"0 4px 8px rgba(40, 167, 69, 0.2)":"0 2px 4px rgba(0,0,0,0.1)",transition:"all 0.3s ease"},children:[e.jsx("div",{className:"card-header",style:{background:"linear-gradient(135deg, #28a745 0%, #20c997 100%)",color:"white",borderRadius:"12px 12px 0 0",border:"none"},children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h6",{className:"mb-0 fw-bold",children:[e.jsx("i",{className:"fas fa-utensils me-2"}),j(R)]}),e.jsx("small",{className:"opacity-75",children:"  "})]}),e.jsxs("button",{className:`btn btn-sm ${b(z,R)?"btn-light text-success":"btn-outline-light"}`,onClick:()=>{console.log("    :",z.name,R),x(z,R)},style:{borderRadius:"20px"},children:[e.jsx("i",{className:`fas ${b(z,R)?"fa-check":"fa-plus"}`}),b(z,R)?"":""]})]})}),e.jsxs("div",{className:"card-body p-3",children:[e.jsx("h5",{className:"card-title text-dark fw-bold mb-2",children:z.name}),z.description&&e.jsx("p",{className:"text-muted small mb-3",children:z.description}),z.ingredients&&z.ingredients.length>0&&e.jsxs("div",{className:"ingredients-section mb-3",children:[e.jsxs("h6",{className:"text-primary mb-2 fw-bold",children:[e.jsx("i",{className:"fas fa-shopping-basket me-1"}),":"]}),e.jsx("div",{className:"ingredients-list",children:z.ingredients.map((K,re)=>{var me,Ee;return e.jsx("div",{className:"ingredient-item mb-2",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center p-2",style:{backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #e9ecef"},children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-circle text-success me-2",style:{fontSize:"0.5rem"}}),e.jsx("span",{className:"fw-bold text-dark",children:K.food_name_ar||K.food_name||((me=K.food)==null?void 0:me.name_ar)||((Ee=K.food)==null?void 0:Ee.name)||K.name||"  "})]}),e.jsxs("div",{className:"text-muted d-flex align-items-center",children:[e.jsxs("span",{className:"badge bg-primary me-2",children:[K.amount||K.quantity||0,"g"]}),e.jsxs("small",{className:"text-info",children:[": ",Math.round(K.calories||K.calories_per_100g||0)," | : ",Math.round(K.protein||K.protein_per_100g||0),"g"]}),K.notes&&e.jsxs("small",{className:"text-info ms-1",children:["- ",K.notes]})]})]})},re)})})]}),e.jsxs("div",{className:"nutrition-info",children:[e.jsxs("h6",{className:"text-success mb-2 fw-bold",children:[e.jsx("i",{className:"fas fa-chart-pie me-1"}),"  :"]}),e.jsxs("div",{className:"row g-2",children:[e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"p-2 text-center",style:{backgroundColor:"#007bff",color:"white",borderRadius:"8px"},children:[e.jsx("div",{className:"fw-bold fs-6",children:Math.round(((W=z.total_nutrition)==null?void 0:W.calories)||z.calories||0)}),e.jsx("small",{children:""})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"p-2 text-center",style:{backgroundColor:"#28a745",color:"white",borderRadius:"8px"},children:[e.jsxs("div",{className:"fw-bold fs-6",children:[Math.round(((X=z.total_nutrition)==null?void 0:X.protein)||z.protein||0),"g"]}),e.jsx("small",{children:""})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"p-2 text-center",style:{backgroundColor:"#17a2b8",color:"white",borderRadius:"8px"},children:[e.jsxs("div",{className:"fw-bold fs-6",children:[Math.round(((ae=z.total_nutrition)==null?void 0:ae.carbs)||z.carbs||0),"g"]}),e.jsx("small",{children:""})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"p-2 text-center",style:{backgroundColor:"#ffc107",color:"white",borderRadius:"8px"},children:[e.jsxs("div",{className:"fw-bold fs-6",children:[Math.round(((D=z.total_nutrition)==null?void 0:D.fat)||z.fat||0),"g"]}),e.jsx("small",{children:""})]})})]})]}),!z.calories&&!((Y=z.total_nutrition)!=null&&Y.calories)&&e.jsxs("div",{className:"alert alert-warning d-flex align-items-center mt-3",style:{fontSize:"0.8rem"},children:[e.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),e.jsx("span",{children:"    "})]})]})]})},T)})})})]},I)})})()})]},M)})})(),e.jsx("div",{className:"row mt-3",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"alert alert-info",children:[e.jsxs("h6",{className:"mb-2",children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),"  ()"]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:"  :"})," ",o.length]}),e.jsxs("p",{className:"mb-2",children:[e.jsx("strong",{children:" :"})," ",o.map(y=>y.meal.name).join(", ")||" "]}),e.jsxs("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>{console.log("Current selectedMeals state:",o),console.log("Current selectedMeals length:",o.length)},children:[e.jsx("i",{className:"fas fa-bug me-1"})," "]})]})})}),o.length>0&&e.jsx("div",{className:"row mt-4",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card border-primary",children:[e.jsx("div",{className:"card-header bg-primary text-white",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-shopping-cart me-2"}),"  (",o.length,")"]})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"row",children:o.map((y,w)=>e.jsx("div",{className:"col-md-6 mb-3",children:e.jsx("div",{className:"card border-success",children:e.jsxs("div",{className:"card-body p-3",children:[e.jsxs("div",{className:"d-flex align-items-center mb-2",children:[e.jsx("i",{className:"fas fa-check-circle text-success me-2"}),e.jsx("span",{className:"fw-bold",children:y.meal.name}),e.jsxs("small",{className:"text-muted ms-2",children:["(",y.mealType,")"]})]}),y.meal.ingredients&&y.meal.ingredients.length>0&&e.jsxs("div",{className:"ingredients-section",children:[e.jsxs("h6",{className:"text-primary mb-2 small",children:[e.jsx("i",{className:"fas fa-shopping-basket me-1"}),":"]}),e.jsx("div",{className:"ingredients-list",children:y.meal.ingredients.map((k,O)=>{var M,B;return e.jsxs("div",{className:"ingredient-item d-flex justify-content-between align-items-center mb-1 p-1 bg-light rounded small",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-circle text-success me-1",style:{fontSize:"0.4rem"}}),e.jsx("span",{className:"fw-bold",children:k.food_name_ar||k.food_name||((M=k.food)==null?void 0:M.name_ar)||((B=k.food)==null?void 0:B.name)||k.name||"  "})]}),e.jsxs("div",{className:"text-muted",children:[e.jsxs("span",{className:"badge bg-primary small",children:[k.amount||k.quantity||0,"g"]}),e.jsxs("small",{className:"text-info ms-1",children:[": ",Math.round(k.calories||k.calories_per_100g||0)," | : ",Math.round(k.protein||k.protein_per_100g||0),"g"]}),k.notes&&e.jsxs("small",{className:"text-info ms-1",children:["- ",k.notes]})]})]},O)})})]})]})})},w))})}),e.jsxs("div",{className:"card-footer",children:[e.jsx("div",{className:"text-center mb-2",children:e.jsxs("small",{className:"text-success",children:[e.jsx("i",{className:"fas fa-check-circle me-1"}),"  ",o.length,"  -     "]})}),e.jsxs("button",{className:"btn btn-success w-100",onClick:_,children:[e.jsx("i",{className:"fas fa-save me-2"}),"   "]})]})]})})})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:()=>l(null),children:[e.jsx("i",{className:"fas fa-times me-2"}),""]}),e.jsx("div",{className:"text-center",children:e.jsxs("small",{className:"text-success",children:[e.jsx("i",{className:"fas fa-utensils me-1"}),"     "]})})]})]})})})]})},eb=()=>{const{t}=$e(),{user:s}=Qe(),n=es(),[a,i]=C.useState(null),[l,o]=C.useState("upcoming"),[d,c]=C.useState(!1),[u,m]=C.useState(!1),[h,g]=C.useState({appointment_type:"consultation",doctor:"",preferred_date:"",preferred_time:"",chief_complaint:" ",notes:"",payment_method:"",phone_number:""}),[x,b]=C.useState([]),_=()=>{g({appointment_type:"consultation",doctor:"",preferred_date:"",preferred_time:"",chief_complaint:" ",notes:"",payment_method:"",phone_number:""}),b([])},{data:j,isLoading:f}=ge("patient-appointments",()=>te.get("/api/bookings/appointments/").then(D=>D.data.results),{enabled:!!s}),{data:p,isLoading:v,refetch:N,error:y}=ge("doctors-list",()=>te.get("/api/auth/doctors/").then(D=>D.data),{enabled:!!s,staleTime:0,cacheTime:0,refetchOnWindowFocus:!0,onError:D=>{console.error("Error loading doctors:",D),U.error("    ")}});let w=Array.isArray(p)?p:(p==null?void 0:p.results)||[];(!w||w.length===0)&&(w=[{id:2,user:{id:10,first_name:"Dr Mays",last_name:"Al-rubay",get_full_name:()=>"Dr Mays Al-rubay"},specialization:"Therapeutic nutrition",consultation_fee:5e4,years_of_experience:8}]),console.log("Doctors Response:",p),console.log("Doctors Array:",w),console.log("Doctors Length:",w==null?void 0:w.length),console.log("Is Array:",Array.isArray(w)),console.log("Doctors Details:",w==null?void 0:w.map(D=>{var Y,K,re;return{id:D.id,user_id:(Y=D.user)==null?void 0:Y.id,name:`${(K=D.user)==null?void 0:K.first_name} ${(re=D.user)==null?void 0:re.last_name}`}}));const k=ot(D=>te.post(`/api/bookings/appointments/${D}/cancel/`),{onSuccess:()=>{U.success("   "),n.invalidateQueries("patient-appointments"),i(null)},onError:D=>{U.error("   "),console.error("Cancel error:",D)}}),O=ot(D=>te.post("/api/bookings/appointments/",D),{onSuccess:()=>{U.success("    !      ."),n.invalidateQueries("patient-appointments"),m(!1),g({appointment_type:"consultation",doctor:"",preferred_date:"",preferred_time:"",chief_complaint:" ",notes:"",payment_method:"",phone_number:""}),b([])},onError:D=>{var K,re,me,Ee;console.error("Booking error:",D),console.error("Error response:",(K=D.response)==null?void 0:K.data);let Y="    ";if((me=(re=D.response)==null?void 0:re.data)!=null&&me.detail)Y=D.response.data.detail;else if((Ee=D.response)!=null&&Ee.data){const It=Object.values(D.response.data).flat();It.length>0&&(Y=It.join(", "))}U.error(Y)}}),M=()=>{if(!j)return[];const D=new Date;return j.filter(Y=>new Date(Y.scheduled_date)>=D&&Y.status!=="cancelled")},B=()=>{if(!j)return[];const D=new Date;return j.filter(Y=>new Date(Y.scheduled_date)<D||Y.status==="cancelled")},G=D=>{switch(D){case"confirmed":return e.jsx("span",{className:"badge bg-success",children:""});case"pending":return e.jsx("span",{className:"badge bg-warning",children:" "});case"cancelled":return e.jsx("span",{className:"badge bg-danger",children:""});case"completed":return e.jsx("span",{className:"badge bg-info",children:""});default:return e.jsx("span",{className:"badge bg-secondary",children:D})}},ee=D=>{switch(D){case"consultation":return"";case"follow_up":return"";default:return D}},F=D=>{if(!D||!D.user)return" ";const Y=D.user.first_name||"",K=D.user.last_name||"";return Y&&K?`.${Y} ${K}`:`. ${Y} ${K}`.trim()},Q=D=>{if(!D)return" ";let Y=D.replace(/^\.?\s*/,"");const K=Y.trim().split(/\s+/);if(K.length>=2){const re=K[0],me=K.slice(1).join(" ");return`.${re} ${me}`}return`.${Y}`},R=D=>{window.confirm("      ")&&k.mutate(D)},I=D=>new Date(D).getDay()!==5,le=()=>{const D=[];for(let re=17;re<20;re++)for(let me=0;me<60;me+=30){const Ee=`${re.toString().padStart(2,"0")}:${me.toString().padStart(2,"0")}`;D.push({time:Ee,end_time:me===30?`${re.toString().padStart(2,"0")}:00`:`${(re+1).toString().padStart(2,"0")}:00`,duration:30,available:!0})}return D},z=async(D,Y)=>{if(!D||!Y){b([]);return}if(!I(Y)){b([]);return}const K=le();b(K),console.log("Generated time slots:",K)},T=D=>{const{name:Y,value:K}=D.target;if(console.log(`Form field changed: ${Y} = ${K}`),Y==="doctor"){if(console.log("Doctor selected:",K),console.log("Available doctors:",w==null?void 0:w.map(re=>{var me,Ee,It;return{id:(me=re.user)==null?void 0:me.id,name:`${(Ee=re.user)==null?void 0:Ee.first_name} ${(It=re.user)==null?void 0:It.last_name}`}})),g(re=>({...re,[Y]:K,preferred_time:""})),K&&h.preferred_date){const re=w.find(me=>me.id.toString()===K.toString());re&&z(re.user.id,h.preferred_date)}}else if(Y==="preferred_date"){if(K&&!I(K)){U.error("   .        ."),g(re=>({...re,preferred_date:"",preferred_time:""})),b([]);return}if(K&&h.doctor){const re=w.find(me=>me.id.toString()===h.doctor.toString());re&&z(re.user.id,K)}g(re=>({...re,[Y]:K,preferred_time:""}))}else g(re=>({...re,[Y]:K}))},W=D=>{if(D.preventDefault(),!h.doctor||!h.preferred_date||!h.preferred_time){U.error("     ");return}if(!h.payment_method){U.error("   ");return}if(!I(h.preferred_date)){U.error("      ");return}if(!w||w.length===0){U.error("    .   .");return}const Y=w.find(re=>re.id.toString()===h.doctor.toString());if(!Y){U.error("   ");return}const K={doctor:Y.user.id,appointment_type:h.appointment_type,scheduled_date:h.preferred_date,scheduled_time:h.preferred_time,duration:30,chief_complaint:h.chief_complaint||"",notes_from_patient:h.notes||"",payment_method:h.payment_method};console.log("=== Booking Data Debug ==="),console.log("bookingForm:",h),console.log("bookingData:",K),console.log("doctor value type:",typeof K.doctor),console.log("doctor value:",K.doctor),O.mutate(K)};if(f)return e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:e.jsx(je,{size:"lg"})});const X=M(),ae=B();return e.jsxs("div",{className:"fade-in",children:[e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-calendar-check text-success me-2"}),""]}),e.jsx("p",{className:"text-muted",children:"   "})]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs("button",{className:"btn btn-outline-primary",onClick:()=>c(!0),children:[e.jsx("i",{className:"fas fa-calendar-plus me-2"}),"  "]}),e.jsxs("button",{className:"btn btn-outline-success",onClick:()=>{const D=[["",""," ","",""],...(j||[]).map(me=>[Je(me.scheduled_date),Qt(me.scheduled_time),ee(me.appointment_type),Q(me.doctor_name),me.status])].map(me=>me.join(",")).join(`
`),Y=new Blob([D],{type:"text/csv;charset=utf-8;"}),K=document.createElement("a"),re=URL.createObjectURL(Y);K.setAttribute("href",re),K.setAttribute("download",`_${s==null?void 0:s.first_name}_${new Date().toISOString().split("T")[0]}.csv`),K.style.visibility="hidden",document.body.appendChild(K),K.click(),document.body.removeChild(K),U.success("   ")},children:[e.jsx("i",{className:"fas fa-download me-2"})," "]})]})]})})}),s&&e.jsx("div",{className:"alert alert-info mb-4",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),e.jsxs("div",{children:[e.jsxs("strong",{children:[" ",s.first_name,"!"]}),e.jsx("br",{}),e.jsx("small",{children:"      ."}),e.jsx("br",{}),e.jsxs("small",{className:"text-primary",children:[e.jsx("i",{className:"fas fa-phone me-1"}),": ",e.jsx("strong",{children:"07766551551"})]})]})]})}),e.jsxs("ul",{className:"nav nav-tabs mb-4",children:[e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:`nav-link ${l==="upcoming"?"active":""}`,onClick:()=>o("upcoming"),children:[e.jsx("i",{className:"fas fa-calendar-plus me-2"})," ",X.length>0&&e.jsx("span",{className:"badge bg-primary ms-2",children:X.length})]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:`nav-link ${l==="past"?"active":""}`,onClick:()=>o("past"),children:[e.jsx("i",{className:"fas fa-calendar-times me-2"})," ",ae.length>0&&e.jsx("span",{className:"badge bg-secondary ms-2",children:ae.length})]})})]}),l==="upcoming"&&e.jsx("div",{className:"row",children:X.length>0?X.map(D=>e.jsx("div",{className:"col-md-6 col-lg-4 mb-4",children:e.jsxs("div",{className:"card h-100 border-primary",children:[e.jsx("div",{className:"card-header bg-primary text-white",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-calendar me-2"}),ee(D.appointment_type)]}),G(D.status)]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("h6",{className:"card-title text-primary",children:[Q(D.doctor_name),D.doctor_specialization&&e.jsx("small",{className:"text-muted d-block",children:{nutrition:" ",general:" ",specialist:""}[D.doctor_specialization]||D.doctor_specialization})]}),e.jsx("p",{className:"card-text text-muted",children:D.chief_complaint||"   "}),e.jsxs("div",{className:"mb-3",children:[e.jsx("small",{className:"text-muted",children:":"}),e.jsx("div",{className:"fw-bold text-primary",children:Je(D.scheduled_date)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("small",{className:"text-muted",children:":"}),e.jsx("div",{className:"fw-bold text-info",children:Qt(D.scheduled_time)})]}),e.jsx("div",{className:"row text-center mb-3",children:e.jsxs("div",{className:"col-12",children:[e.jsx("small",{className:"text-muted",children:""}),e.jsxs("div",{className:"fw-bold text-success",children:[D.duration," "]})]})}),D.notes&&e.jsxs("div",{className:"mb-3",children:[e.jsx("small",{className:"text-muted",children:":"}),e.jsx("div",{className:"small text-muted",children:D.notes})]})]}),e.jsx("div",{className:"card-footer",children:e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs("button",{className:"btn btn-primary flex-fill",onClick:()=>i(D),children:[e.jsx("i",{className:"fas fa-eye me-2"})," "]}),D.status==="confirmed"&&e.jsxs("button",{className:"btn btn-outline-danger",onClick:()=>R(D.id),disabled:k.isLoading,children:[e.jsx("i",{className:"fas fa-times me-1"}),""]})]})})]})},D.id)):e.jsxs("div",{className:"col-12 text-center py-5",children:[e.jsx("i",{className:"fas fa-calendar-check text-muted fs-1 mb-3"}),e.jsx("h5",{className:"text-muted",children:"   "}),e.jsx("p",{className:"text-muted",children:"     "}),e.jsx("div",{className:"mt-4",children:e.jsxs("button",{className:"btn btn-success btn-lg",onClick:()=>c(!0),children:[e.jsx("i",{className:"fas fa-calendar-plus me-2"}),"  "]})}),e.jsxs("div",{className:"mt-3 p-3 bg-light rounded",children:[e.jsx("h6",{className:"text-muted",children:" :"}),e.jsxs("p",{className:"text-muted small mb-0",children:[e.jsx("strong",{children:":"})," ",s==null?void 0:s.first_name," ",s==null?void 0:s.last_name,e.jsx("br",{}),e.jsx("strong",{children:" :"})," ",s==null?void 0:s.id,e.jsx("br",{}),e.jsx("strong",{children:" :"})," ",s==null?void 0:s.email]})]})]})}),l==="past"&&e.jsx("div",{className:"row",children:ae.length>0?ae.map(D=>e.jsx("div",{className:"col-md-6 col-lg-4 mb-4",children:e.jsxs("div",{className:"card h-100 border-secondary",children:[e.jsx("div",{className:"card-header bg-secondary text-white",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-calendar me-2"}),ee(D.appointment_type)]}),G(D.status)]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("h6",{className:"card-title text-secondary",children:[Q(D.doctor_name),D.doctor_specialization&&e.jsx("small",{className:"text-muted d-block",children:{nutrition:" ",general:" ",specialist:""}[D.doctor_specialization]||D.doctor_specialization})]}),e.jsx("p",{className:"card-text text-muted",children:D.chief_complaint||"   "}),e.jsxs("div",{className:"mb-3",children:[e.jsx("small",{className:"text-muted",children:":"}),e.jsx("div",{className:"fw-bold text-secondary",children:Je(D.scheduled_date)})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("small",{className:"text-muted",children:":"}),e.jsx("div",{className:"fw-bold text-info",children:Qt(D.scheduled_time)})]}),e.jsx("div",{className:"row text-center",children:e.jsxs("div",{className:"col-12",children:[e.jsx("small",{className:"text-muted",children:""}),e.jsxs("div",{className:"fw-bold text-success",children:[D.duration," "]})]})})]}),e.jsx("div",{className:"card-footer",children:e.jsxs("button",{className:"btn btn-outline-secondary w-100",onClick:()=>i(D),children:[e.jsx("i",{className:"fas fa-eye me-2"})," "]})})]})},D.id)):e.jsxs("div",{className:"col-12 text-center py-5",children:[e.jsx("i",{className:"fas fa-calendar-times text-muted fs-1 mb-3"}),e.jsx("h5",{className:"text-muted",children:"   "}),e.jsx("p",{className:"text-muted",children:"   "}),e.jsxs("div",{className:"mt-3 p-3 bg-light rounded",children:[e.jsx("h6",{className:"text-muted",children:" :"}),e.jsxs("p",{className:"text-muted small mb-0",children:[e.jsx("strong",{children:":"})," ",s==null?void 0:s.first_name," ",s==null?void 0:s.last_name,e.jsx("br",{}),e.jsx("strong",{children:" :"})," ",s==null?void 0:s.id,e.jsx("br",{}),e.jsx("strong",{children:" :"})," ",s==null?void 0:s.email]})]})]})}),a&&e.jsx("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:e.jsx("div",{className:"modal-dialog modal-lg",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h5",{className:"modal-title",children:[e.jsx("i",{className:"fas fa-calendar-check text-success me-2"})," "]}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>i(null)})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("h6",{className:"text-primary mb-3",children:" "}),e.jsxs("div",{className:"mb-2",children:[e.jsx("strong",{children:" :"})," ",ee(a.appointment_type)]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("strong",{children:":"})," ",Je(a.scheduled_date)]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("strong",{children:":"})," ",Qt(a.scheduled_time)]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("strong",{children:":"})," ",a.duration," "]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("strong",{children:":"})," ",G(a.status)]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("h6",{className:"text-success mb-3",children:" "}),e.jsxs("div",{className:"mb-2",children:[e.jsx("strong",{children:" :"})," ",Q(a.doctor_name)]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("strong",{children:":"})," ",(()=>{const D=a.doctor_specialization;return{nutrition:" ",general:" ",specialist:""}[D]||D||" "})()]})]})]}),e.jsxs("div",{className:"border-top pt-4",children:[e.jsx("h6",{className:"mb-3",children:" "}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-2",children:[e.jsx("strong",{children:" :"}),e.jsx("div",{className:"text-muted",children:a.chief_complaint||"   "})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-2",children:[e.jsx("strong",{children:":"}),e.jsx("div",{className:"text-muted",children:a.notes||"  "})]})})]})]}),a.status==="completed"&&a.diagnosis&&e.jsxs("div",{className:"border-top pt-4",children:[e.jsx("h6",{className:"mb-3",children:" "}),e.jsxs("div",{className:"p-3 bg-light rounded",children:[e.jsx("strong",{children:":"})," ",a.diagnosis]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>i(null),children:""}),a.status==="confirmed"&&e.jsxs("button",{className:"btn btn-danger",onClick:()=>R(a.id),disabled:k.isLoading,children:[e.jsx("i",{className:"fas fa-times me-2"})," "]}),e.jsxs("button",{className:"btn btn-success",onClick:()=>{const D=`
 
================
 : ${ee(a.appointment_type)}
: ${Je(a.scheduled_date)}
: ${Qt(a.scheduled_time)}
: ${a.duration} 
: ${a.status}

 
================
 : ${Q(a.doctor_name)}
: ${(()=>{const me=a.doctor_specialization;return{nutrition:" ",general:" ",specialist:""}[me]||me||" "})()}

 
================
 : ${a.chief_complaint||"   "}
: ${a.notes||"  "}

${a.status==="completed"&&a.diagnosis?`
 
================
: ${a.diagnosis}
`:""}
                    `.trim(),Y=new Blob([D],{type:"text/plain;charset=utf-8;"}),K=document.createElement("a"),re=URL.createObjectURL(Y);K.setAttribute("href",re),K.setAttribute("download",`__${Je(a.scheduled_date)}.txt`),K.style.visibility="hidden",document.body.appendChild(K),K.click(),document.body.removeChild(K),U.success("    ")},children:[e.jsx("i",{className:"fas fa-download me-2"})," "]})]})]})})}),d&&e.jsx("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)",position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:9999},children:e.jsx("div",{className:"modal-dialog modal-lg",style:{zIndex:1e4},children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h5",{className:"modal-title",children:[e.jsx("i",{className:"fas fa-calendar-plus text-success me-2"}),"  "]}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>c(!1)})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"alert alert-info",children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),e.jsx("strong",{children:" :"}),"         ."]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"card border-success mx-auto",style:{maxWidth:"400px"},children:[e.jsx("div",{className:"card-header bg-success text-white",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-calendar-alt me-2"})," "]})}),e.jsxs("div",{className:"card-body",children:[e.jsx("p",{className:"card-text",children:"   "}),e.jsx("div",{className:"d-grid",children:e.jsxs("button",{className:"btn btn-outline-success",onClick:()=>{c(!1),m(!0)},children:[e.jsx("i",{className:"fas fa-external-link-alt me-2"}),"  "]})})]})]})})}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h6",{className:"text-muted",children:" :"}),e.jsx("div",{className:"p-3 bg-light rounded",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("strong",{children:":"})," ",s==null?void 0:s.first_name," ",s==null?void 0:s.last_name]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("strong",{children:" :"})," ",s==null?void 0:s.id]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("strong",{children:" :"})," ",s==null?void 0:s.email]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("strong",{children:" :"})," ",(s==null?void 0:s.phone)||" "]})]})})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>c(!1),children:""}),e.jsxs("button",{className:"btn btn-success",onClick:()=>{U.success("    !      ."),c(!1)},children:[e.jsx("i",{className:"fas fa-calendar-check me-2"})," "]})]})]})})}),u&&e.jsx("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)",position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:9999},children:e.jsx("div",{className:"modal-dialog modal-lg",style:{zIndex:1e4},children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h5",{className:"modal-title",children:[e.jsx("i",{className:"fas fa-calendar-plus text-success me-2"}),"  "]}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>{m(!1),_()}})]}),e.jsxs("form",{onSubmit:W,children:[e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"alert alert-info",children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),e.jsx("strong",{children:" :"}),"     .      ."]}),e.jsx("div",{className:"alert alert-success mb-3",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-phone text-success me-2"}),e.jsxs("div",{children:[e.jsx("strong",{children:"   :"}),e.jsx("br",{}),e.jsx("span",{className:"text-success fw-bold",children:"07766551551"}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-success ms-2",onClick:()=>window.open("tel:07766551551","_self"),children:[e.jsx("i",{className:"fas fa-phone me-1"}),""]})]})]})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsxs("label",{className:"form-label",children:["  *",e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary ms-2",onClick:()=>N(),disabled:v,title:"  ",children:e.jsx("i",{className:`fas fa-sync-alt ${v?"fa-spin":""}`})})]}),e.jsxs("select",{className:"form-select",name:"doctor",value:h.doctor,onChange:T,required:!0,style:{minHeight:"40px"},onFocus:()=>{console.log("Select focused, doctors:",w),console.log("Doctors count:",w==null?void 0:w.length),console.log("Doctors details:",w==null?void 0:w.map(D=>{var Y,K,re;return{id:D.id,user_id:(Y=D.user)==null?void 0:Y.id,name:`${(K=D.user)==null?void 0:K.first_name} ${(re=D.user)==null?void 0:re.last_name}`,specialization:D.specialization,fee:D.consultation_fee}}))},children:[e.jsx("option",{value:"",children:" "}),w&&Array.isArray(w)&&w.map(D=>e.jsx("option",{value:D.id,children:F(D)},D.id))]}),v&&e.jsxs("div",{className:"form-text",children:[e.jsx("i",{className:"fas fa-spinner fa-spin me-1"}),"   ..."]}),!v&&(!w||!Array.isArray(w)||w.length===0)&&e.jsxs("div",{className:"form-text text-warning",children:[e.jsx("i",{className:"fas fa-exclamation-triangle me-1"}),"    ",e.jsxs("button",{type:"button",className:"btn btn-sm btn-link p-0 ms-2",onClick:()=>N(),children:[e.jsx("i",{className:"fas fa-redo"})," "]})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"  *"}),e.jsxs("select",{className:"form-select",name:"appointment_type",value:h.appointment_type,onChange:T,required:!0,children:[e.jsx("option",{value:"consultation",children:""}),e.jsx("option",{value:"follow_up",children:""})]})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"  *"}),e.jsx("input",{type:"date",className:"form-control",name:"preferred_date",value:h.preferred_date,onChange:T,min:new Date().toISOString().split("T")[0],required:!0}),e.jsxs("div",{className:"form-text text-muted",children:[e.jsx("i",{className:"fas fa-info-circle me-1"}),"       (   )"]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"  *"}),e.jsxs("select",{className:"form-select",name:"preferred_time",value:h.preferred_time,onChange:T,required:!0,disabled:!h.doctor||!h.preferred_date,children:[e.jsx("option",{value:"",children:!h.doctor||!h.preferred_date?"   ":I(h.preferred_date)?x.length===0?"   ":" ":"      "}),x.map((D,Y)=>{const K=D.time,re=Qt(K);return e.jsx("option",{value:K,children:re},Y)})]}),h.doctor&&h.preferred_date&&e.jsx("div",{className:"form-text",children:x.length>0?` ${x.length}  `:I(h.preferred_date)?"      ":"      "})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:" "}),e.jsx("input",{type:"text",className:"form-control",name:"chief_complaint",value:h.chief_complaint,onChange:T,placeholder:"  "})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"  *"}),e.jsxs("select",{className:"form-select",name:"payment_method",value:h.payment_method,onChange:T,required:!0,children:[e.jsx("option",{value:"",children:"  "}),e.jsx("option",{value:"online",children:" "}),e.jsx("option",{value:"visit",children:"  "})]}),e.jsxs("div",{className:"form-text text-muted",children:[e.jsx("i",{className:"fas fa-info-circle me-1"}),"    "]})]})})]}),h.payment_method==="online"&&e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"alert alert-info",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-credit-card me-2"}),e.jsxs("div",{children:[e.jsx("strong",{children:"  "}),e.jsx("div",{className:"mt-2 p-3 bg-white rounded border",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-university text-success me-2"}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-success",children:"Qcard -  "}),e.jsx("br",{}),e.jsx("span",{className:"text-primary fs-5 fw-bold",children:"7113596071"})]})]})}),e.jsxs("small",{className:"text-muted mt-2 d-block",children:[e.jsx("i",{className:"fas fa-info-circle me-1"}),"   Qcard   "]})]})]})})})})}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:" "}),e.jsx("textarea",{className:"form-control",name:"notes",value:h.notes,onChange:T,rows:"3",placeholder:"      "})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h6",{className:"text-muted",children:" :"}),e.jsx("div",{className:"p-3 bg-light rounded",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("strong",{children:":"})," ",s==null?void 0:s.first_name," ",s==null?void 0:s.last_name]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("strong",{children:" :"})," ",s==null?void 0:s.id]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("strong",{children:" :"})," ",(s==null?void 0:s.phone)||" "]}),h.doctor&&w&&Array.isArray(w)&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("strong",{children:" :"}),(()=>{if(!w||!Array.isArray(w))return" ";const D=w.find(Y=>Y.id===parseInt(h.doctor));return D?F(D):" "})()]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("strong",{children:" :"}),h.appointment_type==="consultation"?"":h.appointment_type==="follow_up"?"":" "]})]})]})})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{m(!1),_()},children:""}),e.jsx("button",{type:"submit",className:"btn btn-success",disabled:O.isLoading,children:O.isLoading?e.jsx(je,{size:"sm",color:"light"}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-calendar-check me-2"}),"  "]})})]})]})]})})})]})},tb=()=>{const{t}=$e(),{user:s}=Qe(),n=es(),[a,i]=C.useState("invoices"),[l,o]=C.useState(!1),[d,c]=C.useState(!1),[u,m]=C.useState(null),[h,g]=C.useState(""),[x,b]=C.useState(""),{data:_,isLoading:j}=ge("patient-invoices",()=>te.get("/api/payments/invoices/").then(R=>R.data.results),{enabled:!!s}),{data:f,isLoading:p}=ge("patient-payments",()=>te.get("/api/payments/payments/").then(R=>R.data.results),{enabled:!!s}),{data:v,isLoading:N,error:y}=ge("payment-providers",()=>te.get("/api/payments/providers/").then(R=>{var I;return console.log("Payment providers API response:",R.data),console.log("Payment providers API response type:",typeof R.data),console.log("Payment providers API response isArray:",Array.isArray(R.data)),Array.isArray(R.data)?R.data:((I=R.data)==null?void 0:I.results)||[]}).catch(R=>{var I;return console.error("Payment providers API error:",R),console.error("Payment providers API error response:",(I=R.response)==null?void 0:I.data),[]}),{enabled:!!s}),w=ot(R=>te.post("/api/payments/coupons/validate/",R),{onSuccess:R=>{U.success(`  !  ${R.data.discount_amount} .`)},onError:R=>{var I,le;U.error(((le=(I=R.response)==null?void 0:I.data)==null?void 0:le.error)||"  ")}}),k=ot(R=>te.post("/api/payments/payments/",R),{onSuccess:R=>{U.success("    "),n.invalidateQueries("patient-payments"),n.invalidateQueries("patient-invoices"),o(!1),window.open(`/payment-gateway/${R.data.payment_id}`,"_blank")},onError:R=>{U.error("   ")}}),O=()=>{!h.trim()||!u||w.mutate({code:h,amount:u.total_amount,service_type:u.service_type})},M=()=>{!x||!u||k.mutate({invoice:u.id,provider:x,amount:u.outstanding_amount})},B=R=>{const I={draft:"bg-secondary",pending:"bg-warning",paid:"bg-success",partially_paid:"bg-info",cancelled:"bg-danger",refunded:"bg-dark",completed:"bg-success",failed:"bg-danger"},le={draft:"",pending:" ",paid:"",partially_paid:" ",cancelled:"",refunded:"",completed:"",failed:"",processing:" "};return{className:`badge ${I[R]||"bg-secondary"}`,text:le[R]||R}},G=R=>new Date(R).toLocaleDateString("ar-SA"),ee=R=>({consultation:"",meal_plan:" ",subscription:""})[R]||R,F=R=>{m(R),c(!0)},Q=async R=>{try{const I=`
 : ${R.invoice_number}
 : ${ee(R.service_type)}
 : ${R.service_description}
 : ${R.total_amount} .
 : ${R.paid_amount} .
 : ${R.outstanding_amount} .
: ${B(R.status).text}
 : ${G(R.issue_date)}
 : ${G(R.due_date)}
${R.notes?`: ${R.notes}`:""}
      `.trim(),le=new Blob([I],{type:"text/plain;charset=utf-8"}),z=window.URL.createObjectURL(le),T=document.createElement("a");T.href=z,T.download=`invoice-${R.invoice_number}.txt`,document.body.appendChild(T),T.click(),document.body.removeChild(T),window.URL.revokeObjectURL(z),U.success("   ")}catch(I){console.error("Error downloading invoice:",I),U.error("    ")}};return j||p||N?e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:e.jsx(je,{size:"lg"})}):(y&&console.error("Payment providers error:",y),e.jsxs("div",{className:"fade-in",children:[e.jsx("div",{className:"row mb-4",children:e.jsxs("div",{className:"col-12",children:[e.jsxs("h2",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-credit-card text-warning me-2"})," "]}),e.jsx("p",{className:"text-muted",children:"  "})]})}),e.jsxs("ul",{className:"nav nav-tabs mb-4",children:[e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:`nav-link ${a==="invoices"?"active":""}`,onClick:()=>i("invoices"),children:[e.jsx("i",{className:"fas fa-file-invoice me-2"}),""]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:`nav-link ${a==="payments"?"active":""}`,onClick:()=>i("payments"),children:[e.jsx("i",{className:"fas fa-credit-card me-2"}),""]})})]}),a==="invoices"&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h5",{className:"mb-0",children:""})}),e.jsx("div",{className:"card-body",children:(_==null?void 0:_.length)>0?e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:" "}),e.jsx("th",{children:" "}),e.jsx("th",{children:" "}),e.jsx("th",{children:" "}),e.jsx("th",{children:" "}),e.jsx("th",{children:""}),e.jsx("th",{children:" "}),e.jsx("th",{children:""})]})}),e.jsx("tbody",{children:_.map(R=>{const I=B(R.status);return e.jsxs("tr",{children:[e.jsx("td",{className:"fw-bold",children:R.invoice_number}),e.jsx("td",{children:ee(R.service_type)}),e.jsxs("td",{children:[R.total_amount," ."]}),e.jsxs("td",{children:[R.paid_amount," ."]}),e.jsxs("td",{className:"fw-bold text-danger",children:[R.outstanding_amount," ."]}),e.jsx("td",{children:e.jsx("span",{className:I.className,children:I.text})}),e.jsx("td",{children:G(R.issue_date)}),e.jsx("td",{children:e.jsxs("div",{className:"btn-group",children:[e.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>F(R),title:" ",children:e.jsx("i",{className:"fas fa-eye"})}),e.jsx("button",{className:"btn btn-sm btn-outline-secondary",onClick:()=>Q(R),title:" ",children:e.jsx("i",{className:"fas fa-download"})}),R.status==="pending"&&R.outstanding_amount>0&&e.jsxs("button",{className:"btn btn-sm btn-success",onClick:()=>{m(R),o(!0)},title:" ",children:[e.jsx("i",{className:"fas fa-credit-card me-1"}),""]})]})})]},R.id)})})]})}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{className:"fas fa-file-invoice text-muted fs-1 mb-3"}),e.jsx("h5",{className:"text-muted",children:"  "}),e.jsx("p",{className:"text-muted",children:"    "})]})})]}),a==="payments"&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h5",{className:"mb-0",children:" "})}),e.jsx("div",{className:"card-body",children:(f==null?void 0:f.length)>0?e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:" "}),e.jsx("th",{children:" "}),e.jsx("th",{children:""}),e.jsx("th",{children:""}),e.jsx("th",{children:" "}),e.jsx("th",{children:" "}),e.jsx("th",{children:""}),e.jsx("th",{children:""})]})}),e.jsx("tbody",{children:f.map(R=>{const I=B(R.status);return e.jsxs("tr",{children:[e.jsxs("td",{className:"font-monospace small",children:[R.payment_id.slice(0,8),"..."]}),e.jsx("td",{children:R.invoice_number}),e.jsxs("td",{className:"fw-bold",children:[R.amount," ."]}),e.jsxs("td",{className:"text-muted",children:[R.fee_amount," ."]}),e.jsxs("td",{children:[R.net_amount," ."]}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-credit-card text-primary me-2"}),R.provider_name]})}),e.jsx("td",{children:e.jsx("span",{className:I.className,children:I.text})}),e.jsx("td",{children:G(R.created_at)})]},R.id)})})]})}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{className:"fas fa-credit-card text-muted fs-1 mb-3"}),e.jsx("h5",{className:"text-muted",children:"  "}),e.jsx("p",{className:"text-muted",children:"    "})]})})]}),l&&u&&e.jsx("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:e.jsx("div",{className:"modal-dialog",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:" "}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>{o(!1),m(null),g(""),b("")}})]}),e.jsxs("div",{className:"modal-body",children:[e.jsx("div",{className:"card mb-3",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h6",{children:" "}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-6",children:[e.jsx("small",{className:"text-muted",children:" :"}),e.jsx("div",{className:"fw-bold",children:u.invoice_number})]}),e.jsxs("div",{className:"col-6",children:[e.jsx("small",{className:"text-muted",children:" :"}),e.jsx("div",{children:ee(u.service_type)})]}),e.jsxs("div",{className:"col-6 mt-2",children:[e.jsx("small",{className:"text-muted",children:" :"}),e.jsxs("div",{children:[u.subtotal," ."]})]}),e.jsxs("div",{className:"col-6 mt-2",children:[e.jsx("small",{className:"text-muted",children:":"}),e.jsxs("div",{className:"text-success",children:[u.discount_amount," ."]})]}),e.jsxs("div",{className:"col-12 mt-2",children:[e.jsx("hr",{}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("strong",{children:"  :"}),e.jsxs("strong",{className:"text-primary",children:[u.outstanding_amount," ."]})]})]})]})]})}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"  ()"}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"text",className:"form-control",placeholder:"  ",value:h,onChange:R=>g(R.target.value)}),e.jsx("button",{className:"btn btn-outline-secondary",type:"button",onClick:O,disabled:!h.trim()||w.isLoading,children:w.isLoading?e.jsx(je,{size:"sm"}):""})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"  *"}),e.jsx("div",{className:"row",children:(v||[]).map(R=>e.jsx("div",{className:"col-6 mb-2",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"radio",name:"paymentProvider",id:`provider-${R.id}`,value:R.id,checked:x==R.id,onChange:I=>b(I.target.value)}),e.jsx("label",{className:"form-check-label",htmlFor:`provider-${R.id}`,children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-credit-card text-primary me-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold",children:R.display_name}),e.jsxs("small",{className:"text-muted",children:[": ",R.transaction_fee_percentage,"% + ",R.transaction_fee_fixed," ."]})]})]})})]})},R.id))})]}),x&&e.jsxs("div",{className:"alert alert-info",children:[e.jsx("h6",{children:" :"}),(()=>{const R=(v||[]).find(T=>T.id==x),I=u.outstanding_amount,le=R?I*R.transaction_fee_percentage/100+R.transaction_fee_fixed:0,z=I+le;return e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{children:" :"}),e.jsxs("span",{children:[I," ."]})]}),e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{children:" :"}),e.jsxs("span",{children:[le.toFixed(2)," ."]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"d-flex justify-content-between fw-bold",children:[e.jsx("span",{children:":"}),e.jsxs("span",{children:[z.toFixed(2)," ."]})]})]})})()]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{o(!1),m(null),g(""),b("")},children:""}),e.jsx("button",{type:"button",className:"btn btn-success",onClick:M,disabled:!x||k.isLoading,children:k.isLoading?e.jsx(je,{size:"sm",color:"light"}):" "})]})]})})}),d&&u&&e.jsx("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)"},children:e.jsx("div",{className:"modal-dialog modal-lg",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:" "}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>{c(!1),m(null)}})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("h6",{className:"text-primary",children:" "}),e.jsx("table",{className:"table table-sm",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"fw-bold",children:" :"}),e.jsx("td",{children:u.invoice_number})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"fw-bold",children:" :"}),e.jsx("td",{children:ee(u.service_type)})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"fw-bold",children:":"}),e.jsx("td",{children:e.jsx("span",{className:B(u.status).className,children:B(u.status).text})})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"fw-bold",children:" :"}),e.jsx("td",{children:G(u.issue_date)})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"fw-bold",children:" :"}),e.jsx("td",{children:G(u.due_date)})]})]})})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("h6",{className:"text-primary",children:" "}),e.jsx("table",{className:"table table-sm",children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"fw-bold",children:" :"}),e.jsxs("td",{className:"text-success fw-bold",children:[u.total_amount," ."]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"fw-bold",children:" :"}),e.jsxs("td",{className:"text-info",children:[u.paid_amount," ."]})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"fw-bold",children:" :"}),e.jsxs("td",{className:"text-danger fw-bold",children:[u.outstanding_amount," ."]})]}),u.discount_amount>0&&e.jsxs("tr",{children:[e.jsx("td",{className:"fw-bold",children:" :"}),e.jsxs("td",{className:"text-warning",children:["-",u.discount_amount," ."]})]})]})})]})]}),e.jsx("div",{className:"row mt-3",children:e.jsxs("div",{className:"col-12",children:[e.jsx("h6",{className:"text-primary",children:" "}),e.jsx("p",{className:"text-muted",children:u.service_description})]})}),u.notes&&e.jsx("div",{className:"row mt-3",children:e.jsxs("div",{className:"col-12",children:[e.jsx("h6",{className:"text-primary",children:""}),e.jsx("p",{className:"text-muted",children:u.notes})]})})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{c(!1),m(null)},children:""}),e.jsxs("button",{type:"button",className:"btn btn-outline-primary",onClick:()=>Q(u),children:[e.jsx("i",{className:"fas fa-download me-1"})," "]}),u.status==="pending"&&u.outstanding_amount>0&&e.jsxs("button",{type:"button",className:"btn btn-success",onClick:()=>{c(!1),o(!0)},children:[e.jsx("i",{className:"fas fa-credit-card me-1"})," "]})]})]})})})]}))},sb=()=>{const{t}=$e(),{user:s}=Qe(),{data:n,isLoading:a}=ge("doctor-appointments",()=>te.get("/api/bookings/appointments/?limit=5").then(u=>u.data.results),{enabled:!!s}),{data:i,isLoading:l}=ge("doctor-patients",()=>te.get("/api/bookings/appointments/?status=completed").then(u=>{const m=[],h=new Set;return u.data.results.forEach(g=>{h.has(g.patient)||(h.add(g.patient),m.push({id:g.patient,name:g.patient_name,lastVisit:g.scheduled_date}))}),m.slice(0,5)}),{enabled:!!s}),{data:o,isLoading:d}=ge("doctor-meal-plans",()=>te.get("/api/meals/meal-plans/?limit=5").then(u=>u.data.results),{enabled:!!s}),c=u=>{const m={pending:"bg-warning",confirmed:"bg-info",completed:"bg-success",cancelled:"bg-danger"},h={pending:" ",confirmed:"",completed:"",cancelled:""};return{className:`badge ${m[u]||"bg-secondary"}`,text:h[u]||u}};return a||l||d?e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:e.jsx(je,{size:"lg"})}):e.jsxs("div",{className:"fade-in",children:[e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"bg-gradient-success text-white rounded-4 p-4",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsxs("div",{className:"col-md-8",children:[e.jsxs("h2",{className:"mb-2",children:[" . ",s==null?void 0:s.first_name," ",s==null?void 0:s.last_name,"!"]}),e.jsx("p",{className:"mb-0 opacity-75",children:"   -     "})]}),e.jsx("div",{className:"col-md-4 text-end",children:e.jsx("div",{className:"bg-white bg-opacity-25 rounded-circle p-3 d-inline-block",children:e.jsx("i",{className:"fas fa-user-md fs-1"})})})]})})})}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("div",{className:"col-md-3 mb-3",children:e.jsxs("div",{className:"dashboard-card text-center",children:[e.jsx("div",{className:"text-primary mb-2",children:e.jsx("i",{className:"fas fa-calendar-check fs-2"})}),e.jsx("h4",{className:"text-primary mb-1",children:(n==null?void 0:n.length)||0}),e.jsx("p",{className:"text-muted mb-0",children:" "})]})}),e.jsx("div",{className:"col-md-3 mb-3",children:e.jsxs("div",{className:"dashboard-card text-center",children:[e.jsx("div",{className:"text-success mb-2",children:e.jsx("i",{className:"fas fa-users fs-2"})}),e.jsx("h4",{className:"text-success mb-1",children:(i==null?void 0:i.length)||0}),e.jsx("p",{className:"text-muted mb-0",children:" "})]})}),e.jsx("div",{className:"col-md-3 mb-3",children:e.jsxs("div",{className:"dashboard-card text-center",children:[e.jsx("div",{className:"text-warning mb-2",children:e.jsx("i",{className:"fas fa-utensils fs-2"})}),e.jsx("h4",{className:"text-warning mb-1",children:(o==null?void 0:o.length)||0}),e.jsx("p",{className:"text-muted mb-0",children:"  "})]})}),e.jsx("div",{className:"col-md-3 mb-3",children:e.jsxs("div",{className:"dashboard-card text-center",children:[e.jsx("div",{className:"text-info mb-2",children:e.jsx("i",{className:"fas fa-star fs-2"})}),e.jsx("h4",{className:"text-info mb-1",children:"4.8"}),e.jsx("p",{className:"text-muted mb-0",children:" "})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-6 mb-4",children:e.jsxs("div",{className:"card h-100",children:[e.jsxs("div",{className:"card-header bg-transparent d-flex justify-content-between align-items-center",children:[e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-calendar-check text-primary me-2"})," "]}),e.jsx(Ys,{to:"/appointments",className:"btn btn-sm btn-outline-primary",children:" "})]}),e.jsx("div",{className:"card-body",children:(n==null?void 0:n.length)>0?e.jsx("div",{className:"list-group list-group-flush",children:n.map(u=>{const m=c(u.status);return e.jsx("div",{className:"list-group-item px-0 border-0",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[e.jsxs("div",{children:[e.jsx("h6",{className:"mb-1",children:u.patient_name}),e.jsxs("p",{className:"mb-1 small text-muted",children:[e.jsx("i",{className:"fas fa-clock me-1"}),Qt(u.scheduled_time)]}),e.jsx("p",{className:"mb-0 small",children:u.appointment_type_display})]}),e.jsx("div",{className:"text-end",children:e.jsx("span",{className:m.className,children:m.text})})]})},u.id)})}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{className:"fas fa-calendar-plus text-muted fs-2 mb-3"}),e.jsx("p",{className:"text-muted",children:"   "})]})})]})}),e.jsx("div",{className:"col-lg-6 mb-4",children:e.jsxs("div",{className:"card h-100",children:[e.jsxs("div",{className:"card-header bg-transparent d-flex justify-content-between align-items-center",children:[e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-users text-success me-2"})," "]}),e.jsx(Ys,{to:"/patients",className:"btn btn-sm btn-outline-success",children:" "})]}),e.jsx("div",{className:"card-body",children:(i==null?void 0:i.length)>0?e.jsx("div",{className:"list-group list-group-flush",children:i.map(u=>e.jsx("div",{className:"list-group-item px-0 border-0",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"bg-success bg-opacity-10 rounded-circle p-2 me-3",children:e.jsx("i",{className:"fas fa-user text-success"})}),e.jsxs("div",{children:[e.jsx("h6",{className:"mb-0",children:u.name}),e.jsxs("small",{className:"text-muted",children:[" : ",Je(u.lastVisit)]})]})]}),e.jsxs("div",{className:"btn-group",children:[e.jsx("button",{className:"btn btn-sm btn-outline-primary",children:e.jsx("i",{className:"fas fa-eye"})}),e.jsx("button",{className:"btn btn-sm btn-outline-success",children:e.jsx("i",{className:"fas fa-utensils"})})]})]})},u.id))}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{className:"fas fa-users text-muted fs-2 mb-3"}),e.jsx("p",{className:"text-muted",children:"   "}),e.jsx("div",{className:"alert alert-info mt-3",children:e.jsxs("small",{children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),e.jsx("strong",{children:":"}),"        .           ."]})})]})})]})}),e.jsx("div",{className:"col-lg-6 mb-4",children:e.jsxs("div",{className:"card h-100",children:[e.jsxs("div",{className:"card-header bg-transparent d-flex justify-content-between align-items-center",children:[e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-utensils text-warning me-2"}),"  "]}),e.jsx(Ys,{to:"/meal-plans",className:"btn btn-sm btn-outline-warning",children:" "})]}),e.jsx("div",{className:"card-body",children:(o==null?void 0:o.length)>0?e.jsx("div",{className:"list-group list-group-flush",children:o.map(u=>e.jsx("div",{className:"list-group-item px-0 border-0",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-start",children:[e.jsxs("div",{children:[e.jsx("h6",{className:"mb-1",children:u.title}),e.jsxs("p",{className:"mb-1 small text-muted",children:[e.jsx("i",{className:"fas fa-user me-1"}),u.patient_name]}),e.jsxs("p",{className:"mb-0 small",children:[e.jsx("i",{className:"fas fa-fire me-1"}),u.target_calories,"  "]})]}),e.jsx("span",{className:`badge ${u.is_active?"bg-success":"bg-secondary"}`,children:u.is_active?"":" "})]})},u.id))}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{className:"fas fa-utensils text-muted fs-2 mb-3"}),e.jsx("p",{className:"text-muted",children:"    "})]})})]})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-calendar-week text-primary me-2"})," "]})}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"row text-center",children:["","","","","","",""].map((u,m)=>e.jsx("div",{className:"col",children:e.jsxs("div",{className:"border rounded p-3 mb-2",children:[e.jsx("h6",{className:"mb-2",children:u}),e.jsxs("div",{className:"small text-muted",children:[e.jsx("div",{children:"9:00 - 17:00"}),e.jsx("div",{className:"text-success",children:""})]})]})},m))}),e.jsx("div",{className:"text-center mt-3",children:e.jsx(Ys,{to:"/availability",className:"btn btn-outline-primary",children:"  "})})]})]})})})]})},nb=()=>{const{t}=$e(),{user:s,updateUser:n}=Qe(),a=es(),[i,l]=C.useState("profile"),[o,d]=C.useState({weekday:"",start_time:"",end_time:""}),[c,u]=C.useState({Mon:!1,Tue:!1,Wed:!1,Thu:!1,Fri:!1,Sat:!1,Sun:!1}),{data:m,isLoading:h}=ge("doctor-profile",()=>te.get("/api/auth/doctor-profile/").then(p=>p.data),{enabled:!!s});ue.useEffect(()=>{if(m!=null&&m.available_days){const p=m.available_days.split(","),v={Mon:p.includes("Mon"),Tue:p.includes("Tue"),Wed:p.includes("Wed"),Thu:p.includes("Thu"),Fri:p.includes("Fri"),Sat:p.includes("Sat"),Sun:p.includes("Sun")};u(v)}else u({Mon:!0,Tue:!0,Wed:!0,Thu:!0,Fri:!0,Sat:!1,Sun:!1})},[m]);const g=ot(p=>te.put("/api/auth/doctor-profile/",p),{onSuccess:p=>{U.success("    "),a.invalidateQueries("doctor-profile"),p.user&&n(p.user)},onError:p=>{var v;if(console.error("Profile update error:",p),(v=p.response)!=null&&v.data){const N=p.response.data;typeof N=="object"?Object.keys(N).forEach(y=>{Array.isArray(N[y])?U.error(`${y}: ${N[y][0]}`):U.error(`${y}: ${N[y]}`)}):U.error("    ")}else U.error("    ")}}),x=ot(p=>te.post("/api/bookings/availability/",p),{onSuccess:()=>{U.success("    "),d({weekday:"",start_time:"",end_time:""})},onError:p=>{U.error("    ")}}),b=p=>{u(v=>({...v,[p]:!v[p]}))},_=p=>{var w,k,O;p.preventDefault();const v=new FormData(p.target),N=Object.keys(c).filter(M=>c[M]),y={};for(let[M,B]of v.entries())M!=="available_days"&&(y[M]=B);if(y.available_days=N.join(","),!((w=y.license_number)!=null&&w.trim())){U.error("  ");return}if(!((k=y.specialization)!=null&&k.trim())){U.error(" ");return}if(!((O=y.education)!=null&&O.trim())){U.error("  ");return}if(N.length===0){U.error("     ");return}if(y.years_of_experience){const M=parseInt(y.years_of_experience);if(isNaN(M)||M<0){U.error("      ");return}y.years_of_experience=M}else y.years_of_experience=0;if(y.consultation_fee){const M=parseFloat(y.consultation_fee);if(isNaN(M)||M<0){U.error("      ");return}y.consultation_fee=M}else y.consultation_fee=0;y.certifications=y.certifications||"",y.bio=y.bio||"",y.available_hours_start&&!y.available_hours_start.includes(":")&&(y.available_hours_start=y.available_hours_start+":00"),y.available_hours_end&&!y.available_hours_end.includes(":")&&(y.available_hours_end=y.available_hours_end+":00"),console.log("Profile form data being sent:",y),console.log("Available days state:",c),console.log("Selected days:",N),g.mutate(y)},j=p=>{p.preventDefault(),x.mutate(o)},f=p=>{d({...o,[p.target.name]:p.target.value})};return h?e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:e.jsx(je,{size:"lg"})}):e.jsxs("div",{className:"fade-in",children:[e.jsx("div",{className:"row mb-4",children:e.jsxs("div",{className:"col-12",children:[e.jsxs("h2",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-user-md text-primary me-2"}),"  "]}),e.jsx("p",{className:"text-muted",children:"    "})]})}),e.jsxs("ul",{className:"nav nav-tabs mb-4",children:[e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:`nav-link ${i==="profile"?"active":""}`,onClick:()=>l("profile"),children:[e.jsx("i",{className:"fas fa-user me-2"})," "]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:`nav-link ${i==="availability"?"active":""}`,onClick:()=>l("availability"),children:[e.jsx("i",{className:"fas fa-calendar me-2"})," "]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:`nav-link ${i==="stats"?"active":""}`,onClick:()=>l("stats"),children:[e.jsx("i",{className:"fas fa-chart-bar me-2"}),""]})})]}),i==="profile"&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h5",{className:"mb-0",children:" "})}),e.jsx("div",{className:"card-body",children:e.jsxs("form",{onSubmit:_,children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"  *"}),e.jsx("input",{type:"text",name:"license_number",className:"form-control",defaultValue:(m==null?void 0:m.license_number)||"",required:!0,placeholder:"  "})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:" *"}),e.jsx("input",{type:"text",name:"specialization",className:"form-control",defaultValue:(m==null?void 0:m.specialization)||"",required:!0,placeholder:":    "})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"  *"}),e.jsx("input",{type:"number",name:"years_of_experience",className:"form-control",defaultValue:(m==null?void 0:m.years_of_experience)||"",min:"0",required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"  (.) *"}),e.jsx("input",{type:"number",step:"0.01",name:"consultation_fee",className:"form-control",defaultValue:(m==null?void 0:m.consultation_fee)||"",min:"0",required:!0})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"  *"}),e.jsx("textarea",{name:"education",className:"form-control",rows:"3",defaultValue:(m==null?void 0:m.education)||"",required:!0,placeholder:"   ..."})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:" "}),e.jsx("textarea",{name:"certifications",className:"form-control",rows:"3",defaultValue:(m==null?void 0:m.certifications)||"",placeholder:"    ..."})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:" "}),e.jsx("textarea",{name:"bio",className:"form-control",rows:"3",defaultValue:(m==null?void 0:m.bio)||"",placeholder:"    ..."})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:" "}),e.jsx("div",{className:"row",children:[{value:"Mon",label:""},{value:"Tue",label:""},{value:"Wed",label:""},{value:"Thu",label:""},{value:"Fri",label:""},{value:"Sat",label:""},{value:"Sun",label:""}].map(p=>e.jsx("div",{className:"col-6 col-md-4 col-lg-3",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",name:"available_days",value:p.value,id:`day_${p.value}`,checked:c[p.value],onChange:()=>b(p.value)}),e.jsx("label",{className:"form-check-label",htmlFor:`day_${p.value}`,children:p.label})]})},p.value))}),e.jsx("small",{className:"text-muted",children:"      "})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:" "}),e.jsx("input",{type:"time",name:"available_hours_start",className:"form-control",defaultValue:(m==null?void 0:m.available_hours_start)||"09:00"})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:" "}),e.jsx("input",{type:"time",name:"available_hours_end",className:"form-control",defaultValue:(m==null?void 0:m.available_hours_end)||"17:00"})]})})]})]})]}),e.jsx("div",{className:"text-end",children:e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g.isLoading,children:g.isLoading?e.jsx(je,{size:"sm",color:"light"}):" "})})]})})]}),i==="availability"&&e.jsx("div",{children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-calendar-plus text-success me-2"}),"  "]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"alert alert-info",children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),e.jsx("strong",{children:":"}),'       " "  " "    .       .']}),e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4 mb-3",children:[e.jsx("label",{className:"form-label",children:" *"}),e.jsxs("select",{name:"weekday",className:"form-select",value:o.weekday,onChange:f,required:!0,children:[e.jsx("option",{value:"",children:" "}),e.jsx("option",{value:"0",children:""}),e.jsx("option",{value:"1",children:""}),e.jsx("option",{value:"2",children:""}),e.jsx("option",{value:"3",children:""}),e.jsx("option",{value:"4",children:""}),e.jsx("option",{value:"5",children:""}),e.jsx("option",{value:"6",children:""})]})]}),e.jsxs("div",{className:"col-md-4 mb-3",children:[e.jsx("label",{className:"form-label",children:"  *"}),e.jsx("input",{type:"time",name:"start_time",className:"form-control",value:o.start_time,onChange:f,required:!0})]}),e.jsxs("div",{className:"col-md-4 mb-3",children:[e.jsx("label",{className:"form-label",children:"  *"}),e.jsx("input",{type:"time",name:"end_time",className:"form-control",value:o.end_time,onChange:f,required:!0})]})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-8",children:e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-lightbulb me-1"}),"       (:    )"]})}),e.jsx("div",{className:"col-md-4 text-end",children:e.jsx("button",{type:"submit",className:"btn btn-success",disabled:x.isLoading,children:x.isLoading?e.jsx(je,{size:"sm",color:"light"}):"  "})})]})]})]})]})}),i==="stats"&&e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6 mb-4",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h5",{className:"mb-0",children:" "})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row text-center",children:[e.jsx("div",{className:"col-6 mb-3",children:e.jsxs("div",{className:"bg-primary bg-opacity-10 rounded-3 p-3",children:[e.jsx("h3",{className:"text-primary mb-1",children:"156"}),e.jsx("small",{className:"text-muted",children:" "})]})}),e.jsx("div",{className:"col-6 mb-3",children:e.jsxs("div",{className:"bg-success bg-opacity-10 rounded-3 p-3",children:[e.jsx("h3",{className:"text-success mb-1",children:"142"}),e.jsx("small",{className:"text-muted",children:" "})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"bg-warning bg-opacity-10 rounded-3 p-3",children:[e.jsx("h3",{className:"text-warning mb-1",children:"8"}),e.jsx("small",{className:"text-muted",children:" "})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"bg-info bg-opacity-10 rounded-3 p-3",children:[e.jsx("h3",{className:"text-info mb-1",children:"91%"}),e.jsx("small",{className:"text-muted",children:" "})]})})]})})]})}),e.jsx("div",{className:"col-md-6 mb-4",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h5",{className:"mb-0",children:""})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"text-center mb-3",children:[e.jsx("h2",{className:"text-warning mb-1",children:"4.8"}),e.jsxs("div",{className:"mb-2",children:[e.jsx("i",{className:"fas fa-star text-warning"}),e.jsx("i",{className:"fas fa-star text-warning"}),e.jsx("i",{className:"fas fa-star text-warning"}),e.jsx("i",{className:"fas fa-star text-warning"}),e.jsx("i",{className:"fas fa-star text-warning"})]}),e.jsx("p",{className:"text-muted",children:" 47 "})]}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{children:"5 "}),e.jsx("span",{children:"35"})]}),e.jsx("div",{className:"progress",style:{height:"8px"},children:e.jsx("div",{className:"progress-bar bg-warning",style:{width:"74%"}})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{children:"4 "}),e.jsx("span",{children:"8"})]}),e.jsx("div",{className:"progress",style:{height:"8px"},children:e.jsx("div",{className:"progress-bar bg-warning",style:{width:"17%"}})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{children:"3 "}),e.jsx("span",{children:"3"})]}),e.jsx("div",{className:"progress",style:{height:"8px"},children:e.jsx("div",{className:"progress-bar bg-warning",style:{width:"6%"}})})]}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{children:"2 "}),e.jsx("span",{children:"1"})]}),e.jsx("div",{className:"progress",style:{height:"8px"},children:e.jsx("div",{className:"progress-bar bg-warning",style:{width:"2%"}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"d-flex justify-content-between",children:[e.jsx("span",{children:"1 "}),e.jsx("span",{children:"0"})]}),e.jsx("div",{className:"progress",style:{height:"8px"},children:e.jsx("div",{className:"progress-bar bg-warning",style:{width:"0%"}})})]})]})]})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h5",{className:"mb-0",children:"  "})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row text-center",children:[e.jsx("div",{className:"col-md-3 mb-3",children:e.jsxs("div",{className:"bg-success bg-opacity-10 rounded-3 p-3",children:[e.jsx("h3",{className:"text-success mb-1",children:"23"}),e.jsx("small",{className:"text-muted",children:"  "})]})}),e.jsx("div",{className:"col-md-3 mb-3",children:e.jsxs("div",{className:"bg-primary bg-opacity-10 rounded-3 p-3",children:[e.jsx("h3",{className:"text-primary mb-1",children:"18"}),e.jsx("small",{className:"text-muted",children:" "})]})}),e.jsx("div",{className:"col-md-3 mb-3",children:e.jsxs("div",{className:"bg-info bg-opacity-10 rounded-3 p-3",children:[e.jsx("h3",{className:"text-info mb-1",children:"67"}),e.jsx("small",{className:"text-muted",children:" "})]})}),e.jsx("div",{className:"col-md-3 mb-3",children:e.jsxs("div",{className:"bg-warning bg-opacity-10 rounded-3 p-3",children:[e.jsx("h3",{className:"text-warning mb-1",children:"78%"}),e.jsx("small",{className:"text-muted",children:" "})]})})]})})]})})]})]})},ab=()=>{var R,I,le,z;const{t}=$e(),{user:s}=Qe(),n=es(),[a,i]=C.useState(!1),[l,o]=C.useState(null),[d,c]=C.useState(null),[u,m]=C.useState(!1),[h,g]=C.useState(null),[x,b]=C.useState({date:"",weight:"",waist:"",hip:"",fatPercentage:"",autoUpdateProfile:!0}),[_,j]=C.useState([{id:1,date:"15/01/2024",weight:"80 ",waist:"95 ",hip:"105 ",fatPercentage:"22%"},{id:2,date:"08/01/2024",weight:"82 ",waist:"97 ",hip:"107 ",fatPercentage:"24%"},{id:3,date:"01/01/2024",weight:"85 ",waist:"100 ",hip:"110 ",fatPercentage:"26%"}]),{data:f,refetch:p}=ge("doctor-patient-appointments",async()=>{try{console.log("Fetching appointments for doctor:",s==null?void 0:s.id);const T=await te.get("/api/bookings/appointments/");return console.log("Appointments API Response:",T.data),T.data}catch(T){return console.error("Error fetching appointments:",T),[]}},{enabled:!!s&&(s==null?void 0:s.role)==="doctor",retry:1,staleTime:0,cacheTime:0,refetchOnWindowFocus:!0,refetchInterval:3e4}),{data:v,isLoading:N}=ge(["patient-details",l],async()=>{var T,W;if(!l)return null;try{const X=await te.get(`/api/auth/doctor-patient-profile/?patient_id=${l}`);return console.log("Patient details API Response:",X.data),console.log("Patient height:",(T=X.data)==null?void 0:T.height),console.log("Patient weight:",(W=X.data)==null?void 0:W.current_weight),X.data}catch(X){return console.error("Error fetching patient details:",X),null}},{enabled:!!l,staleTime:0,cacheTime:0,refetchOnWindowFocus:!0,refetchInterval:3e4}),{data:y,refetch:w}=ge(["patient-measurements",l],async()=>{if(!l)return[];try{const T=await te.get(`/api/auth/measurements/?patient_id=${l}`);return console.log("Patient measurements API Response:",T.data),Array.isArray(T.data)?T.data:[]}catch(T){return console.error("Error fetching patient measurements:",T),[]}},{enabled:!!l,staleTime:0,cacheTime:0,initialData:[]}),{data:k,isLoading:O,error:M,refetch:B}=ge("doctor-patients",async()=>{var T,W,X,ae;try{if(console.log("Fetching patients for user:",s==null?void 0:s.id,"role:",s==null?void 0:s.role),console.log("Token exists:",!!localStorage.getItem("token")),!s||s.role!=="doctor")throw new Error("User not authenticated as doctor");const D=await te.get("/api/auth/patients/");return console.log("API Response:",D),D.data}catch(D){throw console.error("API Error:",D),console.error("Error response:",(T=D.response)==null?void 0:T.data),console.error("Error status:",(W=D.response)==null?void 0:W.status),((X=D.response)==null?void 0:X.status)===403?(console.error("403 Forbidden - Check user permissions"),U.error("      ")):((ae=D.response)==null?void 0:ae.status)===401?(console.error("401 Unauthorized - Token may be invalid"),U.error("  .     ")):D.code==="NETWORK_ERROR"&&(console.error("Network Error"),U.error("   ")),D}},{enabled:!!s&&(s==null?void 0:s.role)==="doctor"&&!!localStorage.getItem("token"),retry:2,staleTime:0,cacheTime:0,refetchOnWindowFocus:!0,refetchInterval:3e4,onSuccess:T=>{console.log("Patients data received:",T),console.log("Patients count:",(T==null?void 0:T.length)||0)},onError:T=>{console.error("Error fetching patients:",T)}}),G=ue.useMemo(()=>{console.log("Processing patients data..."),console.log("Raw patients data:",k),console.log("Raw patientAppointments data:",f);const T=Array.isArray(k)?k:(k==null?void 0:k.results)||[];if(console.log("Patients array:",T),console.log("Patients array length:",T.length),!T||T.length===0)return console.log("No patients found"),[];const W=T.map(X=>{const ae=(f==null?void 0:f.results)||f||[];console.log(`Processing patient ${X.id} (${X.first_name} ${X.last_name})`),console.log("Available appointments:",ae);const D=ae.filter(re=>re.patient===X.id);console.log(`Appointments for patient ${X.id}:`,D);const Y=D.sort((re,me)=>new Date(me.scheduled_date)-new Date(re.scheduled_date))[0],K={...X,last_appointment:(Y==null?void 0:Y.scheduled_date)||null,last_appointment_time:(Y==null?void 0:Y.scheduled_time)||null,consultation_fee:(Y==null?void 0:Y.consultation_fee)||0,total_appointments:D.length};return console.log("Processed patient:",K),K});return console.log("Final processed patients:",W),W},[k,f]);C.useEffect(()=>{s&&s.role==="doctor"&&(console.log("Component mounted, forcing data refresh..."),B(),p(),n.invalidateQueries("doctor-patients"),n.invalidateQueries("doctor-patient-appointments"))},[s,B,p,n]),C.useEffect(()=>{const T=()=>{s&&s.role==="doctor"&&(console.log("Window focused, refreshing data..."),B(),p(),n.invalidateQueries("doctor-patients"),n.invalidateQueries("doctor-patient-appointments"))};return window.addEventListener("focus",T),()=>window.removeEventListener("focus",T)},[s,B,p,n]),console.log("Modal Debug:",{showPatientModal:a,selectedPatient:l});const ee=T=>{g(T),b({date:T.date,weight:T.weight,waist:T.waist,hip:T.hip,fatPercentage:T.fatPercentage,autoUpdateProfile:!0}),m(!0)},F=async T=>{T.preventDefault();try{if(h)j(W=>W.map(X=>X.id===h.id?{...X,...x}:X)),U.success("   ");else{const W={weight:parseFloat(x.weight),waist_circumference:x.waist?parseFloat(x.waist):null,hip_circumference:x.hip?parseFloat(x.hip):null,body_fat_percentage:x.fatPercentage?parseFloat(x.fatPercentage):null,measured_at:x.date,auto_update_profile:x.autoUpdateProfile},ae={id:(await te.post("/api/auth/measurements/",{...W,patient_id:l})).data.id,date:x.date,weight:`${x.weight} `,waist:x.waist?`${x.waist} `:"",hip:x.hip?`${x.hip} `:"",fatPercentage:x.fatPercentage?`${x.fatPercentage}%`:""};j(D=>[ae,...D]),w(),U.success("   ")}m(!1),g(null),b({date:"",weight:"",waist:"",hip:"",fatPercentage:"",autoUpdateProfile:!0})}catch(W){console.error("Error saving measurement:",W),U.error("   ")}},Q=T=>{const{name:W,value:X,type:ae,checked:D}=T.target;b(Y=>({...Y,[W]:ae==="checkbox"?D:X}))};return O?e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:e.jsx(je,{size:"lg"})}):e.jsxs("div",{className:"fade-in",children:[e.jsx("div",{className:"row mb-4",children:e.jsxs("div",{className:"col-12",children:[e.jsxs("h2",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-users text-success me-2"}),""]}),e.jsx("p",{className:"text-muted",children:"  "})]})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[e.jsxs("h5",{className:"mb-0",children:["  (",(G==null?void 0:G.length)||0,")"]}),e.jsxs("div",{children:[e.jsxs("button",{className:"btn btn-sm btn-outline-primary me-2",onClick:async()=>{try{console.log("Manual refresh triggered..."),await Promise.all([B(),p()]),n.invalidateQueries("doctor-patients"),n.invalidateQueries("doctor-patient-appointments"),U.success("   ")}catch(T){console.error("Error refreshing data:",T),U.error("   ")}},disabled:O,children:[e.jsx("i",{className:"fas fa-refresh me-1"}),""]}),e.jsxs("button",{className:"btn btn-sm btn-success",onClick:async()=>{try{console.log("Force refresh triggered..."),n.clear(),await Promise.all([B(),p()]),U.success("    ")}catch(T){console.error("Error force refreshing data:",T),U.error("    ")}},disabled:O,children:[e.jsx("i",{className:"fas fa-sync-alt me-1"})," "]})]})]}),e.jsxs("div",{className:"card-body",children:[M&&e.jsxs("div",{className:"alert alert-danger",children:[e.jsxs("h6",{children:[e.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),"   "]}),e.jsx("p",{className:"mb-2",children:((R=M.response)==null?void 0:R.status)===403?"      ":((I=M.response)==null?void 0:I.status)===401?"  .     ":M.message||"   "}),e.jsxs("div",{className:"small",children:[e.jsx("strong",{children:" :"}),e.jsx("br",{}),e.jsxs("code",{children:["Status: ",((le=M.response)==null?void 0:le.status)||" "]}),e.jsx("br",{}),e.jsx("code",{children:"URL: /api/auth/patients/"}),e.jsx("br",{}),e.jsxs("code",{children:["User Role: ",(s==null?void 0:s.role)||" "]}),e.jsx("br",{}),e.jsxs("code",{children:["User ID: ",(s==null?void 0:s.id)||" "]}),e.jsx("br",{}),e.jsxs("code",{children:["Token Exists: ",localStorage.getItem("token")?"":""]})]}),e.jsxs("button",{className:"btn btn-sm btn-outline-danger mt-2",onClick:()=>{B(),p(),n.invalidateQueries("doctor-patients"),n.invalidateQueries("doctor-patient-appointments")},children:[e.jsx("i",{className:"fas fa-redo me-1"})," "]})]}),(G==null?void 0:G.length)>0?e.jsx("div",{children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:""}),e.jsx("th",{children:" "}),e.jsx("th",{children:""}),e.jsx("th",{children:" "}),e.jsx("th",{children:""}),e.jsx("th",{children:""})]})}),e.jsx("tbody",{children:G.map(T=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"bg-success bg-opacity-10 rounded-circle p-2 me-3",children:e.jsx("i",{className:"fas fa-user text-success"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"fw-bold",children:[T.first_name," ",T.last_name]}),e.jsx("small",{className:"text-muted",children:T.email})]})]})}),e.jsx("td",{children:e.jsx("span",{className:"text-muted",children:Je(T.last_appointment)})}),e.jsx("td",{children:e.jsx("span",{className:"text-muted",children:Qt(T.last_appointment_time)})}),e.jsx("td",{children:e.jsx("span",{className:"badge bg-primary",children:T.total_appointments||0})}),e.jsx("td",{children:e.jsx("span",{className:"badge bg-success",children:" "})}),e.jsx("td",{children:e.jsxs("div",{className:"btn-group",children:[e.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>{console.log("Opening modal for patient:",T.id),o(T.id),i(!0),console.log("Modal state:",{selectedPatient:T.id,showModal:!0})},title:"  ",children:e.jsx("i",{className:"fas fa-eye"})}),e.jsx("button",{className:"btn btn-sm btn-outline-success",title:"  ",children:e.jsx("i",{className:"fas fa-utensils"})}),e.jsx("button",{className:"btn btn-sm btn-outline-info",title:" ",children:e.jsx("i",{className:"fas fa-calendar-plus"})})]})})]},T.id))})]})})}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{className:"fas fa-users text-muted fs-1 mb-3"}),e.jsx("h5",{className:"text-muted",children:"  "}),e.jsx("p",{className:"text-muted",children:O?" ...":"      "}),e.jsx("div",{className:"alert alert-info mt-3",children:e.jsxs("small",{children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),e.jsx("strong",{children:"  :"}),"         .                ."]})}),e.jsx("div",{className:"alert alert-success mt-2",children:e.jsxs("small",{children:[e.jsx("i",{className:"fas fa-check-circle me-2"}),e.jsx("strong",{children:" :"}),e.jsxs("ol",{className:"mb-0 mt-2",children:[e.jsx("li",{children:"     "}),e.jsx("li",{children:"   ()   "}),e.jsx("li",{children:"   "}),e.jsx("li",{children:"     "})]})]})}),e.jsx("div",{className:"alert alert-warning mt-2",children:e.jsxs("small",{children:[e.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),e.jsx("strong",{children:" :"}),"      Django Admin               ."]})}),e.jsx("div",{className:"alert alert-info mt-2",children:e.jsxs("small",{children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),e.jsx("strong",{children:" :"}),e.jsx("br",{})," : ",s==null?void 0:s.first_name," ",s==null?void 0:s.last_name," (ID: ",s==null?void 0:s.id,")",e.jsx("br",{}),"  : ",(G==null?void 0:G.length)||0,e.jsx("br",{})," : ",O?" ...":""]})}),!O&&!M&&e.jsx("div",{className:"mt-3",children:e.jsxs("button",{className:"btn btn-outline-primary btn-sm",onClick:async()=>{try{await Promise.all([B(),p()]),n.invalidateQueries("doctor-patients"),n.invalidateQueries("doctor-patient-appointments"),U.success("  ")}catch(T){console.error("Error refreshing data:",T),U.error("   ")}},children:[e.jsx("i",{className:"fas fa-refresh me-1"})," "]})}),!O&&!M&&e.jsxs("div",{className:"mt-3 p-3 bg-light rounded",children:[e.jsx("h6",{className:"text-muted",children:" :"}),e.jsxs("p",{className:"text-muted small mb-0",children:[e.jsx("strong",{children:":"})," ",s==null?void 0:s.first_name," ",s==null?void 0:s.last_name,e.jsx("br",{}),e.jsx("strong",{children:":"})," ",(s==null?void 0:s.role)==="doctor"?"":s==null?void 0:s.role,e.jsx("br",{}),e.jsx("strong",{children:":"})," ",((z=s==null?void 0:s.doctor_profile)==null?void 0:z.specialization)||" ",e.jsx("br",{}),e.jsx("strong",{children:" :"})," ",s==null?void 0:s.email]})]})]})]})]})})}),a&&l&&(()=>{const T=G.find(ae=>ae.id===l),X=((f==null?void 0:f.results)||f||[]).filter(ae=>ae.patient===l);return e.jsx("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)",position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1050},children:e.jsx("div",{className:"modal-dialog modal-xl",onClick:ae=>ae.stopPropagation(),children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h5",{className:"modal-title",children:[e.jsx("i",{className:"fas fa-user text-success me-2"})," "]}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>{console.log("Closing modal"),i(!1),o(null)}})]}),e.jsxs("div",{className:"modal-body",children:[e.jsx("div",{className:"alert alert-success",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h6",{className:"mb-1",children:[e.jsx("i",{className:"fas fa-user me-2"})," : ",T==null?void 0:T.first_name," ",T==null?void 0:T.last_name]}),e.jsxs("small",{children:[" : ",Je(T==null?void 0:T.last_appointment),"  ",Qt(T==null?void 0:T.last_appointment_time)]})]}),e.jsxs("span",{className:"badge bg-primary",children:[(T==null?void 0:T.total_appointments)||0," "]})]})}),e.jsxs("ul",{className:"nav nav-tabs mb-4",children:[e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:"nav-link active",onClick:()=>{},children:[e.jsx("i",{className:"fas fa-user me-2"})," "]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:"nav-link",onClick:()=>{},children:[e.jsx("i",{className:"fas fa-calendar-check me-2"})," "]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:"nav-link",onClick:()=>{},children:[e.jsx("i",{className:"fas fa-weight me-2"}),""]})})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-user text-primary me-2"}),"  "]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>{n.invalidateQueries(["patient-details",l]),U.success("  ")},children:[e.jsx("i",{className:"fas fa-refresh me-1"}),""]}),e.jsxs("button",{className:"btn btn-sm btn-danger",onClick:()=>{window.location.href=`/doctor/patient/${T==null?void 0:T.id}`},style:{backgroundColor:"#dc3545",borderColor:"#dc3545",color:"white",fontWeight:"bold"},children:[e.jsx("i",{className:"fas fa-edit me-1"}),""]})]})]}),e.jsx("div",{className:"card-body",children:N?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(je,{}),e.jsx("p",{className:"text-muted mt-2",children:"   ..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("small",{className:"text-muted",children:" :"}),e.jsxs("div",{className:"fw-bold",children:[T==null?void 0:T.first_name," ",T==null?void 0:T.last_name]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("small",{className:"text-muted",children:" :"}),e.jsx("div",{className:"fw-bold text-primary",children:(T==null?void 0:T.total_appointments)||0})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("small",{className:"text-muted",children:":"}),e.jsx("div",{children:(v==null?void 0:v.gender)==="male"?"":(v==null?void 0:v.gender)==="female"?"":" "})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("small",{className:"text-muted",children:":"}),e.jsx("div",{children:v!=null&&v.height?`${v.height} `:" "})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("small",{className:"text-muted",children:" :"}),e.jsx("div",{className:"fw-bold text-success",children:v!=null&&v.current_weight?`${v.current_weight} `:" "})]})]})]}),e.jsx("div",{className:"mt-3 pt-3 border-top",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("small",{className:"text-muted",children:":"}),e.jsx("div",{className:"fw-bold",children:(v==null?void 0:v.goal)==="lose_weight"?" ":(v==null?void 0:v.goal)==="gain_weight"?" ":(v==null?void 0:v.goal)==="maintain_weight"?"  ":(v==null?void 0:v.goal)==="build_muscle"?" ":(v==null?void 0:v.goal)==="improve_health"?"  ":" "})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("small",{className:"text-muted",children:" :"}),e.jsx("div",{children:(v==null?void 0:v.medical_conditions)||" "})]})]})})]})})]}),e.jsxs("div",{className:"card mt-4",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-calendar-check text-primary me-2"})," "]})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:""}),e.jsx("th",{children:""}),e.jsx("th",{children:""}),e.jsx("th",{children:""})]})}),e.jsx("tbody",{children:X.length>0?X.map(ae=>e.jsxs("tr",{children:[e.jsx("td",{children:Je(ae.scheduled_date)}),e.jsx("td",{children:Qt(ae.scheduled_time)}),e.jsx("td",{children:e.jsx("span",{className:`badge ${ae.status==="completed"?"bg-success":ae.status==="pending"?"bg-warning":ae.status==="cancelled"?"bg-danger":"bg-info"}`,children:ae.status==="completed"?"":ae.status==="pending"?" ":ae.status==="cancelled"?"":ae.status})}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-outline-primary",children:e.jsx("i",{className:"fas fa-eye"})})})]},ae.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"text-center text-muted",children:"  "})})})]})})})]}),e.jsxs("div",{className:"card mt-4",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-weight text-primary me-2"})," "]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"card bg-light",children:e.jsxs("div",{className:"card-body text-center",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[e.jsx("h5",{className:"text-primary",children:""}),e.jsx("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>ee({date:"15/01/2024",weight:"80",waist:"95",hip:"105",fatPercentage:"22"}),children:e.jsx("i",{className:"fas fa-edit"})})]}),e.jsx("div",{className:"display-6 text-success",children:"80"}),e.jsx("small",{className:"text-muted",children:""}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"badge bg-info",children:" : 15/01/2024"})})]})})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"card bg-light",children:e.jsxs("div",{className:"card-body text-center",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[e.jsx("h5",{className:"text-primary",children:"  "}),e.jsx("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>ee({date:"15/01/2024",weight:"80",waist:"95",hip:"105",fatPercentage:"22"}),children:e.jsx("i",{className:"fas fa-edit"})})]}),e.jsx("div",{className:"display-6 text-warning",children:"26.1"}),e.jsx("small",{className:"text-muted",children:"BMI"}),e.jsx("div",{className:"mt-2",children:e.jsx("span",{className:"badge bg-warning",children:" "})})]})})})]}),e.jsxs("div",{className:"row mt-3",children:[e.jsx("div",{className:"col-md-4",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body text-center",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[e.jsx("h6",{className:"text-primary",children:" "}),e.jsx("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>ee({date:"15/01/2024",weight:"80",waist:"95",hip:"105",fatPercentage:"22"}),children:e.jsx("i",{className:"fas fa-edit"})})]}),e.jsx("div",{className:"h4 text-success",children:"95"}),e.jsx("small",{className:"text-muted",children:""})]})})}),e.jsx("div",{className:"col-md-4",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body text-center",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[e.jsx("h6",{className:"text-primary",children:" "}),e.jsx("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>ee({date:"15/01/2024",weight:"80",waist:"95",hip:"105",fatPercentage:"22"}),children:e.jsx("i",{className:"fas fa-edit"})})]}),e.jsx("div",{className:"h4 text-info",children:"105"}),e.jsx("small",{className:"text-muted",children:""})]})})}),e.jsx("div",{className:"col-md-4",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body text-center",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-start mb-2",children:[e.jsx("h6",{className:"text-primary",children:" "}),e.jsx("button",{className:"btn btn-outline-primary btn-sm",onClick:()=>ee({date:"15/01/2024",weight:"80",waist:"95",hip:"105",fatPercentage:"22"}),children:e.jsx("i",{className:"fas fa-edit"})})]}),e.jsx("div",{className:"h4 text-warning",children:"22%"}),e.jsx("small",{className:"text-muted",children:" "})]})})})]})]})]})]}),e.jsx("div",{className:"modal-footer",children:e.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>{console.log("Closing modal from footer button"),i(!1),o(null)},children:""})})]})})})})(),u&&e.jsx("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)",position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:1060},children:e.jsx("div",{className:"modal-dialog modal-lg",onClick:T=>T.stopPropagation(),children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h5",{className:"modal-title",children:[e.jsx("i",{className:"fas fa-weight text-primary me-2"}),h?" ":"  "]}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>m(!1)})]}),e.jsxs("form",{onSubmit:F,children:[e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:" *"}),e.jsx("input",{type:"date",className:"form-control",name:"date",value:x.date,onChange:Q,required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:" () *"}),e.jsx("input",{type:"number",className:"form-control",name:"weight",value:x.weight,onChange:Q,step:"0.1",min:"0",required:!0})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"  ()"}),e.jsx("input",{type:"number",className:"form-control",name:"waist",value:x.waist,onChange:Q,step:"0.1",min:"0"})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"  ()"}),e.jsx("input",{type:"number",className:"form-control",name:"hip",value:x.hip,onChange:Q,step:"0.1",min:"0"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:"  (%)"}),e.jsx("input",{type:"number",className:"form-control",name:"fatPercentage",value:x.fatPercentage,onChange:Q,step:"0.1",min:"0",max:"100"})]})]})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"form-check",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",name:"autoUpdateProfile",id:"autoUpdateProfile",checked:x.autoUpdateProfile,onChange:Q}),e.jsxs("label",{className:"form-check-label",htmlFor:"autoUpdateProfile",children:[e.jsx("i",{className:"fas fa-sync-alt me-2 text-primary"}),"     "]}),e.jsx("small",{className:"form-text text-muted d-block",children:"           "})]})})})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>m(!1),children:""}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:h?"":""})]})]})]})})})]})},rb=({patientProfile:t,onNutritionCalculated:s})=>{const[n,a]=C.useState({bmr:0,tdee:0,targetCalories:0,protein:0,carbs:0,fat:0,fiber:0,water:0}),i=(g,x,b,_)=>{if(!g||!x||!b)return 0;let j;return _==="male"?j=10*g+6.25*x-5*b+5:j=10*g+6.25*x-5*b-161,Math.round(j)},l=(g,x)=>{const _={sedentary:1.2,light:1.375,moderate:1.55,active:1.725,very_active:1.9}[x]||1.55;return Math.round(g*_)},o=(g,x)=>Math.round(g-500),d=(g,x)=>{if(!g)return 0;const _={lose_weight:2.2,maintain_weight:1.6,gain_weight:1.8,build_muscle:2,improve_health:1.8}[x]||1.6;return Math.round(g*_)},c=(g,x)=>{if(!g)return 0;const _={lose_weight:.25,maintain_weight:.3,gain_weight:.35,build_muscle:.25,improve_health:.3}[x]||.3,j=g*_;return Math.round(j/9)},u=(g,x,b)=>{if(!g||!x||!b)return 0;const _=x*4,j=b*9,f=g-_-j;return Math.round(f/4)},m=g=>g?Math.round(g/1e3*14):0,h=g=>g?Math.round(g*35):0;return C.useEffect(()=>{var ee,F;if(!t)return;const{current_weight:g,height:x,goal:b,activity_level:_}=t,j=((ee=t.user)==null?void 0:ee.age)||30,f=t.gender||"male";let p=j;if((F=t.user)!=null&&F.date_of_birth){const Q=new Date(t.user.date_of_birth);p=new Date().getFullYear()-Q.getFullYear()}const v=i(g,x,p,f),N=l(v,_),y=o(N),w=d(g,b),k=c(y,b),O=u(y,w,k),M=m(y),B=h(g),G={bmr:v,tdee:N,targetCalories:y,protein:w,carbs:O,fat:k,fiber:M,water:B};a(G),s&&s(G)},[t]),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-calculator text-primary me-2"}),"  "]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-bold",children:"   (BMR)"}),e.jsxs("div",{className:"form-control-plaintext bg-light p-2 rounded",children:[n.bmr,"  /"]}),e.jsx("small",{className:"text-muted",children:"   "})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-bold",children:"   (TDEE)"}),e.jsxs("div",{className:"form-control-plaintext bg-light p-2 rounded",children:[n.tdee,"  /"]}),e.jsx("small",{className:"text-muted",children:"    "})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-bold text-success",children:" "}),e.jsxs("div",{className:"form-control-plaintext bg-success bg-opacity-10 p-2 rounded border border-success",children:[n.targetCalories,"  /"]}),e.jsx("small",{className:"text-muted",children:"  "})]})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-bold text-primary",children:""}),e.jsxs("div",{className:"form-control-plaintext bg-primary bg-opacity-10 p-2 rounded border border-primary",children:[n.protein," /"]}),e.jsx("small",{className:"text-muted",children:" "})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-bold text-warning",children:""}),e.jsxs("div",{className:"form-control-plaintext bg-warning bg-opacity-10 p-2 rounded border border-warning",children:[n.carbs," /"]}),e.jsx("small",{className:"text-muted",children:" "})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-bold text-danger",children:""}),e.jsxs("div",{className:"form-control-plaintext bg-danger bg-opacity-10 p-2 rounded border border-danger",children:[n.fat," /"]}),e.jsx("small",{className:"text-muted",children:" "})]})]})]}),e.jsxs("div",{className:"row mt-3",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-bold text-info",children:""}),e.jsxs("div",{className:"form-control-plaintext bg-info bg-opacity-10 p-2 rounded border border-info",children:[n.fiber," /"]}),e.jsx("small",{className:"text-muted",children:"  "})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label fw-bold text-info",children:""}),e.jsxs("div",{className:"form-control-plaintext bg-info bg-opacity-10 p-2 rounded border border-info",children:[n.water," /"]}),e.jsx("small",{className:"text-muted",children:"  "})]})})]}),e.jsxs("div",{className:"alert alert-info mt-3",children:[e.jsxs("h6",{className:"alert-heading",children:[e.jsx("i",{className:"fas fa-info-circle me-2"})," :"]}),e.jsxs("ul",{className:"mb-0",children:[e.jsx("li",{children:"      "}),e.jsx("li",{children:"       "}),e.jsx("li",{children:"      "}),e.jsx("li",{children:"    3-5  "})]})]})]})]})},ib=({patientProfile:t,nutritionData:s,onDietPlanSelected:n})=>{const[a,i]=C.useState(null),[l,o]=C.useState(null),[d,c]=C.useState(!1),[u,m]=C.useState(!1),[h,g]=C.useState(null),x={keto:{id:"keto",name:"  ",description:"        (  500  )",icon:"",color:"success",macroDistribution:{carbs:5,protein:20,fat:75},dailyMeals:{breakfast:["   (2 )"," ( )","  (2 )"," "],lunch:["    ","   (150 )","  ","  (30 )"],dinner:["   (200 )"," "," "," "],snacks:[" (15 )","   (30 )"," (10 )"]},allowedFoods:["  "," ","",""," "," "," ","  "],restrictedFoods:[" ","  ",""," "," "],benefits:["  ","  ","  "," "],considerations:["   2-4 ","    ","   ","  "]},balanced:{id:"balanced",name:" ",description:"        (  500  )",icon:"",color:"primary",macroDistribution:{carbs:50,protein:25,fat:25},dailyMeals:{breakfast:["   ()"," ( )"," (10 )"," ( )"],lunch:["  ()","  (150 )"," "," "],dinner:["  (150 )","  "," "," "],snacks:[" ()","   ()","   (30 )"]},allowedFoods:["   "," ","   "," ","   "," "],restrictedFoods:[" "," "," "," "],benefits:["  "," ","  ","  "],considerations:["  ","  "," ","   "]},integrated:{id:"integrated",name:"  ",description:"         (  500  )",icon:"",color:"info",macroDistribution:{carbs:45,protein:30,fat:25},dailyMeals:{breakfast:["   ()"," ( )"," (10 )"," ( )"],lunch:["  ()","  (150 )"," "," "],dinner:["  (150 )","  "," "," "],snacks:[" ()","   ()","   (30 )"]},allowedFoods:["   "," ","   "," ","   "," "],restrictedFoods:[" "," "," "," "],benefits:["   ","  "," "," "],considerations:["  ","  ","  "," "]},weightGain:{id:"weightGain",name:"  ",description:"        (  500  )",icon:"",color:"warning",macroDistribution:{carbs:45,protein:25,fat:30},dailyMeals:{breakfast:["  (3 )","  (2 )"," ( )","   ()"],lunch:["  ( )","  (200 )"," ","   "],dinner:["  ( )","  (200 )"," "," "],snacks:["  ()","    "," ","  "]},allowedFoods:["  ","  "," "," "," ","   "],restrictedFoods:["  "," ","  ","  "],benefits:["  "," ","  "," "],considerations:["   ","  ","  ","   "]},pregnancy:{id:"pregnancy",name:" ",description:"          (  500  )",icon:"",color:"info",macroDistribution:{carbs:50,protein:20,fat:30},dailyMeals:{breakfast:["   ()"," ()"," (10 )","  "],lunch:["  ()","  (150 )"," "," "],dinner:["  (150 )","  "," "," "],snacks:[" ()","   (30 )","   ()"," ()"]},allowedFoods:["   "," "," "," "," "," "],restrictedFoods:["  "," "," "," ",""],benefits:["  ","  "," ","  "],considerations:["  ","  ","  ","  "]},breastfeeding:{id:"breastfeeding",name:" ",description:"         (  500  )",icon:"",color:"info",macroDistribution:{carbs:50,protein:20,fat:30},dailyMeals:{breakfast:["   ( )"," ()"," (15 )"," ( )"],lunch:["  ( )","  (200 )"," "," "],dinner:["  (200 )","  "," "," "],snacks:[" ()","   (40 )","   ( )"," ( )"]},allowedFoods:["  "," "," "," "," "," "],restrictedFoods:[" ","  ","  ",""],benefits:["  "," ","  "," "],considerations:["  500-600 ","  ","   ","  "]},diabetes:{id:"diabetes",name:" ",description:"         (  500  )",icon:"",color:"danger",macroDistribution:{carbs:40,protein:30,fat:30},dailyMeals:{breakfast:["    "," ( )"," (10 )","  "],lunch:["  ( )","  (150 )"," "," "],dinner:["  (150 )"," "," "," "],snacks:[" ( )","   (30 )"," ( )"]},allowedFoods:["  ","   "," ","  "," ","   "],restrictedFoods:[" "," ","  "," "," "],benefits:["   ","  "," ","  "],considerations:["  "," ","  ","  "]},weightMaintenance:{id:"weightMaintenance",name:"  ",description:"         (  500  )",icon:"",color:"secondary",macroDistribution:{carbs:45,protein:25,fat:30},dailyMeals:{breakfast:["   ()"," ( )"," (10 )"," ( )"],lunch:["  ()","  (150 )"," "," "],dinner:["  (150 )","  "," "," "],snacks:[" ()","   (30 )","   ()"]},allowedFoods:["   "," ","   "," ","   "," "],restrictedFoods:["  "," "," "," "],benefits:["  "," ","  "," "],considerations:["  ","   "," ","   "]},high_protein:{id:"high_protein",name:"   ",description:"         (  500  )",icon:"",color:"primary",macroDistribution:{carbs:30,protein:40,fat:30},dailyMeals:{breakfast:["  (3 )","   (100 )","  ( )","   (30 )"],lunch:["   (150 )","  (100 )"," "," "],dinner:["   (120 )","  "," ","   (20 )"],snacks:["  (150 )"," (15 )"," ","   (30 )"]},allowedFoods:["   "," ","  "," "," "," "],restrictedFoods:["  "," "," "," "],benefits:[" "," ","  "," "],considerations:["  ","   ","  ","  "]}},b=j=>{if(!s||!j)return null;let f=h||s.targetCalories;const{macroDistribution:p}=j;r,f=Math.max(f-500,1200);const v=Math.round(f*p.carbs/100/4),N=Math.round(f*p.protein/100/4),y=Math.round(f*p.fat/100/9);return{carbs:v,protein:N,fat:y,calories:f,originalCalories:s.targetCalories,calorieReduction:500}};C.useEffect(()=>{g(null),i(null),o(null)},[s]),C.useEffect(()=>{if(a){const j=b(x[a]);o(j),n&&n({plan:x[a],customizedMacros:j})}},[a,s,h]);const _=j=>{if(c(!0),i(j),m(!1),s){let f=s.targetCalories;f=Math.max(f-500,1200),g(f)}setTimeout(()=>{c(!1)},300)};return e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-utensils text-primary me-2"}),"  "]}),e.jsx("p",{className:"text-muted mb-0",children:"    "})]}),e.jsxs("div",{className:"card-body",children:[!s&&e.jsxs("div",{className:"alert alert-warning mb-4",children:[e.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),e.jsx("strong",{children:":"}),"       .            ."]}),e.jsx("div",{className:"row mb-4",children:Object.values(x).map(j=>e.jsx("div",{className:"col-md-6 col-lg-4 mb-3",children:e.jsx("div",{className:`card h-100 cursor-pointer border-${a===j.id?j.color:"light"}`,onClick:()=>_(j.id),style:{cursor:"pointer",borderWidth:a===j.id?"2px":"1px"},children:e.jsxs("div",{className:"card-body text-center",children:[e.jsx("div",{className:"fs-1 mb-2",children:j.icon}),e.jsx("h6",{className:`text-${j.color} mb-2`,children:j.name}),e.jsx("p",{className:"text-muted small mb-3",children:j.description}),e.jsx("div",{className:"d-flex justify-content-center",children:e.jsxs("span",{className:`badge bg-${j.color} bg-opacity-10 text-${j.color}`,children:[j.macroDistribution.carbs,"% "]})})]})})},j.id))}),d&&e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"spinner-border text-primary",role:"status",children:e.jsx("span",{className:"visually-hidden",children:" ..."})}),e.jsx("p",{className:"text-muted mt-2",children:"    ..."})]}),a&&l&&!d&&e.jsx("div",{className:"border rounded p-4 bg-light",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("h6",{className:"text-primary mb-0",children:[x[a].icon," ",x[a].name]}),e.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>m(!u),children:u?" ":"  "})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("h6",{className:"text-success",children:"   :"}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"text-center p-2 bg-primary bg-opacity-10 rounded",children:[e.jsxs("div",{className:"fw-bold text-primary",children:[l.carbs," "]}),e.jsx("small",{className:"text-muted",children:""})]})}),e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"text-center p-2 bg-warning bg-opacity-10 rounded",children:[e.jsxs("div",{className:"fw-bold text-warning",children:[l.protein," "]}),e.jsx("small",{className:"text-muted",children:""})]})}),e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"text-center p-2 bg-danger bg-opacity-10 rounded",children:[e.jsxs("div",{className:"fw-bold text-danger",children:[l.fat," "]}),e.jsx("small",{className:"text-muted",children:""})]})})]}),e.jsxs("div",{className:"text-center mt-2",children:[e.jsxs("span",{className:"badge bg-success",children:[" : ",l.calories," "]}),l.calorieReduction>0&&e.jsx("div",{className:"mt-2",children:e.jsxs("small",{className:"text-success",children:[e.jsx("i",{className:"fas fa-arrow-down me-1"}),"  ",l.calorieReduction,"     (",l.originalCalories," )"]})})]})]}),u&&e.jsxs("div",{className:"mb-3",children:[e.jsx("h6",{className:"text-info",children:"  :"}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-6",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("strong",{className:"text-primary",children:":"}),e.jsx("ul",{className:"small mb-0",children:x[a].dailyMeals.breakfast.map((j,f)=>e.jsx("li",{children:j},f))})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("strong",{className:"text-success",children:":"}),e.jsx("ul",{className:"small mb-0",children:x[a].dailyMeals.lunch.map((j,f)=>e.jsx("li",{children:j},f))})]})]}),e.jsxs("div",{className:"col-6",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("strong",{className:"text-warning",children:":"}),e.jsx("ul",{className:"small mb-0",children:x[a].dailyMeals.dinner.map((j,f)=>e.jsx("li",{children:j},f))})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("strong",{className:"text-info",children:" :"}),e.jsx("ul",{className:"small mb-0",children:x[a].dailyMeals.snacks.map((j,f)=>e.jsx("li",{children:j},f))})]})]})]})]})]}),e.jsxs("div",{className:"col-md-6",children:[u&&e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-6",children:[e.jsx("h6",{className:"text-success",children:" :"}),e.jsx("ul",{className:"small",children:x[a].allowedFoods.map((j,f)=>e.jsx("li",{className:"text-success",children:j},f))})]}),e.jsxs("div",{className:"col-6",children:[e.jsx("h6",{className:"text-danger",children:" :"}),e.jsx("ul",{className:"small",children:x[a].restrictedFoods.map((j,f)=>e.jsx("li",{className:"text-danger",children:j},f))})]})]}),u&&e.jsxs("div",{className:"row mt-3",children:[e.jsxs("div",{className:"col-6",children:[e.jsx("h6",{className:"text-primary",children:":"}),e.jsx("ul",{className:"small",children:x[a].benefits.map((j,f)=>e.jsx("li",{className:"text-primary",children:j},f))})]}),e.jsxs("div",{className:"col-6",children:[e.jsx("h6",{className:"text-warning",children:" :"}),e.jsx("ul",{className:"small",children:x[a].considerations.map((j,f)=>e.jsx("li",{className:"text-warning",children:j},f))})]})]})]})]})})]})]})},lb=({patientId:t})=>{const[s,n]=C.useState(new Date().toISOString().split("T")[0]),{data:a,isLoading:i,error:l}=ge(["patient-meal-selections",t,s],()=>te.get(`/api/meals/patients/${t}/selected-meals/?date=${s}`).then(c=>(console.log("Patient meal selections API response:",c.data),c.data)),{enabled:!!t,refetchInterval:3e4}),o=c=>new Date(c).toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric",weekday:"long"}),d=c=>({breakfast:"",lunch:"",dinner:"",snack:" "})[c]||c;return i?e.jsx(je,{}):l?e.jsxs("div",{className:"alert alert-danger",children:[e.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),"    "]}):e.jsxs("div",{className:"patient-meal-selections",children:[e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header bg-primary text-white",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-shopping-cart me-2"}),"  "]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:" :"}),e.jsx("input",{type:"date",className:"form-control",value:s,onChange:c=>n(c.target.value)})]}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"d-flex align-items-end h-100",children:e.jsx("div",{className:"alert alert-info mb-0 w-100",children:e.jsxs("small",{children:[e.jsx("i",{className:"fas fa-info-circle me-1"})," : ",new Date().toLocaleTimeString("ar-SA")]})})})})]})})]})})}),e.jsx("div",{className:"row mb-3",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"alert alert-info",children:[e.jsxs("h6",{className:"mb-2",children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),"  -  "]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:" :"})," ",t]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:" :"})," ",s]}),e.jsxs("p",{className:"mb-1",children:[e.jsx("strong",{children:" :"})," ",a?a.length:" "]}),e.jsxs("p",{className:"mb-0",children:[e.jsx("strong",{children:" :"})," ",i?" ...":""]})]})})}),a&&a.length>0?e.jsx("div",{className:"row",children:a.map((c,u)=>e.jsx("div",{className:"col-md-6 col-lg-4 mb-4",children:e.jsxs("div",{className:"card h-100 border-success",children:[e.jsx("div",{className:"card-header bg-success text-white",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-utensils me-2"}),e.jsxs("div",{children:[e.jsx("h6",{className:"mb-0",children:d(c.meal_type)}),e.jsx("small",{children:o(c.selected_at)})]})]})}),e.jsxs("div",{className:"card-body",children:[e.jsx("h5",{className:"card-title text-primary",children:c.meal_name}),e.jsxs("p",{className:"card-text text-muted small",children:[" : ",new Date(c.selected_at).toLocaleTimeString("ar-SA")]}),c.ingredients&&c.ingredients.length>0&&e.jsxs("div",{className:"ingredients-section mb-3",children:[e.jsxs("h6",{className:"text-primary mb-2",children:[e.jsx("i",{className:"fas fa-shopping-basket me-1"}),":"]}),e.jsx("div",{className:"ingredients-list",children:c.ingredients.map((m,h)=>{var g,x;return e.jsxs("div",{className:"ingredient-item d-flex justify-content-between align-items-center mb-1 p-2 bg-light rounded",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("i",{className:"fas fa-circle text-success me-2",style:{fontSize:"0.5rem"}}),e.jsx("span",{className:"fw-bold",children:m.food_name_ar||m.food_name||((g=m.food)==null?void 0:g.name_ar)||((x=m.food)==null?void 0:x.name)||m.name||"  "})]}),e.jsxs("div",{className:"text-muted",children:[e.jsxs("span",{className:"badge bg-primary",children:[m.amount||m.quantity||0,"g"]}),e.jsxs("small",{className:"text-info ms-1",children:[": ",Math.round(m.calories||m.calories_per_100g||0)," | : ",Math.round(m.protein||m.protein_per_100g||0),"g"]}),m.notes&&e.jsxs("small",{className:"text-info ms-1",children:["- ",m.notes]})]})]},h)})})]}),c.nutrition_info&&e.jsxs("div",{className:"nutrition-summary",children:[e.jsxs("h6",{className:"text-success mb-2",children:[e.jsx("i",{className:"fas fa-chart-pie me-1"})," :"]}),e.jsxs("div",{className:"row text-center",children:[e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"p-2 bg-primary text-white rounded",children:[e.jsx("div",{className:"fw-bold",children:c.nutrition_info.calories||0}),e.jsx("small",{children:""})]})}),e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"p-2 bg-success text-white rounded",children:[e.jsxs("div",{className:"fw-bold",children:[c.nutrition_info.protein||0,"g"]}),e.jsx("small",{children:""})]})}),e.jsx("div",{className:"col-4",children:e.jsxs("div",{className:"p-2 bg-info text-white rounded",children:[e.jsxs("div",{className:"fw-bold",children:[c.nutrition_info.carbs||0,"g"]}),e.jsx("small",{children:""})]})})]})]})]}),e.jsx("div",{className:"card-footer",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-clock me-1"}),new Date(c.selected_at).toLocaleTimeString("ar-SA")]}),e.jsxs("span",{className:"badge bg-success",children:[e.jsx("i",{className:"fas fa-check me-1"}),""]})]})})]})},u))}):e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{className:"fas fa-shopping-cart text-muted",style:{fontSize:"4rem"}}),e.jsx("h5",{className:"text-muted mt-3",children:"   "}),e.jsx("p",{className:"text-muted",children:"      "})]})})}),a&&a.length>0&&e.jsx("div",{className:"row mt-4",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"card border-info",children:[e.jsx("div",{className:"card-header bg-info text-white",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-chart-bar me-2"})," "]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row text-center",children:[e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:"fw-bold text-primary fs-4",children:a.length}),e.jsx("small",{className:"text-muted",children:"  "})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:"fw-bold text-success fs-4",children:a.filter(c=>c.meal_type==="breakfast").length}),e.jsx("small",{className:"text-muted",children:" "})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:"fw-bold text-info fs-4",children:a.filter(c=>c.meal_type==="lunch").length}),e.jsx("small",{className:"text-muted",children:" "})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"p-3",children:[e.jsx("div",{className:"fw-bold text-warning fs-4",children:a.filter(c=>c.meal_type==="dinner").length}),e.jsx("small",{className:"text-muted",children:" "})]})})]})})]})})})]})},ob=()=>{var Ee,It,$s,mt,zs,hs,E,q,$,J,se;const{t}=$e(),{user:s}=Qe(),{patientId:n}=Jg(),a=es(),[i,l]=C.useState("profile"),[o,d]=C.useState(!1),[c,u]=C.useState(null),[m,h]=C.useState(null),[g,x]=C.useState(null),[b,_]=C.useState({gender:"",height:"",current_weight:"",target_weight:"",activity_level:"",goal:"",medical_conditions:"",dietary_restrictions:"",medications:""}),[j,f]=C.useState({weight:"",body_fat_percentage:"",muscle_mass:"",waist_circumference:"",hip_circumference:"",chest_circumference:"",arm_circumference:"",blood_pressure_systolic:"",blood_pressure_diastolic:"",blood_sugar:"",activity_level:"",notes:"",auto_update_profile:!0}),[p,v]=C.useState(null),{data:N,isLoading:y}=ge(["patient-profile",n],()=>te.get(`/api/auth/doctor-patient-profile/?patient_id=${n}`).then(P=>P.data),{enabled:!!n});C.useEffect(()=>{N&&_({gender:N.gender||"",height:N.height||"",current_weight:N.current_weight||"",target_weight:N.target_weight||"",activity_level:N.activity_level||"",goal:N.goal||"",medical_conditions:N.medical_conditions||"",dietary_restrictions:N.dietary_restrictions||"",medications:N.medications||""})},[N]);const{data:w,isLoading:k}=ge(["patient-measurements",n],()=>te.get(`/api/auth/measurements/?patient_id=${n}`).then(P=>P.data.results),{enabled:!!n}),{data:O,isLoading:M}=ge(["medical-documents",n],()=>te.get(`/api/auth/medical-documents/?patient_id=${n}`).then(P=>P.data.results),{enabled:!!n}),B=ot(P=>te.put(`/api/auth/doctor-patient-profile/?patient_id=${n}`,P),{onSuccess:()=>{U.success("    "),a.invalidateQueries(["patient-profile",n]),d(!1)},onError:P=>{U.error("    "),console.error("Update profile error:",P)}}),G=ot(P=>(console.log("API call data:",{...P,patient_id:n}),console.log("User token:",localStorage.getItem("token")),console.log("User info:",s),te.post("/api/auth/measurements/",{...P,patient_id:parseInt(n)})),{onSuccess:(P,V)=>{if(U.success("   "),a.invalidateQueries(["patient-measurements",n]),a.invalidateQueries(["patient-profile",n]),V.weight&&N){const ce={...N,current_weight:parseFloat(V.weight)};V.activity_level&&(ce.activity_level=V.activity_level),a.setQueryData(["patient-profile",n],ce),_(_e=>({..._e,current_weight:parseFloat(V.weight),activity_level:V.activity_level||_e.activity_level}));const ve=D(V);ve&&h(ve)}f({weight:"",body_fat_percentage:"",muscle_mass:"",waist_circumference:"",hip_circumference:"",chest_circumference:"",arm_circumference:"",blood_pressure_systolic:"",blood_pressure_diastolic:"",blood_sugar:"",activity_level:"",notes:""}),h(null)},onError:P=>{var V,ce,ve,_e,ze,Pt,et;console.error("Measurement error:",P),console.error("Error response:",P.response),console.error("Error message:",P.message),console.error("Error status:",(V=P.response)==null?void 0:V.status),console.error("Error data:",(ce=P.response)==null?void 0:ce.data),((ve=P.response)==null?void 0:ve.status)===400?U.error("  : "+(((_e=P.response.data)==null?void 0:_e.detail)||"   ")):((ze=P.response)==null?void 0:ze.status)===401?U.error("    "):((Pt=P.response)==null?void 0:Pt.status)===500?U.error("  : "+(((et=P.response.data)==null?void 0:et.detail)||"   ")):U.error("   : "+(P.message||"  "))}}),ee=P=>{if(P.preventDefault(),!j.weight||j.weight===""){U.error(" ");return}if(!n||isNaN(parseInt(n))){U.error("   ");return}const V={...j};Object.keys(V).forEach(ce=>{V[ce]===""?delete V[ce]:["weight","body_fat_percentage","muscle_mass","waist_circumference","hip_circumference","chest_circumference","arm_circumference","blood_pressure_systolic","blood_pressure_diastolic","blood_sugar"].includes(ce)&&(V[ce]=parseFloat(V[ce]),isNaN(V[ce])&&delete V[ce])}),console.log("Submitting measurement data:",V),console.log("Patient ID:",n),console.log("Final data to send:",{...V,patient_id:n}),console.log("Data types:",{weight:typeof V.weight,patient_id:typeof n,weight_value:V.weight}),G.mutate(V)},F=(P,V,ce)=>{if(!P||!V||!ce)return null;const ve=V/2.54;let _e;ce==="male"?_e=50+2.3*(ve-60):_e=45.5+2.3*(ve-60);const ze=_e+.4*(P-_e);return Math.round(ze*10)/10},Q=P=>{const V={...j,[P.target.name]:P.target.value};if(f(V),P.target.name==="weight"||P.target.name==="activity_level"){const ce=D(V);h(ce)}if(P.target.name==="weight"&&N){const ce=F(parseFloat(P.target.value),N.height,N.gender);v(ce)}},R=P=>{_({...b,[P.target.name]:P.target.value})},I=P=>{P.preventDefault();const V={...b};V.height=parseFloat(V.height)||0,V.current_weight=parseFloat(V.current_weight)||0,V.target_weight=V.target_weight?parseFloat(V.target_weight):null,B.mutate(V)},le=()=>{d(!1),N&&_({gender:N.gender||"",height:N.height||"",current_weight:N.current_weight||"",target_weight:N.target_weight||"",activity_level:N.activity_level||"",goal:N.goal||"",medical_conditions:N.medical_conditions||"",dietary_restrictions:N.dietary_restrictions||"",medications:N.medications||""})},z=C.useCallback(P=>{u(P),console.log("Nutrition data calculated:",P)},[]),T=C.useCallback(P=>{x(P),console.log("Diet plan selected:",P),U.success(`  ${P.plan.name} `)},[]),W=P=>{var Xn,Qs;if(!P)return null;const{current_weight:V,height:ce,goal:ve,activity_level:_e,gender:ze}=P;let et=((Xn=P.user)==null?void 0:Xn.age)||30;if((Qs=P.user)!=null&&Qs.date_of_birth){const fs=new Date(P.user.date_of_birth);et=new Date().getFullYear()-fs.getFullYear()}let it;ze==="male"?it=10*V+6.25*ce-5*et+5:it=10*V+6.25*ce-5*et-161,it=Math.round(it);const Gn={sedentary:1.2,light:1.375,moderate:1.55,active:1.725,very_active:1.9}[_e]||1.55,Us=Math.round(it*Gn),S=Math.round(Us),ie={lose_weight:2.2,maintain_weight:1.6,gain_weight:1.8,build_muscle:2,improve_health:1.8}[ve]||1.6,de=Math.round(V*ie),Z={lose_weight:.25,maintain_weight:.3,gain_weight:.35,build_muscle:.25,improve_health:.3}[ve]||.3,fe=S*Z,ye=Math.round(fe/9),Pe=de*4,yt=ye*9,Rt=S-Pe-yt,Bs=Math.round(Rt/4),Yn=Math.round(S/1e3*14),Jn=Math.round(V*35);return{bmr:it,tdee:Us,targetCalories:S,protein:de,carbs:Bs,fat:ye,fiber:Yn,water:Jn}};C.useEffect(()=>{if(N&&!c){const P=W(N);u(P)}},[N,c]),C.useEffect(()=>{if(i==="diet-plans"&&N){const P=W(N);u(P)}},[i,N]);const X=P=>{if(!P)return null;const V=new Date(P),ce=new Date;let ve=ce.getFullYear()-V.getFullYear();const _e=ce.getMonth()-V.getMonth();return(_e<0||_e===0&&ce.getDate()<V.getDate())&&ve--,ve},ae=(P,V)=>{if(!P)return null;let ce;return V==="male"?ce=50+2.3*(P/2.54-60):ce=45.5+2.3*(P/2.54-60),Math.round(ce*10)/10},D=P=>{var Qs,fs;if(!N||!P.weight)return null;const{weight:V,activity_level:ce}=P,{height:ve,goal:_e,gender:ze}=N;let et=((Qs=N.user)==null?void 0:Qs.age)||30;if((fs=N.user)!=null&&fs.date_of_birth){const Ki=new Date(N.user.date_of_birth);et=new Date().getFullYear()-Ki.getFullYear()}const it=ce||N.activity_level||"moderate";let Ke;ze==="male"?Ke=10*V+6.25*ve-5*et+5:Ke=10*V+6.25*ve-5*et-161,Ke=Math.round(Ke);const Us={sedentary:1.2,light:1.375,moderate:1.55,active:1.725,very_active:1.9}[it]||1.55,S=Math.round(Ke*Us),L=Math.round(S),de={lose_weight:2.2,maintain_weight:1.6,gain_weight:1.8,build_muscle:2,improve_health:1.8}[_e]||1.6,oe=Math.round(V*de),fe={lose_weight:.25,maintain_weight:.3,gain_weight:.35,build_muscle:.25,improve_health:.3}[_e]||.3,ye=L*fe,Pe=Math.round(ye/9),yt=oe*4,Rt=Pe*9,Bs=L-yt-Rt,Yn=Math.round(Bs/4),Jn=Math.round(L/1e3*14),Xn=Math.round(V*35);return{bmr:Ke,tdee:S,targetCalories:L,protein:oe,carbs:Yn,fat:Pe,fiber:Jn,water:Xn,weight:V,activityLevel:it}},Y=P=>{if(!P)return"--";try{const V=new Date(P),ce=V.getDate().toString().padStart(2,"0"),ve=(V.getMonth()+1).toString().padStart(2,"0"),_e=V.getFullYear();return`${ce}/${ve}/${_e}`}catch{return P||"--"}},K=(P,V)=>{if(!P||!V)return null;const ce=V/100;return(P/(ce*ce)).toFixed(1)},re=P=>P?P<18.5?{text:"  ",class:"text-info"}:P<25?{text:" ",class:"text-success"}:P<30?{text:"  ",class:"text-warning"}:{text:"",class:"text-danger"}:{text:"--",class:"text-muted"},me=(P,V,ce,ve,_e)=>{if(!P||!V||!ce||!ve)return null;const ze=30;let Pt;ce==="male"?Pt=10*P+6.25*V-5*ze+5:Pt=10*P+6.25*V-5*ze-161;const it={sedentary:1.2,light:1.375,moderate:1.55,active:1.725,very_active:1.9}[ve]||1.55;let Ke=Pt*it;return _e==="lose_weight"?Ke=Ke-500:_e==="gain_weight"?Ke=Ke+500:_e==="build_muscle"&&(Ke=Ke+300),Math.round(Ke)};return y||k||M?e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:e.jsx(je,{size:"lg"})}):e.jsxs("div",{className:"fade-in",children:[e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"d-flex justify-content-between align-items-center",children:e.jsxs("div",{children:[e.jsxs("h2",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-user text-primary me-2"}),"  - ",(Ee=N==null?void 0:N.user)==null?void 0:Ee.first_name," ",(It=N==null?void 0:N.user)==null?void 0:It.last_name]}),e.jsx("p",{className:"text-muted",children:"     "})]})})})}),e.jsxs("ul",{className:"nav nav-tabs mb-4",children:[e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:`nav-link ${i==="profile"?"active":""}`,onClick:()=>l("profile"),children:[e.jsx("i",{className:"fas fa-user me-2"}),"  "]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:`nav-link ${i==="measurements"?"active":""}`,onClick:()=>l("measurements"),children:[e.jsx("i",{className:"fas fa-weight me-2"})," "]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:`nav-link ${i==="documents"?"active":""}`,onClick:()=>l("documents"),children:[e.jsx("i",{className:"fas fa-file-medical me-2"})," "]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:`nav-link ${i==="nutrition"?"active":""}`,onClick:()=>l("nutrition"),children:[e.jsx("i",{className:"fas fa-calculator me-2"})," "]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:`nav-link ${i==="diet-plans"?"active":""}`,onClick:()=>l("diet-plans"),children:[e.jsx("i",{className:"fas fa-utensils me-2"})," "]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:`nav-link ${i==="meal-selections"?"active":""}`,onClick:()=>l("meal-selections"),children:[e.jsx("i",{className:"fas fa-shopping-cart me-2"})," "]})})]}),i==="profile"&&e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6 mb-4",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-header d-flex justify-content-between align-items-center",children:[e.jsx("h5",{className:"mb-0",children:" "}),e.jsxs("button",{className:"btn btn-sm btn-danger",onClick:()=>d(!0),style:{backgroundColor:"#dc3545",borderColor:"#dc3545",color:"white",fontWeight:"bold",display:o?"none":"block"},children:[e.jsx("i",{className:"fas fa-edit me-1"}),""]})]}),e.jsx("div",{className:"card-body",children:N?o?e.jsxs("form",{onSubmit:I,children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-6 mb-3",children:[e.jsx("small",{className:"text-muted",children:" :"}),e.jsxs("div",{className:"fw-bold",children:[($s=N.user)==null?void 0:$s.first_name," ",(mt=N.user)==null?void 0:mt.last_name]})]}),e.jsxs("div",{className:"col-6 mb-3",children:[e.jsx("small",{className:"text-muted",children:":"}),e.jsxs("div",{className:"fw-bold text-primary",children:[X((zs=N.user)==null?void 0:zs.date_of_birth)||" "," "]})]}),e.jsxs("div",{className:"col-6 mb-3",children:[e.jsx("small",{className:"text-muted",children:" :"}),e.jsx("div",{className:"fw-bold text-info",children:((hs=N.user)==null?void 0:hs.phone)||" "})]}),e.jsxs("div",{className:"col-6 mb-3",children:[e.jsx("label",{className:"form-label",children:""}),e.jsxs("select",{name:"gender",className:"form-control",value:b.gender,onChange:R,children:[e.jsx("option",{value:"",children:" "}),e.jsx("option",{value:"male",children:""}),e.jsx("option",{value:"female",children:""})]})]}),e.jsxs("div",{className:"col-6 mb-3",children:[e.jsx("label",{className:"form-label",children:" ()"}),e.jsx("input",{type:"number",name:"height",className:"form-control",value:b.height,onChange:R,min:"100",max:"250"})]}),e.jsxs("div",{className:"col-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"  ()"}),e.jsx("input",{type:"number",step:"0.1",name:"current_weight",className:"form-control",value:b.current_weight,onChange:R,min:"20",max:"300"})]}),e.jsxs("div",{className:"col-6 mb-3",children:[e.jsx("small",{className:"text-muted",children:" :"}),e.jsxs("div",{className:"fw-bold text-success",children:[ae(b.height,b.gender)||"--"," "]}),e.jsx("small",{className:"text-muted",children:"   "})]}),e.jsxs("div",{className:"col-6 mb-3",children:[e.jsx("label",{className:"form-label",children:""}),e.jsxs("select",{name:"goal",className:"form-control",value:b.goal,onChange:R,children:[e.jsx("option",{value:"",children:" "}),e.jsx("option",{value:"lose_weight",children:" "}),e.jsx("option",{value:"gain_weight",children:" "}),e.jsx("option",{value:"maintain_weight",children:" "}),e.jsx("option",{value:"build_muscle",children:" "}),e.jsx("option",{value:"improve_health",children:" "})]})]}),e.jsxs("div",{className:"col-6 mb-3",children:[e.jsx("label",{className:"form-label",children:" "}),e.jsxs("select",{name:"activity_level",className:"form-control",value:b.activity_level,onChange:R,children:[e.jsx("option",{value:"",children:"  "}),e.jsx("option",{value:"sedentary",children:" "}),e.jsx("option",{value:"light",children:" "}),e.jsx("option",{value:"moderate",children:" "}),e.jsx("option",{value:"active",children:" "}),e.jsx("option",{value:"very_active",children:"  "})]})]}),e.jsxs("div",{className:"col-6 mb-3",children:[e.jsx("small",{className:"text-muted",children:"  :"}),e.jsxs("div",{className:"fw-bold text-warning",children:[me(b.current_weight,b.height,b.gender,b.activity_level,b.goal)||"--","  "]}),e.jsx("small",{className:"text-muted",children:"     "})]})]}),e.jsxs("div",{className:"d-flex justify-content-end gap-2 mt-3",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:le,children:""}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:B.isLoading,children:B.isLoading?" ...":" "})]})]}):e.jsx("div",{children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-6 mb-3",children:[e.jsx("small",{className:"text-muted",children:" :"}),e.jsxs("div",{className:"fw-bold",children:[(E=N.user)==null?void 0:E.first_name," ",(q=N.user)==null?void 0:q.last_name]})]}),e.jsxs("div",{className:"col-6 mb-3",children:[e.jsx("small",{className:"text-muted",children:":"}),e.jsxs("div",{className:"fw-bold text-primary",children:[X(($=N.user)==null?void 0:$.date_of_birth)||" "," "]})]}),e.jsxs("div",{className:"col-6 mb-3",children:[e.jsx("small",{className:"text-muted",children:" :"}),e.jsx("div",{className:"fw-bold text-info",children:((J=N.user)==null?void 0:J.phone)||" "})]}),e.jsxs("div",{className:"col-6 mb-3",children:[e.jsx("small",{className:"text-muted",children:":"}),e.jsx("div",{children:N.gender==="male"?"":""})]}),e.jsxs("div",{className:"col-6 mb-3",children:[e.jsx("small",{className:"text-muted",children:":"}),e.jsxs("div",{children:[N.height," "]})]}),e.jsxs("div",{className:"col-6 mb-3",children:[e.jsx("small",{className:"text-muted",children:" :"}),e.jsxs("div",{className:"fw-bold",children:[N.current_weight," "]})]}),e.jsxs("div",{className:"col-6 mb-3",children:[e.jsx("small",{className:"text-muted",children:" :"}),e.jsxs("div",{className:"fw-bold text-success",children:[ae(N.height,N.gender)||"--"," "]})]}),e.jsxs("div",{className:"col-6 mb-3",children:[e.jsx("small",{className:"text-muted",children:"  :"}),e.jsx("div",{children:(()=>{const P=K(N.current_weight,N.height),V=re(P);return e.jsxs("span",{className:V.class,children:[P," - ",V.text]})})()})]}),e.jsxs("div",{className:"col-6 mb-3",children:[e.jsx("small",{className:"text-muted",children:" :"}),e.jsxs("div",{children:[N.activity_level==="sedentary"&&" ",N.activity_level==="light"&&" ",N.activity_level==="moderate"&&" ",N.activity_level==="active"&&"",N.activity_level==="very_active"&&" "]})]}),e.jsxs("div",{className:"col-6 mb-3",children:[e.jsx("small",{className:"text-muted",children:"  :"}),e.jsxs("div",{className:"fw-bold text-warning",children:[me(N.current_weight,N.height,N.gender,N.activity_level,N.goal)||"--","  "]})]})]})}):e.jsx("p",{className:"text-muted",children:"    "})})]})}),e.jsx("div",{className:"col-md-6 mb-4",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h5",{className:"mb-0",children:" "})}),e.jsx("div",{className:"card-body",children:N?o?e.jsxs("div",{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:" "}),e.jsx("textarea",{name:"medical_conditions",className:"form-control",rows:"3",value:b.medical_conditions,onChange:R,placeholder:"     ..."})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:" "}),e.jsx("textarea",{name:"dietary_restrictions",className:"form-control",rows:"3",value:b.dietary_restrictions,onChange:R,placeholder:"      ..."})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"form-label",children:" "}),e.jsx("textarea",{name:"medications",className:"form-control",rows:"3",value:b.medications,onChange:R,placeholder:"     ..."})]}),e.jsx("div",{className:"row"})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("small",{className:"text-muted",children:":"}),e.jsxs("div",{className:"fw-bold",children:[N.goal==="lose_weight"&&" ",N.goal==="gain_weight"&&" ",N.goal==="maintain_weight"&&" ",N.goal==="build_muscle"&&" ",N.goal==="improve_health"&&" "]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("small",{className:"text-muted",children:" :"}),e.jsx("div",{children:N.medical_conditions||" "})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("small",{className:"text-muted",children:" :"}),e.jsx("div",{children:N.dietary_restrictions||" "})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("small",{className:"text-muted",children:" :"}),e.jsx("div",{children:N.medications||" "})]})]}):e.jsx("p",{className:"text-muted",children:"    "})})]})})]}),i==="measurements"&&e.jsxs("div",{children:[e.jsxs("div",{className:"card mb-4",children:[e.jsx("div",{className:"card-header",children:e.jsx("h5",{className:"mb-0",children:"   "})}),e.jsx("div",{className:"card-body",children:e.jsxs("form",{onSubmit:ee,children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-3 mb-3",children:[e.jsx("label",{className:"form-label",children:" () *"}),e.jsx("input",{type:"number",step:"0.1",name:"weight",className:"form-control",value:j.weight,onChange:Q,required:!0})]}),e.jsxs("div",{className:"col-md-3 mb-3",children:[e.jsx("label",{className:"form-label",children:"  ()"}),e.jsx("input",{type:"number",step:"0.1",className:"form-control",value:p||"",readOnly:!0,placeholder:"  "}),e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-calculator me-1"}),"ABW = IBW + 0.4  (  - IBW)"]})]}),e.jsxs("div",{className:"col-md-3 mb-3",children:[e.jsx("label",{className:"form-label",children:"  (%)"}),e.jsx("input",{type:"number",step:"0.1",name:"body_fat_percentage",className:"form-control",value:j.body_fat_percentage,onChange:Q})]}),e.jsxs("div",{className:"col-md-3 mb-3",children:[e.jsx("label",{className:"form-label",children:"  ()"}),e.jsx("input",{type:"number",step:"0.1",name:"muscle_mass",className:"form-control",value:j.muscle_mass,onChange:Q})]}),e.jsxs("div",{className:"col-md-3 mb-3",children:[e.jsx("label",{className:"form-label",children:"  ()"}),e.jsx("input",{type:"number",step:"0.1",name:"waist_circumference",className:"form-control",value:j.waist_circumference,onChange:Q})]}),e.jsxs("div",{className:"col-md-3 mb-3",children:[e.jsx("label",{className:"form-label",children:"  ()"}),e.jsx("input",{type:"number",step:"0.1",name:"hip_circumference",className:"form-control",value:j.hip_circumference,onChange:Q})]}),e.jsxs("div",{className:"col-md-3 mb-3",children:[e.jsx("label",{className:"form-label",children:"  ()"}),e.jsx("input",{type:"number",step:"0.1",name:"chest_circumference",className:"form-control",value:j.chest_circumference,onChange:Q})]}),e.jsxs("div",{className:"col-md-3 mb-3",children:[e.jsx("label",{className:"form-label",children:"  ()"}),e.jsx("input",{type:"number",step:"0.1",name:"arm_circumference",className:"form-control",value:j.arm_circumference,onChange:Q})]}),e.jsxs("div",{className:"col-md-3 mb-3",children:[e.jsx("label",{className:"form-label",children:"  ()"}),e.jsx("input",{type:"number",name:"blood_pressure_systolic",className:"form-control",value:j.blood_pressure_systolic,onChange:Q})]}),e.jsxs("div",{className:"col-md-3 mb-3",children:[e.jsx("label",{className:"form-label",children:"  ()"}),e.jsx("input",{type:"number",name:"blood_pressure_diastolic",className:"form-control",value:j.blood_pressure_diastolic,onChange:Q})]}),e.jsxs("div",{className:"col-md-3 mb-3",children:[e.jsx("label",{className:"form-label",children:" "}),e.jsx("input",{type:"number",step:"0.1",name:"blood_sugar",className:"form-control",value:j.blood_sugar,onChange:Q})]}),e.jsxs("div",{className:"col-md-3 mb-3",children:[e.jsx("label",{className:"form-label",children:"  "}),e.jsxs("select",{name:"activity_level",className:"form-control",value:j.activity_level,onChange:Q,children:[e.jsx("option",{value:"",children:"  "}),e.jsx("option",{value:"sedentary",children:" "}),e.jsx("option",{value:"light",children:" "}),e.jsx("option",{value:"moderate",children:" "}),e.jsx("option",{value:"active",children:" "}),e.jsx("option",{value:"very_active",children:"  "})]})]}),e.jsxs("div",{className:"col-12 mb-3",children:[e.jsx("label",{className:"form-label",children:" "}),e.jsx("textarea",{name:"notes",className:"form-control",rows:"3",value:j.notes,onChange:Q,placeholder:"   ..."})]})]}),m&&e.jsxs("div",{className:"mt-4 p-3 bg-light rounded border",children:[e.jsxs("h6",{className:"text-primary mb-3",children:[e.jsx("i",{className:"fas fa-calculator me-2"}),"      "]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-3 mb-2",children:[e.jsx("small",{className:"text-muted",children:" :"}),e.jsxs("div",{className:"fw-bold text-success",children:[m.weight," "]})]}),e.jsxs("div",{className:"col-md-3 mb-2",children:[e.jsx("small",{className:"text-muted",children:" :"}),e.jsxs("div",{className:"fw-bold text-info",children:[m.activityLevel==="sedentary"&&" ",m.activityLevel==="light"&&" ",m.activityLevel==="moderate"&&" ",m.activityLevel==="active"&&" ",m.activityLevel==="very_active"&&"  "]})]}),e.jsxs("div",{className:"col-md-3 mb-2",children:[e.jsx("small",{className:"text-muted",children:" :"}),e.jsxs("div",{className:"fw-bold text-primary",children:[m.targetCalories," /"]})]}),e.jsxs("div",{className:"col-md-3 mb-2",children:[e.jsx("small",{className:"text-muted",children:":"}),e.jsxs("div",{className:"fw-bold text-warning",children:[m.protein," /"]})]})]}),e.jsxs("div",{className:"row mt-2",children:[e.jsxs("div",{className:"col-md-3 mb-2",children:[e.jsx("small",{className:"text-muted",children:":"}),e.jsxs("div",{className:"fw-bold text-info",children:[m.carbs," /"]})]}),e.jsxs("div",{className:"col-md-3 mb-2",children:[e.jsx("small",{className:"text-muted",children:":"}),e.jsxs("div",{className:"fw-bold text-danger",children:[m.fat," /"]})]}),e.jsxs("div",{className:"col-md-3 mb-2",children:[e.jsx("small",{className:"text-muted",children:":"}),e.jsxs("div",{className:"fw-bold text-secondary",children:[m.fiber," /"]})]}),e.jsxs("div",{className:"col-md-3 mb-2",children:[e.jsx("small",{className:"text-muted",children:":"}),e.jsxs("div",{className:"fw-bold text-primary",children:[m.water," /"]})]})]}),e.jsx("div",{className:"alert alert-info mt-3 mb-0",children:e.jsxs("small",{children:[e.jsx("i",{className:"fas fa-info-circle me-1"}),"       .      ."]})})]}),e.jsx("div",{className:"text-end mt-3",children:e.jsx("button",{type:"submit",className:"btn btn-success",disabled:G.isLoading,children:G.isLoading?e.jsx(je,{size:"sm",color:"light"}):" "})})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h5",{className:"mb-0",children:"  "})}),e.jsx("div",{className:"card-body",children:(w==null?void 0:w.length)>0?e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:""}),e.jsx("th",{children:" ()"}),e.jsx("th",{children:"  ()"}),e.jsx("th",{children:" "}),e.jsx("th",{children:" "}),e.jsx("th",{children:" "}),e.jsx("th",{children:" "}),e.jsx("th",{children:" "}),e.jsx("th",{children:" "})]})}),e.jsx("tbody",{children:w.map(P=>e.jsxs("tr",{children:[e.jsx("td",{children:Y(P.measured_at)}),e.jsx("td",{className:"fw-bold",children:P.weight}),e.jsx("td",{className:"text-info fw-bold",children:P.adjusted_body_weight||"--"}),e.jsx("td",{children:P.body_fat_percentage||"--"}),e.jsx("td",{children:P.waist_circumference||"--"}),e.jsx("td",{children:P.blood_pressure_systolic&&P.blood_pressure_diastolic?`${P.blood_pressure_systolic}/${P.blood_pressure_diastolic}`:"--"}),e.jsx("td",{children:P.blood_sugar||"--"}),e.jsxs("td",{children:[P.activity_level==="sedentary"&&" ",P.activity_level==="light"&&" ",P.activity_level==="moderate"&&" ",P.activity_level==="active"&&" ",P.activity_level==="very_active"&&"  ",!P.activity_level&&"--"]}),e.jsx("td",{children:P.notes||"--"})]},P.id))})]})}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{className:"fas fa-weight text-muted fs-2 mb-3"}),e.jsx("p",{className:"text-muted",children:"     "})]})})]})]}),i==="documents"&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h5",{className:"mb-0",children:" "})}),e.jsx("div",{className:"card-body",children:(O==null?void 0:O.length)>0?e.jsx("div",{className:"row",children:O.map(P=>e.jsx("div",{className:"col-md-6 col-lg-4 mb-3",children:e.jsx("div",{className:"card h-100",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"d-flex align-items-start mb-2",children:[e.jsx("i",{className:"fas fa-file-medical text-primary fs-4 me-2"}),e.jsxs("div",{className:"flex-grow-1",children:[e.jsx("h6",{className:"card-title mb-1",children:P.title}),e.jsxs("small",{className:"text-muted",children:[P.document_type," - ",Y(P.uploaded_at)]})]})]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("small",{className:"text-muted",children:[" : ",P.uploaded_by_name]}),e.jsx("a",{href:P.document,target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-outline-primary",children:""})]})]})})},P.id))}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{className:"fas fa-file-medical text-muted fs-2 mb-3"}),e.jsx("p",{className:"text-muted",children:"   "})]})})]}),i==="nutrition"&&e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx(rb,{patientProfile:N,onNutritionCalculated:z})})}),i==="diet-plans"&&e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx(ib,{patientProfile:N,nutritionData:c,onDietPlanSelected:T})})}),i==="meal-selections"&&e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx(lb,{patientId:(se=N==null?void 0:N.user)==null?void 0:se.id})})})]})},cb=()=>{var Gn,Us;const{t}=$e(),{user:s}=Qe(),n=es(),a=[{value:"",label:"  "},{value:"weight_loss",label:" "},{value:"weight_maintenance",label:" "},{value:"weight_gain",label:" "},{value:"health_maintenance",label:"  "},{value:"pregnant",label:""},{value:"breastfeeding",label:""},{value:"muscle_building",label:" "}],i=[{value:"",label:"  "},{value:"keto",label:"  ",calories:1500,protein:100,carbs:20,fat:120},{value:"balanced",label:" ",calories:2e3,protein:120,carbs:250,fat:70},{value:"weight_gain",label:"  ",calories:2500,protein:150,carbs:300,fat:90},{value:"pregnant",label:" ",calories:2200,protein:140,carbs:280,fat:80},{value:"breastfeeding",label:" ",calories:2400,protein:160,carbs:300,fat:85},{value:"diabetes",label:" ",calories:1800,protein:110,carbs:180,fat:75},{value:"weight_maintenance",label:"  ",calories:2e3,protein:120,carbs:250,fat:70}],[l,o]=C.useState("plans"),[d,c]=C.useState(!1),[u,m]=C.useState(""),[h,g]=C.useState({title:"",description:"",start_date:"",end_date:"",diet_plan:"",target_calories:"",target_protein:"",target_carbs:"",target_fat:"",notes:""}),[x,b]=C.useState(null),[_,j]=C.useState(!1),[f,p]=C.useState([]),[v,N]=C.useState([]),[y,w]=C.useState(!1),[k,O]=C.useState(!1),[M,B]=C.useState(null),[G,ee]=C.useState("all"),F=S=>{b(S),j(!0)},Q=S=>{console.log("Editing meal plan:",S),console.log("Plan dates:",{start_date:S.start_date,end_date:S.end_date}),B(S);const L={title:S.title||"",description:S.description||"",start_date:S.start_date||"",end_date:S.end_date||"",diet_plan:S.diet_plan||"",target_calories:S.target_calories||"",target_protein:S.target_protein||"",target_carbs:S.target_carbs||"",target_fat:S.target_fat||"",notes:S.notes||""};console.log("Form data to be set:",L),g(L),m(S.patient||""),O(!0),j(!1)},R=S=>{console.log("Copying meal plan:",S),U.info("   -  ")},I=ot(({mealPlanId:S,status:L})=>te.post(`/api/meals/meal-plans/${S}/update-status/`,{status:L}),{onSuccess:()=>{U.success("     "),n.invalidateQueries("doctor-meal-plans")},onError:S=>{U.error("     "),console.error("Error updating meal plan status:",S)}}),le=(S,L)=>{I.mutate({mealPlanId:S,status:L})},{data:z,isLoading:T}=ge("doctor-meal-plans",()=>te.get("/api/meals/meal-plans/").then(S=>(console.log(" Fetched meal plans:",S.data.results),S.data.results.forEach((L,ie)=>{console.log(`Plan ${ie+1} (ID: ${L.id}): Start: ${L.start_date}, End: ${L.end_date}`)}),S.data.results)),{enabled:!!s,staleTime:0,cacheTime:0,refetchOnWindowFocus:!0}),{data:W,isLoading:X,refetch:ae}=ge("doctor-patients-list",async()=>{try{const S=await te.get("/api/auth/patients/");if(S.data&&S.data.length>0){const Z=S.data.map(fe=>{const ye=`${fe.first_name||""} ${fe.last_name||""}`.trim();return{id:fe.id,name:ye||fe.username||` ${fe.id}`}});return console.log("Patients loaded:",Z.length),Z}const ie=(await te.get("/api/bookings/appointments/")).data.results||[],de=[],oe=new Set;for(const Z of ie)oe.has(Z.patient)||(oe.add(Z.patient),de.push({id:Z.patient,name:Z.patient_name||` ${Z.patient}`}));return de.length===0?[]:de}catch(S){return console.error("Error fetching patients:",S),[]}},{enabled:!!s,staleTime:5*60*1e3,cacheTime:10*60*1e3,refetchOnWindowFocus:!0}),{data:D,isLoading:Y}=ge("foods-list",()=>te.get("/api/meals/foods/").then(S=>S.data.results),{enabled:!!s}),{data:K,isLoading:re}=ge("meal-types",()=>te.get("/api/meals/meal-types/").then(S=>S.data),{enabled:!!s}),{data:me,isLoading:Ee,refetch:It,error:$s}=ge(["meal-plan-meals",x==null?void 0:x.id],()=>{if(!(x!=null&&x.id))throw new Error("No meal plan selected");return te.get(`/api/meals/meal-plans/${x.id}/meals/`).then(S=>S.data)},{enabled:!!(x!=null&&x.id)&&!!s,staleTime:5*60*1e3,retry:1,onError:S=>{var L,ie,de,oe;console.error("Error fetching meals:",S),console.error("Error details:",(L=S.response)==null?void 0:L.data),((ie=S.response)==null?void 0:ie.status)===403?U.error("     -     "):((de=S.response)==null?void 0:de.status)===404?console.log("No meals found for this plan"):((oe=S.response)==null?void 0:oe.status)===401&&U.error("   -     ")}}),{data:mt,isLoading:zs}=ge("recent-patients",async()=>{try{const S=new Date;S.setDate(S.getDate()-30);const L=S.toISOString().split("T")[0],de=(await te.get(`/api/bookings/appointments/?created_after=${L}`)).data.results||[],oe=[],Z=new Set;return de.forEach(fe=>{!Z.has(fe.patient)&&fe.patient_name&&(Z.add(fe.patient),oe.push({id:fe.patient,name:fe.patient_name,first_appointment:fe.scheduled_date,registration_date:fe.created_at,appointment_type:fe.appointment_type,status:fe.status}))}),oe.sort((fe,ye)=>new Date(ye.registration_date)-new Date(fe.registration_date))}catch(S){return console.error("Error fetching recent patients:",S),[]}},{enabled:!!s}),hs=ot(S=>te.post("/api/meals/meal-plans/",S),{onSuccess:S=>{U.success("    "),n.invalidateQueries("doctor-meal-plans"),n.invalidateQueries("doctor-patients-list"),c(!1),J(),h.diet_plan&&h.diet_plan!==""&&q(S.data.id,h.diet_plan)},onError:S=>{U.error("    ")}}),E=ot(({mealPlanId:S,dietPlan:L})=>{const ie=new AbortController,de=setTimeout(()=>ie.abort(),3e4);return te.post(`/api/meals/meal-plans/${S}/generate-meals/`,{diet_plan:L},{signal:ie.signal}).finally(()=>clearTimeout(de))},{onSuccess:S=>{var L;console.log("Suggested meals generated successfully:",S.data),p(S.data.suggested_meals||[]),N([]),w(!0),U.success(`  ${((L=S.data.suggested_meals)==null?void 0:L.length)||0}  `),k&&(O(!1),B(null),J())},onError:S=>{var ie,de,oe,Z,fe,ye;console.error("Error generating meals:",S),console.error("Error response:",(ie=S.response)==null?void 0:ie.data),console.error("Error status:",(de=S.response)==null?void 0:de.status);let L="    ";S.name==="AbortError"?L="  .    .":(Z=(oe=S.response)==null?void 0:oe.data)!=null&&Z.error?L=S.response.data.error:(ye=(fe=S.response)==null?void 0:fe.data)!=null&&ye.detail?L=S.response.data.detail:S.message&&(L=S.message),U.error(L)}}),q=(S,L)=>{if(console.log("Generating meals for plan:",S,"with diet:",L),console.log("User token:",localStorage.getItem("token")),console.log("User:",s),!s||!localStorage.getItem("token")){U.error("   ");return}if(!L||L===""){U.error("    ");return}if(!S){U.error("    ");return}E.mutate({mealPlanId:S,dietPlan:L})};ot(({mealPlanId:S,selectedMeals:L})=>te.post(`/api/meals/meal-plans/${S}/save-selected-meals/`,{selected_meals:L}),{onSuccess:S=>{console.log("Meals saved successfully:",S.data),U.success(`  ${S.data.meals.length}  `),w(!1),p([]),N([]);const L=x==null?void 0:x.id;b(null),L&&n.invalidateQueries(["meal-plan-meals",L]),n.invalidateQueries("doctor-meal-plans"),L&&setTimeout(()=>{n.refetchQueries(["meal-plan-meals",L])},1e3)},onError:S=>{console.error("Error saving meals:",S),U.error("    ")}});const $=ot(S=>(console.log(" Sending update request to:",`/api/meals/meal-plans/${M==null?void 0:M.id}/`),console.log(" Data being sent:",S),te.put(`/api/meals/meal-plans/${M==null?void 0:M.id}/`,S)),{onSuccess:(S,L,ie)=>{if(console.log(" Update successful, response:",S.data),console.log(" Updated meal plan dates:",{start_date:S.data.start_date,end_date:S.data.end_date}),ie!=null&&ie.onSuccess){ie.onSuccess();return}U.success("    "),n.invalidateQueries("doctor-meal-plans"),n.invalidateQueries("doctor-patients-list"),setTimeout(()=>{console.log(" Refetching meal plans after update..."),n.refetchQueries("doctor-meal-plans")},100),O(!1),B(null),J()},onError:S=>{var L,ie,de;console.error(" Error updating meal plan:",S),console.error(" Error response:",(L=S.response)==null?void 0:L.data),U.error("    : "+(((de=(ie=S.response)==null?void 0:ie.data)==null?void 0:de.error)||S.message))}}),J=()=>{console.log("Resetting form..."),g({title:"",description:"",start_date:"",end_date:"",diet_plan:"",target_calories:"",target_protein:"",target_carbs:"",target_fat:"",notes:""}),m(""),console.log("Form reset complete.")},se=(S,L)=>{if(!L||!L.patient_profile)return{calories:S.calories,protein:S.protein,carbs:S.carbs,fat:S.fat};const ie=L.patient_profile,{current_weight:de,height:oe,goal:Z,activity_level:fe,gender:ye}=ie;let yt=L.age||30;if(L.date_of_birth){const Gf=new Date(L.date_of_birth);yt=new Date().getFullYear()-Gf.getFullYear()}let Rt;ye==="male"?Rt=10*de+6.25*oe-5*yt+5:Rt=10*de+6.25*oe-5*yt-161,Rt=Math.round(Rt);const Yn={sedentary:1.2,light:1.375,moderate:1.55,active:1.725,very_active:1.9}[fe]||1.55,Jn=Math.round(Rt*Yn),Qs={lose_weight:.8,maintain_weight:1,gain_weight:1.1,build_muscle:1.15,improve_health:.9}[Z]||1,fs=Math.round(Jn*Qs),Ic={lose_weight:2.2,maintain_weight:1.6,gain_weight:1.8,build_muscle:2,improve_health:1.8}[Z]||1.6,$c=Math.round(de*Ic),Qf={lose_weight:.25,maintain_weight:.3,gain_weight:.35,build_muscle:.25,improve_health:.3}[Z]||.3,qf=fs*Qf,zc=Math.round(qf/9),Wf=$c*4,Hf=zc*9,Vf=fs-Wf-Hf,Kf=Math.round(Vf/4);return{calories:fs,protein:$c,carbs:Kf,fat:zc}},P=S=>{const{name:L,value:ie}=S.target;if(L==="diet_plan"&&ie){const de=i.find(oe=>oe.value===ie);if(de){const oe=W==null?void 0:W.find(fe=>fe.id.toString()===u.toString()),Z=se(de,oe);g({...h,[L]:ie,target_calories:Z.calories,target_protein:Z.protein,target_carbs:Z.carbs,target_fat:Z.fat});return}}if(L==="patient"&&ie&&h.diet_plan){const de=i.find(oe=>oe.value===h.diet_plan);if(de){const oe=W==null?void 0:W.find(fe=>fe.id.toString()===ie.toString()),Z=se(de,oe);g({...h,[L]:ie,target_calories:Z.calories,target_protein:Z.protein,target_carbs:Z.carbs,target_fat:Z.fat});return}}if(L==="title"&&ie&&h.diet_plan){const de=i.find(oe=>oe.value===h.diet_plan);if(de){const oe=W==null?void 0:W.find(fe=>fe.id.toString()===u.toString()),Z=se(de,oe);g({...h,[L]:ie,target_calories:Z.calories,target_protein:Z.protein,target_carbs:Z.carbs,target_fat:Z.fat});return}}g({...h,[L]:ie})},V=S=>{if(S.preventDefault(),!u){U.error("  ");return}const L={...h,patient:u};console.log("Creating meal plan with data:",L),hs.mutate(L)},ce=S=>{if(S.preventDefault(),!u){U.error("  ");return}if(!M){U.error(":      ");return}console.log("Submitting edit for meal plan:",M.id),console.log("Form data:",h),console.log("Current meal plan dates:",{start_date:M.start_date,end_date:M.end_date});const L={...h,patient:u};console.log("Data to be sent:",L),L.diet_plan?$.mutate(L,{onSuccess:()=>{console.log("Meal plan updated successfully, now generating meals..."),U.info("     ..."),E.mutate({mealPlanId:M.id,dietPlan:L.diet_plan})}}):$.mutate(L)},ve=S=>{const L=new Date,ie=new Date(S),de=Math.abs(L-ie);return Math.ceil(de/(1e3*60*60*24))},_e=()=>{const S=new Date;return S.setDate(S.getDate()+1),S.toISOString().split("T")[0]},ze=()=>{const S=new Date;return S.setDate(S.getDate()+7),S.toISOString().split("T")[0]},Pt=S=>{if(!S)return{};const L={},ie=["","","","","","",""];return S.forEach(de=>{var fe,ye;const oe=ie[de.day_of_week]||` ${de.day_of_week+1}`;L[oe]||(L[oe]={});const Z=((fe=de.meal_type)==null?void 0:fe.name_ar)||((ye=de.meal_type)==null?void 0:ye.name)||"";L[oe][Z]||(L[oe][Z]=[]),L[oe][Z].push(de)}),L},et=S=>{if(!S)return{};const L={},ie=["","","","","","",""];return S.forEach(de=>{const oe=ie[de.day_of_week]||` ${de.day_of_week+1}`;L[oe]||(L[oe]={});const Z=de.meal_type_name_ar||de.meal_type_name||"";L[oe][Z]||(L[oe][Z]=[]),L[oe][Z].push(de)}),L},it=S=>!S.ingredients||S.ingredients.length===0?{calories:0,protein:0,carbs:0,fat:0,fiber:0}:S.ingredients.reduce((L,ie)=>{const de=ie.amount||0,oe=ie.food;if(!oe)return L;const Z=de/100;return{calories:L.calories+oe.calories_per_100g*Z,protein:L.protein+oe.protein_per_100g*Z,carbs:L.carbs+oe.carbs_per_100g*Z,fat:L.fat+oe.fat_per_100g*Z,fiber:L.fiber+oe.fiber_per_100g*Z}},{calories:0,protein:0,carbs:0,fat:0,fiber:0}),Ke=S=>!S.ingredients||S.ingredients.length===0?{calories:0,protein:0,carbs:0,fat:0,fiber:0}:S.ingredients.reduce((L,ie)=>{const de=ie.amount||0;if(!ie)return L;const oe=de/100,Z=parseFloat(ie.calories_per_100g)||0,fe=parseFloat(ie.protein_per_100g)||0,ye=parseFloat(ie.carbs_per_100g)||0,Pe=parseFloat(ie.fat_per_100g)||0,yt=parseFloat(ie.fiber_per_100g)||0;return{calories:Math.round((L.calories+Z*oe)*100)/100,protein:Math.round((L.protein+fe*oe)*100)/100,carbs:Math.round((L.carbs+ye*oe)*100)/100,fat:Math.round((L.fat+Pe*oe)*100)/100,fiber:Math.round((L.fiber+yt*oe)*100)/100}},{calories:0,protein:0,carbs:0,fat:0,fiber:0});return C.useEffect(()=>{const S=L=>{L.key==="Escape"&&y&&(w(!1),p([]),N([]))};return y&&(document.addEventListener("keydown",S),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",S),document.body.style.overflow="unset"}},[y]),console.log("=== COMPONENT RENDER ==="),T||X?e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:e.jsx(je,{size:"lg"})}):e.jsxs("div",{className:"fade-in",children:[e.jsx("style",{children:`
          .avatar-sm {
            width: 40px;
            height: 40px;
            font-size: 16px;
          }
          
          .meal-selection-modal {
            z-index: 9999 !important;
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            width: 100% !important;
            height: 100% !important;
          }
          
          .meal-selection-modal .modal-dialog {
            z-index: 10000 !important;
          }
          
          .meal-selection-modal .modal-content {
            z-index: 10001 !important;
          }
          
          /* Ensure modal appears above everything */
          .meal-selection-modal {
            backdrop-filter: blur(2px);
          }
          
          /* Prevent any other elements from appearing above modal */
          .meal-selection-modal * {
            position: relative;
            z-index: inherit;
          }
          
          /* Ensure modal is always on top */
          .meal-selection-modal {
            pointer-events: auto;
          }
          
          /* Smooth animation */
          .meal-selection-modal {
            animation: fadeIn 0.3s ease-in-out;
          }
          
          @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
          }
          
          /* Custom checkbox styling */
          .meal-selection-modal .form-check-input {
            width: 20px !important;
            height: 20px !important;
            background-color: #c0c0c0 !important;
            border: 2px solid #a0a0a0 !important;
            border-radius: 4px !important;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2) !important;
            transition: all 0.3s ease !important;
          }
          
          .meal-selection-modal .form-check-input:checked {
            background-color: #28a745 !important;
            border-color: #28a745 !important;
            box-shadow: 0 2px 6px rgba(40, 167, 69, 0.4) !important;
          }
          
          .meal-selection-modal .form-check-input:focus {
            box-shadow: 0 0 0 0.2rem rgba(192, 192, 192, 0.5) !important;
            border-color: #a0a0a0 !important;
          }
          
          .meal-selection-modal .form-check-input:hover {
            background-color: #d0d0d0 !important;
            border-color: #909090 !important;
            box-shadow: 0 3px 6px rgba(0,0,0,0.3) !important;
            transform: translateY(-1px) !important;
          }
          
          .meal-selection-modal .form-check-input:checked:hover {
            background-color: #218838 !important;
            border-color: #218838 !important;
            box-shadow: 0 3px 8px rgba(40, 167, 69, 0.5) !important;
          }
          
          /* Checkbox label styling */
          .meal-selection-modal .form-check-label {
            cursor: pointer !important;
            transition: all 0.2s ease !important;
          }
          
          .meal-selection-modal .form-check-label:hover {
            color: #007bff !important;
          }
          
          /* Meal item hover effect */
          .meal-selection-modal .meal-item:hover {
            background-color: rgba(0, 123, 255, 0.05) !important;
            border-radius: 8px !important;
            padding: 8px !important;
            margin: -8px !important;
            transition: all 0.3s ease !important;
          }
          
          /* Selected meal item styling */
          .meal-selection-modal .meal-item.selected {
            background-color: rgba(40, 167, 69, 0.1) !important;
            border: 2px solid #28a745 !important;
            border-radius: 8px !important;
          }
          
          /* Checkbox animation */
          .meal-selection-modal .form-check-input {
            position: relative !important;
          }
          
          .meal-selection-modal .form-check-input::after {
            content: '' !important;
            position: absolute !important;
            top: 50% !important;
            left: 50% !important;
            transform: translate(-50%, -50%) !important;
            color: white !important;
            font-size: 12px !important;
            font-weight: bold !important;
            opacity: 0 !important;
            transition: opacity 0.2s ease !important;
          }
          
          .meal-selection-modal .form-check-input:checked::after {
            opacity: 1 !important;
          }
          
          /* Enhanced checkbox styling */
          .meal-selection-modal .form-check-input {
            appearance: none !important;
            -webkit-appearance: none !important;
            -moz-appearance: none !important;
          }
          
          /* Checkbox focus ring */
          .meal-selection-modal .form-check-input:focus {
            outline: none !important;
            box-shadow: 0 0 0 3px rgba(192, 192, 192, 0.3) !important;
          }
          
          /* Checkbox active state */
          .meal-selection-modal .form-check-input:active {
            transform: scale(0.95) !important;
          }
          
          /* Checkbox checked state with animation */
          .meal-selection-modal .form-check-input:checked {
            animation: checkmark 0.3s ease-in-out !important;
          }
          
          @keyframes checkmark {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
          }
        `}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-utensils text-success me-2"})," "]}),e.jsx("p",{className:"text-muted",children:"    "})]}),e.jsxs("button",{className:"btn btn-success",onClick:()=>c(!0),children:[e.jsx("i",{className:"fas fa-plus me-2"}),"  "]})]})})}),e.jsxs("ul",{className:"nav nav-tabs mb-4",children:[e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:`nav-link ${l==="plans"?"active":""}`,onClick:()=>o("plans"),children:[e.jsx("i",{className:"fas fa-list me-2"})," "]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:`nav-link ${l==="foods"?"active":""}`,onClick:()=>o("foods"),children:[e.jsx("i",{className:"fas fa-apple-alt me-2"})," "]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:`nav-link ${l==="recent-patients"?"active":""}`,onClick:()=>o("recent-patients"),children:[e.jsx("i",{className:"fas fa-user-plus me-2"})," "]})})]}),l==="plans"&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h5",{className:"mb-0",children:"  "})}),e.jsx("div",{className:"card-body",children:(z==null?void 0:z.length)>0?e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:" "}),e.jsx("th",{children:""}),e.jsx("th",{children:" "}),e.jsx("th",{children:" "}),e.jsx("th",{children:""}),e.jsx("th",{children:" "}),e.jsx("th",{children:""})]})}),e.jsx("tbody",{children:z.map(S=>{var L;return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold",children:((L=a.find(ie=>ie.value===S.title))==null?void 0:L.label)||(S.title==="weight_loss"?" ":S.title==="muscle_building"?" ":S.title)}),e.jsx("small",{className:"text-muted",children:S.description})]})}),e.jsx("td",{children:S.patient_name}),e.jsxs("td",{children:[Je(S.start_date),e.jsx("br",{}),e.jsxs("small",{className:"text-muted",children:["Raw: ",S.start_date]})]}),e.jsxs("td",{children:[Je(S.end_date),e.jsx("br",{}),e.jsxs("small",{className:"text-muted",children:["Raw: ",S.end_date]})]}),e.jsx("td",{children:e.jsx("span",{className:`badge ${S.is_active?"bg-success":"bg-secondary"}`,children:S.is_active?"":" "})}),e.jsx("td",{children:e.jsx("span",{className:`badge ${S.status==="waiting"?"bg-warning":S.status==="delivered"?"bg-info":S.status==="acknowledged"?"bg-success":S.status==="in_progress"?"bg-primary":S.status==="completed"?"bg-success":S.status==="cancelled"?"bg-danger":"bg-secondary"}`,children:S.status==="waiting"?" ":S.status==="delivered"?" ":S.status==="acknowledged"?" ":S.status==="in_progress"?" ":S.status==="completed"?"":S.status==="cancelled"?"":S.status})}),e.jsx("td",{children:e.jsxs("div",{className:"btn-group",children:[e.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>F(S),title:" ",children:e.jsx("i",{className:"fas fa-eye"})}),e.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:()=>Q(S),title:" ",children:e.jsx("i",{className:"fas fa-edit"})}),e.jsx("button",{className:"btn btn-sm btn-outline-warning",onClick:()=>{window.location.href=`/iraqi-nutrition/meal-planner?patient=${S.patient}&plan=${S.id}`},title:"    ",children:e.jsx("i",{className:"fas fa-utensils"})}),e.jsx("button",{className:"btn btn-sm btn-outline-info",onClick:()=>R(S),title:" ",children:e.jsx("i",{className:"fas fa-copy"})}),S.status==="delivered"&&e.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:()=>le(S.id,"acknowledged"),title:"  ",children:e.jsx("i",{className:"fas fa-check"})}),S.status==="acknowledged"&&e.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>le(S.id,"in_progress"),title:" ",children:e.jsx("i",{className:"fas fa-play"})}),S.status==="in_progress"&&e.jsx("button",{className:"btn btn-sm btn-outline-success",onClick:()=>le(S.id,"completed"),title:" ",children:e.jsx("i",{className:"fas fa-flag-checkered"})})]})})]},S.id)})})]})}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{className:"fas fa-utensils text-muted fs-1 mb-3"}),e.jsx("h5",{className:"text-muted",children:"   "}),e.jsx("p",{className:"text-muted",children:"     "}),e.jsx("button",{className:"btn btn-success",onClick:()=>c(!0),children:"  "})]})})]}),l==="foods"&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h5",{className:"mb-0",children:"  "})}),e.jsx("div",{className:"card-body",children:Y?e.jsx("div",{className:"text-center py-5",children:e.jsx(je,{size:"lg"})}):(D==null?void 0:D.length)>0?e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:""}),e.jsx("th",{children:""}),e.jsx("th",{children:" (100)"}),e.jsx("th",{children:" (100)"}),e.jsx("th",{children:" (100)"}),e.jsx("th",{children:" (100)"})]})}),e.jsx("tbody",{children:D.slice(0,20).map(S=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold",children:S.name}),S.name_ar&&e.jsx("small",{className:"text-muted",children:S.name_ar})]})}),e.jsx("td",{children:S.category_name}),e.jsx("td",{children:S.calories_per_100g}),e.jsxs("td",{children:[S.protein_per_100g,"g"]}),e.jsxs("td",{children:[S.carbs_per_100g,"g"]}),e.jsxs("td",{children:[S.fat_per_100g,"g"]})]},S.id))})]})}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{className:"fas fa-apple-alt text-muted fs-1 mb-3"}),e.jsx("h5",{className:"text-muted",children:"  "}),e.jsx("p",{className:"text-muted",children:"      "})]})})]}),l==="recent-patients"&&e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-user-plus text-success me-2"})," "]}),e.jsxs("div",{className:"d-flex align-items-center gap-3",children:[e.jsxs("select",{className:"form-select form-select-sm",value:G,onChange:S=>ee(S.target.value),style:{width:"auto"},children:[e.jsx("option",{value:"all",children:" "}),e.jsx("option",{value:"confirmed",children:" "}),e.jsx("option",{value:"pending",children:" "}),e.jsx("option",{value:"completed",children:""})]}),e.jsx("div",{className:"text-muted",children:e.jsx("small",{children:" 30 "})})]})]})}),e.jsx("div",{className:"card-body",children:zs?e.jsx("div",{className:"text-center py-5",children:e.jsx(je,{size:"lg"})}):(mt==null?void 0:mt.length)>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"alert alert-info",children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),e.jsx("strong",{children:":"}),'          30 .          "  ".']}),(()=>{const S=mt.filter(L=>G==="all"?!0:L.status===G);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-hover",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:" "}),e.jsx("th",{children:" "}),e.jsx("th",{children:" "}),e.jsx("th",{children:" "}),e.jsx("th",{children:" "}),e.jsx("th",{children:" "}),e.jsx("th",{children:""})]})}),e.jsx("tbody",{children:S.map(L=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"avatar-sm bg-success text-white rounded-circle d-flex align-items-center justify-content-center me-3",children:e.jsx("i",{className:"fas fa-user"})}),e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold",children:L.name}),e.jsxs("small",{className:"text-muted",children:["ID: ",L.id]})]})]})}),e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold",children:Je(L.registration_date)}),e.jsxs("small",{className:"text-muted",children:[" ",ve(L.registration_date)," "]})]})}),e.jsx("td",{children:e.jsx("span",{className:"badge bg-primary",children:Je(L.first_appointment)})}),e.jsx("td",{children:e.jsx("span",{className:`badge ${L.appointment_type==="consultation"?"bg-info":L.appointment_type==="follow_up"?"bg-success":L.appointment_type==="emergency"?"bg-danger":"bg-secondary"}`,children:L.appointment_type==="consultation"?"":L.appointment_type==="follow_up"?"":L.appointment_type==="emergency"?"":L.appointment_type})}),e.jsx("td",{children:e.jsx("span",{className:`badge ${L.status==="confirmed"?"bg-success":L.status==="pending"?"bg-warning":L.status==="completed"?"bg-info":L.status==="cancelled"?"bg-danger":"bg-secondary"}`,children:L.status==="confirmed"?"":L.status==="pending"?" ":L.status==="completed"?"":L.status==="cancelled"?"":L.status})}),e.jsx("td",{children:e.jsx("span",{className:"badge bg-info",children:L.has_meal_plan?"  ":"  "})}),e.jsx("td",{children:e.jsxs("div",{className:"btn-group",children:[e.jsxs("button",{className:"btn btn-sm btn-outline-success",onClick:()=>{m(L.id),c(!0)},title:"  ",children:[e.jsx("i",{className:"fas fa-utensils me-1"})," "]}),e.jsxs("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>{U.info("   -  ")},title:"  ",children:[e.jsx("i",{className:"fas fa-user me-1"}),""]})]})})]},L.id))})]})}),S.length===0&&e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{className:"fas fa-filter text-muted fs-2 mb-3"}),e.jsx("h6",{className:"text-muted",children:"  "}),e.jsx("p",{className:"text-muted",children:"       30 "})]}),e.jsxs("div",{className:"mt-4 p-3 bg-light rounded",children:[e.jsxs("h6",{className:"mb-2",children:[e.jsx("i",{className:"fas fa-chart-bar text-primary me-2"}),"  "]}),e.jsxs("div",{className:"row text-center",children:[e.jsxs("div",{className:"col-md-3",children:[e.jsx("div",{className:"fw-bold text-primary fs-4",children:mt.length}),e.jsx("small",{className:"text-muted",children:"  "})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsx("div",{className:"fw-bold text-success fs-4",children:mt.filter(L=>L.status==="confirmed").length}),e.jsx("small",{className:"text-muted",children:" "})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsx("div",{className:"fw-bold text-warning fs-4",children:mt.filter(L=>L.status==="pending").length}),e.jsx("small",{className:"text-muted",children:" "})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsx("div",{className:"fw-bold text-info fs-4",children:mt.filter(L=>L.status==="completed").length}),e.jsx("small",{className:"text-muted",children:""})]})]})]})]})})()]}):e.jsxs("div",{className:"text-center py-5",children:[e.jsx("i",{className:"fas fa-user-plus text-muted fs-1 mb-3"}),e.jsx("h5",{className:"text-muted",children:"   "}),e.jsx("p",{className:"text-muted",children:"       30 "}),e.jsxs("div",{className:"alert alert-info mt-3",children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),e.jsx("strong",{children:":"}),"         ."]})]})})]}),d&&e.jsx("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)",position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:9998},children:e.jsx("div",{className:"modal-dialog modal-xl",style:{zIndex:9999},children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h5",{className:"modal-title",children:"   "}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>{c(!1)}})]}),e.jsxs("form",{onSubmit:V,children:[e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsxs("label",{className:"form-label",children:[" *",e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary ms-2",onClick:()=>ae(),disabled:X,title:"  ",children:e.jsx("i",{className:`fas fa-sync-alt ${X?"fa-spin":""}`})})]}),e.jsxs("select",{className:"form-select",value:u,onChange:S=>m(S.target.value),required:!0,disabled:X,children:[e.jsx("option",{value:"",children:X?" ...":" "}),W==null?void 0:W.map(S=>e.jsx("option",{value:S.id,children:S.name},S.id))]}),W&&W.length>0?e.jsx("div",{className:"form-text",children:e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-info-circle me-1"}),W.length,"  "]})}):!X&&e.jsxs("div",{className:"form-text",children:[e.jsxs("small",{className:"text-warning",children:[e.jsx("i",{className:"fas fa-exclamation-triangle me-1"}),"   .        ."]}),e.jsx("div",{className:"mt-2",children:e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>ae(),children:[e.jsx("i",{className:"fas fa-sync-alt me-1"})," "]})})]})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"  *"}),e.jsx("select",{name:"title",className:"form-select",value:h.title,onChange:P,required:!0,children:a.map(S=>e.jsx("option",{value:S.value,children:S.label},S.value))})]}),e.jsxs("div",{className:"col-12 mb-3",children:[e.jsx("label",{className:"form-label",children:" "}),e.jsx("textarea",{name:"description",className:"form-control",rows:"3",value:h.description,onChange:P,placeholder:"      ..."})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"  *"}),e.jsx("input",{type:"date",name:"start_date",className:"form-control",value:h.start_date,onChange:P,min:_e(),required:!0})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"  *"}),e.jsx("input",{type:"date",name:"end_date",className:"form-control",value:h.end_date,onChange:P,min:ze(),required:!0})]}),e.jsxs("div",{className:"col-12 mb-3",children:[e.jsx("label",{className:"form-label",children:"  "}),e.jsx("select",{name:"diet_plan",className:"form-control",value:h.diet_plan,onChange:P,children:i.map(S=>e.jsx("option",{value:S.value,children:S.label},S.value))})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"   *"}),e.jsx("input",{type:"number",name:"target_calories",className:"form-control",value:h.target_calories,onChange:P,required:!0,placeholder:"1800"}),e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-magic me-1"}),"         "]})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"  () *"}),e.jsx("input",{type:"number",name:"target_protein",className:"form-control",value:h.target_protein,onChange:P,required:!0,placeholder:"120"}),e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-magic me-1"}),"      "]})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"  () *"}),e.jsx("input",{type:"number",name:"target_carbs",className:"form-control",value:h.target_carbs,onChange:P,required:!0,placeholder:"200"}),e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-magic me-1"}),"         "]})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"  () *"}),e.jsx("input",{type:"number",name:"target_fat",className:"form-control",value:h.target_fat,onChange:P,required:!0,placeholder:"60"}),e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-magic me-1"}),"         "]})]}),e.jsxs("div",{className:"col-12 mb-3",children:[e.jsx("label",{className:"form-label",children:" "}),e.jsx("textarea",{name:"notes",className:"form-control",rows:"2",value:h.notes,onChange:P,placeholder:"     ..."})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsxs("button",{type:"button",className:"btn btn-outline-danger me-2",onClick:()=>{window.confirm("      ")&&J()},children:[e.jsx("i",{className:"fas fa-trash me-1"})," "]}),e.jsx("button",{type:"button",className:"btn btn-secondary me-2",onClick:()=>{c(!1)},children:""}),e.jsx("button",{type:"submit",className:"btn btn-success",disabled:hs.isLoading,children:hs.isLoading?e.jsx(je,{size:"sm",color:"light"}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-save me-2"}),"  "]})})]})]})]})})}),_&&x&&e.jsx("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)",position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:9996},children:e.jsx("div",{className:"modal-dialog modal-xl",style:{zIndex:9997},children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h5",{className:"modal-title",children:[e.jsx("i",{className:"fas fa-eye text-primary me-2"}),"  : ",x.title]}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>{j(!1),y||b(null)}})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label fw-bold",children:" :"}),e.jsx("p",{className:"form-control-plaintext",children:((Gn=a.find(S=>S.value===x.title))==null?void 0:Gn.label)||x.title})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label fw-bold",children:":"}),e.jsx("p",{className:"form-control-plaintext",children:x.patient_name})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label fw-bold",children:" :"}),e.jsx("p",{className:"form-control-plaintext",children:Je(x.start_date)})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label fw-bold",children:" :"}),e.jsx("p",{className:"form-control-plaintext",children:Je(x.end_date)})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label fw-bold",children:":"}),e.jsx("p",{className:"form-control-plaintext",children:e.jsx("span",{className:`badge ${x.is_active?"bg-success":"bg-secondary"}`,children:x.is_active?"":" "})})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label fw-bold",children:" :"}),e.jsx("p",{className:"form-control-plaintext",children:x.diet_plan?((Us=i.find(S=>S.value===x.diet_plan))==null?void 0:Us.label)||x.diet_plan:"    "})]}),e.jsxs("div",{className:"col-12 mb-3",children:[e.jsx("label",{className:"form-label fw-bold",children:" :"}),e.jsx("p",{className:"form-control-plaintext",children:x.description||"  "})]}),e.jsxs("div",{className:"col-12 mb-3",children:[e.jsx("label",{className:"form-label fw-bold",children:":"}),e.jsx("p",{className:"form-control-plaintext",children:x.notes||"  "})]})]}),e.jsxs("div",{className:"border-top pt-4 mt-4",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-utensils text-success me-2"})," "]}),e.jsxs("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>{console.log("Retry button clicked"),x!=null&&x.id&&n.refetchQueries(["meal-plan-meals",x.id])},disabled:Ee,children:[e.jsx("i",{className:`fas fa-sync-alt ${Ee?"fa-spin":""}`}),""]})]}),Ee?e.jsxs("div",{className:"text-center py-4",children:[e.jsx(je,{size:"lg"}),e.jsx("p",{className:"text-muted mt-2",children:"  ..."})]}):me&&me.length>0?e.jsx("div",{className:"meals-container",children:(()=>{const S=Pt(me);return Object.keys(S).map(ie=>e.jsxs("div",{className:"day-meals mb-4",children:[e.jsxs("h6",{className:"day-header bg-light p-2 rounded mb-3",children:[e.jsx("i",{className:"fas fa-calendar-day text-primary me-2"}),ie]}),e.jsx("div",{className:"row",children:Object.entries(S[ie]).map(([de,oe])=>e.jsx("div",{className:"col-md-6 col-lg-4 mb-3",children:e.jsxs("div",{className:"card h-100",children:[e.jsx("div",{className:"card-header bg-success text-white",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-utensils me-2"}),de]})}),e.jsx("div",{className:"card-body",children:oe.map((Z,fe)=>{const ye=it(Z);return e.jsxs("div",{className:"meal-item mb-3",children:[e.jsx("h6",{className:"meal-name text-primary",children:Z.name}),Z.description&&e.jsx("p",{className:"meal-description text-muted small mb-2",children:Z.description}),Z.instructions&&e.jsxs("div",{className:"meal-instructions mb-2",children:[e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-list-ul me-1"}),e.jsx("strong",{children:" :"})]}),e.jsx("p",{className:"small text-muted mb-1",children:Z.instructions})]}),Z.prep_time&&e.jsx("div",{className:"prep-time mb-2",children:e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-clock me-1"})," : ",Z.prep_time," "]})}),Z.ingredients&&Z.ingredients.length>0&&e.jsxs("div",{className:"ingredients mb-2",children:[e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-shopping-basket me-1"}),e.jsx("strong",{children:":"})]}),e.jsx("ul",{className:"list-unstyled small mb-1",children:Z.ingredients.map((Pe,yt)=>{var Rt,Bs;return e.jsxs("li",{className:"text-muted",children:[" ",((Rt=Pe.food)==null?void 0:Rt.name_ar)||((Bs=Pe.food)==null?void 0:Bs.name),"(",Pe.amount,"g)",Pe.notes&&e.jsxs("span",{className:"text-info",children:[" - ",Pe.notes]})]},yt)})})]}),e.jsxs("div",{className:"nutrition-info",children:[e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-chart-pie me-1"}),e.jsx("strong",{children:" :"})]}),e.jsxs("div",{className:"row small text-muted",children:[e.jsxs("div",{className:"col-6",children:[e.jsxs("div",{children:[": ",Math.round(ye.calories)]}),e.jsxs("div",{children:[": ",Math.round(ye.protein),"g"]})]}),e.jsxs("div",{className:"col-6",children:[e.jsxs("div",{children:[": ",Math.round(ye.carbs),"g"]}),e.jsxs("div",{children:[": ",Math.round(ye.fat),"g"]})]})]})]})]},Z.id||fe)})})]})},de))})]},ie))})()}):e.jsxs("div",{className:"alert alert-warning text-center py-4",children:[e.jsx("div",{className:"mb-3",children:e.jsx("i",{className:"fas fa-utensils text-warning",style:{fontSize:"3rem"}})}),e.jsxs("h6",{className:"alert-heading mb-2",children:[e.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),"   "]}),e.jsx("p",{className:"mb-3",children:"      "}),$s&&e.jsxs("div",{className:"alert alert-danger",children:[e.jsxs("small",{children:[e.jsx("i",{className:"fas fa-exclamation-circle me-1"}),"   : ",$s.message]}),e.jsx("div",{className:"mt-2",children:e.jsxs("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>{console.log("Manual refresh triggered"),x!=null&&x.id&&n.refetchQueries(["meal-plan-meals",x.id])},children:[e.jsx("i",{className:"fas fa-retry"})," "]})})]}),x.diet_plan&&x.diet_plan!==""?e.jsxs("div",{children:[e.jsx("p",{className:"mb-3",children:"        "}),e.jsxs("button",{className:"btn btn-success me-2",onClick:()=>{x!=null&&x.id&&(x!=null&&x.diet_plan)?q(x.id,x.diet_plan):U.error(":        ")},disabled:E.isLoading,children:[e.jsx("i",{className:`fas fa-magic ${E.isLoading?"fa-spin":""}`}),E.isLoading?" ...":"  "]}),E.isLoading&&e.jsxs("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>{E.reset(),U.info("  ")},children:[e.jsx("i",{className:"fas fa-times"}),""]}),e.jsxs("button",{className:"btn btn-outline-primary me-2",onClick:()=>{console.log("Manual edit triggered for plan:",x),B(x),g({title:x.title||"",description:x.description||"",start_date:x.start_date||"",end_date:x.end_date||"",diet_plan:x.diet_plan||"",target_calories:x.target_calories||"",target_protein:x.target_protein||"",target_carbs:x.target_carbs||"",target_fat:x.target_fat||"",notes:x.notes||""}),m(x.patient||""),O(!0)},children:[e.jsx("i",{className:"fas fa-edit"}),"  "]}),e.jsxs("button",{className:"btn btn-outline-secondary",onClick:()=>{console.log("Manual refresh triggered"),x!=null&&x.id&&n.refetchQueries(["meal-plan-meals",x.id])},disabled:Ee,children:[e.jsx("i",{className:`fas fa-sync-alt ${Ee?"fa-spin":""}`})," "]})]}):e.jsxs("div",{children:[e.jsx("p",{className:"mb-3",children:"       "}),e.jsxs("button",{className:"btn btn-outline-primary me-2",onClick:()=>{console.log("Manual edit triggered for plan:",x),B(x),g({title:x.title||"",description:x.description||"",start_date:x.start_date||"",end_date:x.end_date||"",diet_plan:x.diet_plan||"",target_calories:x.target_calories||"",target_protein:x.target_protein||"",target_carbs:x.target_carbs||"",target_fat:x.target_fat||"",notes:x.notes||""}),m(x.patient||""),O(!0)},children:[e.jsx("i",{className:"fas fa-edit"}),"    "]}),e.jsxs("button",{className:"btn btn-outline-secondary",onClick:()=>{console.log("Manual refresh triggered"),x!=null&&x.id&&n.refetchQueries(["meal-plan-meals",x.id])},disabled:Ee,children:[e.jsx("i",{className:`fas fa-sync-alt ${Ee?"fa-spin":""}`})," "]})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsxs("button",{type:"button",className:"btn btn-outline-danger me-2",onClick:()=>{window.confirm("      ")&&J()},children:[e.jsx("i",{className:"fas fa-trash me-1"})," "]}),e.jsx("button",{type:"button",className:"btn btn-secondary me-2",onClick:()=>{j(!1),y||b(null)},children:""}),e.jsxs("button",{type:"button",className:"btn btn-success",onClick:()=>Q(x),children:[e.jsx("i",{className:"fas fa-edit me-2"})," "]})]})]})})}),k&&M&&e.jsx("div",{className:"modal show d-block",style:{backgroundColor:"rgba(0,0,0,0.5)",position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:9997},children:e.jsx("div",{className:"modal-dialog modal-xl",style:{zIndex:9998},children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h5",{className:"modal-title",children:[e.jsx("i",{className:"fas fa-edit text-success me-2"}),"  : ",M.title]}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>{O(!1),B(null),J()}})]}),e.jsxs("form",{onSubmit:ce,children:[e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsxs("label",{className:"form-label",children:[" *",e.jsx("button",{type:"button",className:"btn btn-sm btn-outline-primary ms-2",onClick:()=>ae(),disabled:X,title:"  ",children:e.jsx("i",{className:`fas fa-sync-alt ${X?"fa-spin":""}`})})]}),e.jsxs("select",{className:"form-select",value:u,onChange:S=>m(S.target.value),required:!0,disabled:X,children:[e.jsx("option",{value:"",children:X?" ...":" "}),W==null?void 0:W.map(S=>e.jsx("option",{value:S.id,children:S.name},S.id))]}),W&&W.length>0?e.jsx("div",{className:"form-text",children:e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-info-circle me-1"}),W.length,"  "]})}):!X&&e.jsxs("div",{className:"form-text",children:[e.jsxs("small",{className:"text-warning",children:[e.jsx("i",{className:"fas fa-exclamation-triangle me-1"}),"   .        ."]}),e.jsx("div",{className:"mt-2",children:e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:()=>ae(),children:[e.jsx("i",{className:"fas fa-sync-alt me-1"})," "]})})]})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"  *"}),e.jsx("select",{name:"title",className:"form-select",value:h.title,onChange:P,required:!0,children:a.map(S=>e.jsx("option",{value:S.value,children:S.label},S.value))})]}),e.jsxs("div",{className:"col-12 mb-3",children:[e.jsx("label",{className:"form-label",children:" "}),e.jsx("textarea",{name:"description",className:"form-control",rows:"3",value:h.description,onChange:P,placeholder:"      ..."})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"  *"}),e.jsx("input",{type:"date",name:"start_date",className:"form-control",value:h.start_date,onChange:P,required:!0})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"  *"}),e.jsx("input",{type:"date",name:"end_date",className:"form-control",value:h.end_date,onChange:P,required:!0})]}),e.jsxs("div",{className:"col-12 mb-3",children:[e.jsx("label",{className:"form-label",children:"  "}),e.jsx("select",{name:"diet_plan",className:"form-control",value:h.diet_plan,onChange:P,children:i.map(S=>e.jsx("option",{value:S.value,children:S.label},S.value))})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"   *"}),e.jsx("input",{type:"number",name:"target_calories",className:"form-control",value:h.target_calories,onChange:P,required:!0,placeholder:"1800"}),e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-magic me-1"}),"         "]})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"  () *"}),e.jsx("input",{type:"number",name:"target_protein",className:"form-control",value:h.target_protein,onChange:P,required:!0,placeholder:"120"}),e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-magic me-1"}),"      "]})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"  () *"}),e.jsx("input",{type:"number",name:"target_carbs",className:"form-control",value:h.target_carbs,onChange:P,required:!0,placeholder:"200"}),e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-magic me-1"}),"         "]})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsx("label",{className:"form-label",children:"  () *"}),e.jsx("input",{type:"number",name:"target_fat",className:"form-control",value:h.target_fat,onChange:P,required:!0,placeholder:"60"}),e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-magic me-1"}),"         "]})]}),e.jsxs("div",{className:"col-12 mb-3",children:[e.jsx("label",{className:"form-label",children:" "}),e.jsx("textarea",{name:"notes",className:"form-control",rows:"2",value:h.notes,onChange:P,placeholder:"     ..."})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsxs("button",{type:"button",className:"btn btn-outline-danger me-2",onClick:()=>{window.confirm("      ")&&J()},children:[e.jsx("i",{className:"fas fa-trash me-1"})," "]}),e.jsx("button",{type:"button",className:"btn btn-secondary me-2",onClick:()=>{O(!1),B(null)},children:""}),h.diet_plan&&h.diet_plan!==""&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{type:"button",className:"btn btn-primary me-2",onClick:()=>{M!=null&&M.id&&q(M.id,h.diet_plan)},disabled:E.isLoading,children:[e.jsx("i",{className:`fas fa-magic ${E.isLoading?"fa-spin":""}`}),E.isLoading?" ...":"  "]}),E.isLoading&&e.jsxs("button",{type:"button",className:"btn btn-outline-danger btn-sm me-2",onClick:()=>{E.reset(),U.info("  ")},children:[e.jsx("i",{className:"fas fa-times"}),""]})]}),e.jsx("button",{type:"submit",className:"btn btn-success",disabled:$.isLoading,children:$.isLoading?e.jsx(je,{size:"sm",color:"light"}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-save me-2"})," "]})})]})]})]})})}),y&&e.jsx("div",{className:"modal show d-block meal-selection-modal",style:{backgroundColor:"rgba(0,0,0,0.5)",zIndex:9999,position:"fixed",top:0,left:0,width:"100%",height:"100%"},onClick:S=>{S.target===S.currentTarget&&(w(!1),p([]),N([]))},children:e.jsx("div",{className:"modal-dialog modal-xl",style:{zIndex:1e4,marginTop:"2rem"},children:e.jsxs("div",{className:"modal-content",style:{zIndex:10001,maxHeight:"90vh",overflowY:"auto"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h5",{className:"modal-title",children:[e.jsx("i",{className:"fas fa-utensils text-primary me-2"}),"  "]}),e.jsx("button",{type:"button",className:"btn-close",onClick:()=>{w(!1),p([]),N([])}})]}),e.jsxs("div",{className:"modal-body",style:{maxHeight:"70vh",overflowY:"auto"},children:[e.jsxs("div",{className:"alert alert-info",children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),"   .       ."]}),f.length>0?e.jsx("div",{className:"meals-selection-container",children:(()=>{const S=et(f);return Object.keys(S).map(ie=>e.jsxs("div",{className:"day-meals mb-4",children:[e.jsxs("h6",{className:"day-header bg-light p-2 rounded mb-3",children:[e.jsx("i",{className:"fas fa-calendar-day text-primary me-2"}),ie]}),e.jsx("div",{className:"row",children:Object.entries(S[ie]).map(([de,oe])=>e.jsx("div",{className:"col-md-6 col-lg-4 mb-3",children:e.jsxs("div",{className:"card h-100",children:[e.jsx("div",{className:"card-header bg-success text-white",children:e.jsxs("h6",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-utensils me-2"}),de]})}),e.jsx("div",{className:"card-body",children:oe.map((Z,fe)=>{v.some(Pe=>Pe.day_of_week===Z.day_of_week&&Pe.meal_type_id===Z.meal_type_id);const ye=Ke(Z);return console.log("Meal nutrition:",Z.name,ye),console.log("Meal ingredients:",Z.ingredients),e.jsx("div",{className:"meal-item mb-3 p-2",style:{border:"2px solid #e9ecef",borderRadius:"8px",backgroundColor:"#f8f9fa",transition:"all 0.3s ease",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:e.jsx("div",{className:"meal-display",children:e.jsx("div",{className:"meal-info",children:e.jsxs("div",{className:"meal-details",children:[e.jsx("h6",{className:"meal-name",children:Z.name}),e.jsx("p",{className:"meal-description small text-muted mb-2",children:Z.description}),Z.ingredients&&Z.ingredients.length>0&&e.jsxs("div",{className:"ingredients mb-2",children:[e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-list me-1"}),e.jsx("strong",{children:":"})]}),e.jsx("div",{className:"ingredients-list",children:Z.ingredients.map((Pe,yt)=>e.jsxs("div",{className:"ingredient-item small",children:[" ",Pe.food_name_ar||Pe.food_name," (",Pe.amount,"g)",e.jsx("br",{}),e.jsxs("small",{className:"text-info",children:[": ",Math.round((parseFloat(Pe.calories_per_100g)||0)*(Pe.amount/100))," | : ",Math.round((parseFloat(Pe.protein_per_100g)||0)*(Pe.amount/100)),"g"]})]},yt))})]}),e.jsxs("div",{className:"nutrition-info",children:[e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-chart-pie me-1"}),e.jsx("strong",{children:"  :"})]}),e.jsxs("div",{className:"row small text-muted",children:[e.jsxs("div",{className:"col-6",children:[e.jsxs("div",{children:[": ",Math.round(ye.calories||0)]}),e.jsxs("div",{children:[": ",Math.round(ye.protein||0),"g"]})]}),e.jsxs("div",{className:"col-6",children:[e.jsxs("div",{children:[": ",Math.round(ye.carbs||0),"g"]}),e.jsxs("div",{children:[": ",Math.round(ye.fat||0),"g"]})]})]}),ye.calories===0&&e.jsxs("div",{className:"text-warning small",children:[e.jsx("i",{className:"fas fa-exclamation-triangle me-1"}),"    "]})]})]})})})},fe)})})]})},de))})]},ie))})()}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{className:"fas fa-utensils text-muted",style:{fontSize:"3rem"}}),e.jsx("p",{className:"text-muted mt-2",children:"   "})]})]}),e.jsxs("div",{className:"modal-footer",style:{position:"sticky",bottom:0,backgroundColor:"white",borderTop:"1px solid #dee2e6"},children:[e.jsx("div",{className:"text-center w-100",children:e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-info-circle me-1"}),"    -   "]})}),e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>{w(!1),p([]),N([])},children:""})]})]})})})]})},Eu=()=>{var m,h,g,x,b,_,j,f,p,v,N,y,w,k,O,M,B,G,ee,F;const{t}=$e(),{user:s}=Qe(),[n,a]=C.useState("month"),{data:i,isLoading:l}=ge(["financial-dashboard",n],()=>{const Q=new URLSearchParams,R=new Date;if(n==="month")Q.append("start_date",new Date(R.getFullYear(),R.getMonth(),1).toISOString().split("T")[0]),Q.append("end_date",R.toISOString().split("T")[0]);else if(n==="week"){const I=new Date(R.getTime()-6048e5);Q.append("start_date",I.toISOString().split("T")[0]),Q.append("end_date",R.toISOString().split("T")[0])}return te.get(`/api/reports/financial-dashboard/?${Q}`).then(I=>I.data)},{enabled:!!s}),{data:o,isLoading:d}=ge("system-overview",()=>te.get("/api/reports/system-overview/").then(Q=>Q.data),{enabled:!!s}),c=Q=>new Intl.NumberFormat("ar-IQ",{style:"currency",currency:"IQD",minimumFractionDigits:0,maximumFractionDigits:0}).format(Q),u=Q=>new Intl.NumberFormat("ar-SA").format(Q);return l||d?e.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"400px"},children:e.jsx(je,{size:"lg"})}):e.jsxs("div",{className:"fade-in",children:[e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"bg-gradient-primary text-white rounded-4 p-4",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsxs("div",{className:"col-md-8",children:[e.jsxs("h2",{className:"mb-2",children:[" ",s==null?void 0:s.first_name,"     "]}),e.jsx("p",{className:"mb-0 opacity-75",children:"      "})]}),e.jsx("div",{className:"col-md-4 text-end",children:e.jsx("div",{className:"bg-white bg-opacity-25 rounded-circle p-3 d-inline-block",children:e.jsx("i",{className:"fas fa-chart-line fs-1"})})})]})})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsx("h5",{className:"mb-0",children:" "}),e.jsxs("div",{className:"btn-group",children:[e.jsx("button",{className:`btn btn-sm ${n==="week"?"btn-primary":"btn-outline-primary"}`,onClick:()=>a("week"),children:""}),e.jsx("button",{className:`btn btn-sm ${n==="month"?"btn-primary":"btn-outline-primary"}`,onClick:()=>a("month"),children:""})]})]})})})})}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("div",{className:"col-md-3 mb-3",children:e.jsxs("div",{className:"dashboard-card text-center",children:[e.jsx("div",{className:"text-success mb-2",children:e.jsx("i",{className:"fas fa-dollar-sign fs-2"})}),e.jsx("h4",{className:"text-success mb-1",children:c(((m=i==null?void 0:i.revenue_metrics)==null?void 0:m.total_revenue)||0)}),e.jsx("p",{className:"text-muted mb-0",children:" "})]})}),e.jsx("div",{className:"col-md-3 mb-3",children:e.jsxs("div",{className:"dashboard-card text-center",children:[e.jsx("div",{className:"text-primary mb-2",children:e.jsx("i",{className:"fas fa-chart-line fs-2"})}),e.jsx("h4",{className:"text-primary mb-1",children:c(((h=i==null?void 0:i.revenue_metrics)==null?void 0:h.net_revenue)||0)}),e.jsx("p",{className:"text-muted mb-0",children:" "})]})}),e.jsx("div",{className:"col-md-3 mb-3",children:e.jsxs("div",{className:"dashboard-card text-center",children:[e.jsx("div",{className:"text-warning mb-2",children:e.jsx("i",{className:"fas fa-percentage fs-2"})}),e.jsx("h4",{className:"text-warning mb-1",children:c(((g=i==null?void 0:i.revenue_metrics)==null?void 0:g.total_discounts)||0)}),e.jsx("p",{className:"text-muted mb-0",children:" "})]})}),e.jsx("div",{className:"col-md-3 mb-3",children:e.jsxs("div",{className:"dashboard-card text-center",children:[e.jsx("div",{className:"text-info mb-2",children:e.jsx("i",{className:"fas fa-credit-card fs-2"})}),e.jsx("h4",{className:"text-info mb-1",children:c(((x=i==null?void 0:i.revenue_metrics)==null?void 0:x.total_fees)||0)}),e.jsx("p",{className:"text-muted mb-0",children:" "})]})})]}),e.jsxs("div",{className:"row mb-4",children:[e.jsx("div",{className:"col-md-3 mb-3",children:e.jsxs("div",{className:"dashboard-card text-center",children:[e.jsx("div",{className:"text-primary mb-2",children:e.jsx("i",{className:"fas fa-users fs-2"})}),e.jsx("h4",{className:"text-primary mb-1",children:u(((_=(b=o==null?void 0:o.user_counts)==null?void 0:b.find(Q=>Q.role==="patient"))==null?void 0:_.count)||0)}),e.jsx("p",{className:"text-muted mb-0",children:""})]})}),e.jsx("div",{className:"col-md-3 mb-3",children:e.jsxs("div",{className:"dashboard-card text-center",children:[e.jsx("div",{className:"text-success mb-2",children:e.jsx("i",{className:"fas fa-user-md fs-2"})}),e.jsx("h4",{className:"text-success mb-1",children:u(((f=(j=o==null?void 0:o.user_counts)==null?void 0:j.find(Q=>Q.role==="doctor"))==null?void 0:f.count)||0)}),e.jsx("p",{className:"text-muted mb-0",children:""})]})}),e.jsx("div",{className:"col-md-3 mb-3",children:e.jsxs("div",{className:"dashboard-card text-center",children:[e.jsx("div",{className:"text-warning mb-2",children:e.jsx("i",{className:"fas fa-calendar-check fs-2"})}),e.jsx("h4",{className:"text-warning mb-1",children:u(((p=o==null?void 0:o.health_metrics)==null?void 0:p.pending_appointments)||0)}),e.jsx("p",{className:"text-muted mb-0",children:" "})]})}),e.jsx("div",{className:"col-md-3 mb-3",children:e.jsxs("div",{className:"dashboard-card text-center",children:[e.jsx("div",{className:"text-info mb-2",children:e.jsx("i",{className:"fas fa-utensils fs-2"})}),e.jsx("h4",{className:"text-info mb-1",children:u(((v=o==null?void 0:o.health_metrics)==null?void 0:v.active_meal_plans)||0)}),e.jsx("p",{className:"text-muted mb-0",children:"  "})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-6 mb-4",children:e.jsxs("div",{className:"card h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-credit-card text-primary me-2"}),"   "]})}),e.jsx("div",{className:"card-body",children:((N=i==null?void 0:i.revenue_by_provider)==null?void 0:N.length)>0?e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:" "}),e.jsx("th",{children:" "}),e.jsx("th",{children:""}),e.jsx("th",{children:""})]})}),e.jsx("tbody",{children:i.revenue_by_provider.map((Q,R)=>e.jsxs("tr",{children:[e.jsx("td",{children:Q.provider__display_name}),e.jsx("td",{children:e.jsx("span",{className:"badge bg-primary",children:Q.count})}),e.jsx("td",{className:"fw-bold",children:c(Q.amount)}),e.jsx("td",{className:"text-muted",children:c(Q.fees)})]},R))})]})}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{className:"fas fa-credit-card text-muted fs-2 mb-3"}),e.jsx("p",{className:"text-muted",children:"     "})]})})]})}),e.jsx("div",{className:"col-lg-6 mb-4",children:e.jsxs("div",{className:"card h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-chart-pie text-success me-2"}),"   "]})}),e.jsx("div",{className:"card-body",children:((y=i==null?void 0:i.revenue_by_service)==null?void 0:y.length)>0?e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:" "}),e.jsx("th",{children:" "}),e.jsx("th",{children:""}),e.jsx("th",{children:""})]})}),e.jsx("tbody",{children:i.revenue_by_service.map((Q,R)=>{const I=i.revenue_by_service.reduce((z,T)=>z+T.amount,0),le=(Q.amount/I*100).toFixed(1);return e.jsxs("tr",{children:[e.jsxs("td",{children:[Q.service_type==="consultation"&&"",Q.service_type==="meal_plan"&&" ",Q.service_type==="subscription"&&""]}),e.jsx("td",{children:e.jsx("span",{className:"badge bg-info",children:Q.count})}),e.jsx("td",{className:"fw-bold",children:c(Q.amount)}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"progress flex-grow-1 me-2",style:{height:"8px"},children:e.jsx("div",{className:"progress-bar bg-success",style:{width:`${le}%`}})}),e.jsxs("small",{children:[le,"%"]})]})})]},R)})})]})}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{className:"fas fa-chart-pie text-muted fs-2 mb-3"}),e.jsx("p",{className:"text-muted",children:"     "})]})})]})}),e.jsx("div",{className:"col-lg-6 mb-4",children:e.jsxs("div",{className:"card h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-star text-warning me-2"})," "]})}),e.jsx("div",{className:"card-body",children:((w=o==null?void 0:o.top_doctors)==null?void 0:w.length)>0?e.jsx("div",{className:"list-group list-group-flush",children:o.top_doctors.map((Q,R)=>e.jsx("div",{className:"list-group-item px-0 border-0",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"bg-warning bg-opacity-10 rounded-circle p-2 me-3",children:e.jsx("i",{className:"fas fa-user-md text-warning"})}),e.jsxs("div",{children:[e.jsx("h6",{className:"mb-0",children:Q.name}),e.jsx("small",{className:"text-muted",children:Q.specialization})]})]}),e.jsxs("div",{className:"text-end",children:[e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("span",{className:"text-warning me-1",children:Q.rating}),e.jsx("i",{className:"fas fa-star text-warning"})]}),e.jsxs("small",{className:"text-muted",children:[Q.total_reviews," "]})]})]})},R))}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{className:"fas fa-user-md text-muted fs-2 mb-3"}),e.jsx("p",{className:"text-muted",children:"   "})]})})]})}),e.jsx("div",{className:"col-lg-6 mb-4",children:e.jsxs("div",{className:"card h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-clock text-info me-2"}),"  (7 )"]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row text-center",children:[e.jsx("div",{className:"col-6 mb-3",children:e.jsxs("div",{className:"bg-primary bg-opacity-10 rounded-3 p-3",children:[e.jsx("h4",{className:"text-primary mb-1",children:((k=o==null?void 0:o.recent_activity)==null?void 0:k.new_users)||0}),e.jsx("small",{className:"text-muted",children:" "})]})}),e.jsx("div",{className:"col-6 mb-3",children:e.jsxs("div",{className:"bg-success bg-opacity-10 rounded-3 p-3",children:[e.jsx("h4",{className:"text-success mb-1",children:((O=o==null?void 0:o.recent_activity)==null?void 0:O.new_appointments)||0}),e.jsx("small",{className:"text-muted",children:" "})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"bg-warning bg-opacity-10 rounded-3 p-3",children:[e.jsx("h4",{className:"text-warning mb-1",children:((M=o==null?void 0:o.recent_activity)==null?void 0:M.completed_payments)||0}),e.jsx("small",{className:"text-muted",children:" "})]})}),e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:"bg-info bg-opacity-10 rounded-3 p-3",children:[e.jsx("h4",{className:"text-info mb-1",children:((B=o==null?void 0:o.recent_activity)==null?void 0:B.new_meal_plans)||0}),e.jsx("small",{className:"text-muted",children:"  "})]})})]})})]})}),e.jsx("div",{className:"col-lg-6 mb-4",children:e.jsxs("div",{className:"card h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-tags text-success me-2"}),"  "]})}),e.jsx("div",{className:"card-body",children:((G=i==null?void 0:i.coupon_usage)==null?void 0:G.length)>0?e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:""}),e.jsx("th",{children:""}),e.jsx("th",{children:" "})]})}),e.jsx("tbody",{children:i.coupon_usage.map((Q,R)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{children:[e.jsx("div",{className:"fw-bold",children:Q.coupon__code}),e.jsx("small",{className:"text-muted",children:Q.coupon__name})]})}),e.jsx("td",{children:e.jsx("span",{className:"badge bg-primary",children:Q.usage_count})}),e.jsx("td",{className:"fw-bold text-success",children:c(Q.total_discount)})]},R))})]})}):e.jsxs("div",{className:"text-center py-4",children:[e.jsx("i",{className:"fas fa-tags text-muted fs-2 mb-3"}),e.jsx("p",{className:"text-muted",children:"      "})]})})]})}),e.jsx("div",{className:"col-lg-6 mb-4",children:e.jsxs("div",{className:"card h-100",children:[e.jsx("div",{className:"card-header",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-exclamation-triangle text-danger me-2"})," "]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"bg-danger bg-opacity-10 rounded-3 p-4 mb-3",children:[e.jsx("h3",{className:"text-danger mb-2",children:u(((ee=i==null?void 0:i.outstanding_invoices)==null?void 0:ee.count)||0)}),e.jsx("p",{className:"text-muted mb-0",children:" "})]}),e.jsxs("div",{className:"bg-warning bg-opacity-10 rounded-3 p-3",children:[e.jsx("h4",{className:"text-warning mb-1",children:c(((F=i==null?void 0:i.outstanding_invoices)==null?void 0:F.amount)||0)}),e.jsx("p",{className:"text-muted mb-0",children:"  "})]})]})})]})})]})]})},db=()=>{const{t}=$e();return e.jsxs("div",{className:"fade-in",children:[e.jsx("div",{className:"row mb-4",children:e.jsxs("div",{className:"col-12",children:[e.jsxs("h2",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-users text-primary me-2"})," "]}),e.jsx("p",{className:"text-muted",children:"   "})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body text-center py-5",children:[e.jsx("i",{className:"fas fa-users text-muted fs-1 mb-3"}),e.jsx("h5",{className:"text-muted",children:" "}),e.jsx("p",{className:"text-muted",children:"   "})]})})]})},ub=()=>{const{t}=$e();return e.jsxs("div",{className:"fade-in",children:[e.jsx("div",{className:"row mb-4",children:e.jsxs("div",{className:"col-12",children:[e.jsxs("h2",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-user-md text-success me-2"})," "]}),e.jsx("p",{className:"text-muted",children:"   "})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body text-center py-5",children:[e.jsx("i",{className:"fas fa-user-md text-muted fs-1 mb-3"}),e.jsx("h5",{className:"text-muted",children:" "}),e.jsx("p",{className:"text-muted",children:"   "})]})})]})},Pu=()=>{const{t}=$e();return e.jsxs("div",{className:"fade-in",children:[e.jsx("div",{className:"row mb-4",children:e.jsxs("div",{className:"col-12",children:[e.jsxs("h2",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-credit-card text-warning me-2"})," "]}),e.jsx("p",{className:"text-muted",children:"   "})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body text-center py-5",children:[e.jsx("i",{className:"fas fa-credit-card text-muted fs-1 mb-3"}),e.jsx("h5",{className:"text-muted",children:" "}),e.jsx("p",{className:"text-muted",children:"   "})]})})]})},Ru=()=>{var j,f,p,v,N,y,w,k,O,M,B,G,ee;const{t}=$e(),{user:s}=Qe(),[n,a]=C.useState("financial"),[i,l]=C.useState({start_date:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],end_date:new Date().toISOString().split("T")[0]}),{data:o,isLoading:d}=ge(["financial-dashboard",i],()=>te.get(`/api/reports/financial-dashboard/?start_date=${i.start_date}&end_date=${i.end_date}`).then(F=>F.data),{enabled:!!s&&n==="financial"}),{data:c,isLoading:u}=ge(["appointments-dashboard",i],()=>te.get(`/api/reports/appointments-dashboard/?start_date=${i.start_date}&end_date=${i.end_date}`).then(F=>F.data),{enabled:!!s&&n==="appointments"}),{data:m,isLoading:h}=ge("patients-dashboard",()=>te.get("/api/reports/patients-dashboard/").then(F=>F.data),{enabled:!!s&&n==="patients"}),g=F=>new Intl.NumberFormat("ar-IQ",{style:"currency",currency:"IQD",minimumFractionDigits:0,maximumFractionDigits:0}).format(F),x=F=>new Intl.NumberFormat("ar-SA").format(F),b=(F,Q)=>{l(R=>({...R,[F]:Q}))},_=F=>{alert(`    ${F}`)};return e.jsxs("div",{className:"fade-in",children:[e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-chart-bar text-info me-2"})," "]}),e.jsx("p",{className:"text-muted",children:"    "})]}),e.jsxs("div",{className:"dropdown",children:[e.jsxs("button",{className:"btn btn-primary dropdown-toggle",type:"button","data-bs-toggle":"dropdown",children:[e.jsx("i",{className:"fas fa-download me-2"})," "]}),e.jsxs("ul",{className:"dropdown-menu",children:[e.jsx("li",{children:e.jsx("button",{className:"dropdown-item",onClick:()=>_("PDF"),children:"PDF"})}),e.jsx("li",{children:e.jsx("button",{className:"dropdown-item",onClick:()=>_("Excel"),children:"Excel"})}),e.jsx("li",{children:e.jsx("button",{className:"dropdown-item",onClick:()=>_("CSV"),children:"CSV"})})]})]})]})})}),e.jsx("div",{className:"row mb-4",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsxs("div",{className:"col-md-3",children:[e.jsx("label",{className:"form-label",children:" "}),e.jsx("input",{type:"date",className:"form-control",value:i.start_date,onChange:F=>b("start_date",F.target.value)})]}),e.jsxs("div",{className:"col-md-3",children:[e.jsx("label",{className:"form-label",children:" "}),e.jsx("input",{type:"date",className:"form-control",value:i.end_date,onChange:F=>b("end_date",F.target.value)})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{className:"form-label",children:" "}),e.jsxs("div",{className:"btn-group w-100",children:[e.jsx("button",{className:"btn btn-outline-primary",onClick:()=>{const F=new Date;l({start_date:F.toISOString().split("T")[0],end_date:F.toISOString().split("T")[0]})},children:""}),e.jsx("button",{className:"btn btn-outline-primary",onClick:()=>{const F=new Date,Q=new Date(F.getTime()-7*24*60*60*1e3);l({start_date:Q.toISOString().split("T")[0],end_date:F.toISOString().split("T")[0]})},children:" 7 "}),e.jsx("button",{className:"btn btn-outline-primary",onClick:()=>{const F=new Date,Q=new Date(F.getFullYear(),F.getMonth(),1);l({start_date:Q.toISOString().split("T")[0],end_date:F.toISOString().split("T")[0]})},children:" "})]})]})]})})})})}),e.jsxs("ul",{className:"nav nav-tabs mb-4",children:[e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:`nav-link ${n==="financial"?"active":""}`,onClick:()=>a("financial"),children:[e.jsx("i",{className:"fas fa-dollar-sign me-2"})," "]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:`nav-link ${n==="appointments"?"active":""}`,onClick:()=>a("appointments"),children:[e.jsx("i",{className:"fas fa-calendar-check me-2"})," "]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:`nav-link ${n==="patients"?"active":""}`,onClick:()=>a("patients"),children:[e.jsx("i",{className:"fas fa-users me-2"})," "]})})]}),n==="financial"&&e.jsx("div",{children:d?e.jsx("div",{className:"d-flex justify-content-center py-5",children:e.jsx(je,{size:"lg"})}):o?e.jsxs("div",{children:[e.jsxs("div",{className:"row mb-4",children:[e.jsx("div",{className:"col-md-3 mb-3",children:e.jsxs("div",{className:"dashboard-card text-center",children:[e.jsx("div",{className:"text-success mb-2",children:e.jsx("i",{className:"fas fa-money-bill-wave fs-2"})}),e.jsx("h4",{className:"text-success mb-1",children:g(((j=o.revenue_metrics)==null?void 0:j.total_revenue)||0)}),e.jsx("p",{className:"text-muted mb-0",children:" "})]})}),e.jsx("div",{className:"col-md-3 mb-3",children:e.jsxs("div",{className:"dashboard-card text-center",children:[e.jsx("div",{className:"text-primary mb-2",children:e.jsx("i",{className:"fas fa-chart-line fs-2"})}),e.jsx("h4",{className:"text-primary mb-1",children:g(((f=o.revenue_metrics)==null?void 0:f.net_revenue)||0)}),e.jsx("p",{className:"text-muted mb-0",children:" "})]})}),e.jsx("div",{className:"col-md-3 mb-3",children:e.jsxs("div",{className:"dashboard-card text-center",children:[e.jsx("div",{className:"text-warning mb-2",children:e.jsx("i",{className:"fas fa-percentage fs-2"})}),e.jsx("h4",{className:"text-warning mb-1",children:g(((p=o.revenue_metrics)==null?void 0:p.total_discounts)||0)}),e.jsx("p",{className:"text-muted mb-0",children:" "})]})}),e.jsx("div",{className:"col-md-3 mb-3",children:e.jsxs("div",{className:"dashboard-card text-center",children:[e.jsx("div",{className:"text-info mb-2",children:e.jsx("i",{className:"fas fa-credit-card fs-2"})}),e.jsx("h4",{className:"text-info mb-1",children:g(((v=o.revenue_metrics)==null?void 0:v.total_fees)||0)}),e.jsx("p",{className:"text-muted mb-0",children:" "})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-6 mb-4",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h5",{className:"mb-0",children:"   "})}),e.jsx("div",{className:"card-body",children:((N=o.revenue_by_provider)==null?void 0:N.length)>0?e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:" "}),e.jsx("th",{children:""}),e.jsx("th",{children:""}),e.jsx("th",{children:""})]})}),e.jsx("tbody",{children:o.revenue_by_provider.map((F,Q)=>e.jsxs("tr",{children:[e.jsx("td",{children:F.provider__display_name}),e.jsx("td",{children:e.jsx("span",{className:"badge bg-primary",children:F.count})}),e.jsx("td",{className:"fw-bold",children:g(F.amount)}),e.jsx("td",{className:"text-muted",children:g(F.fees)})]},Q))})]})}):e.jsx("p",{className:"text-muted text-center py-4",children:"  "})})]})}),e.jsx("div",{className:"col-lg-6 mb-4",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h5",{className:"mb-0",children:"   "})}),e.jsx("div",{className:"card-body",children:((y=o.revenue_by_service)==null?void 0:y.length)>0?e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:" "}),e.jsx("th",{children:""}),e.jsx("th",{children:""}),e.jsx("th",{children:""})]})}),e.jsx("tbody",{children:o.revenue_by_service.map((F,Q)=>{const R=o.revenue_by_service.reduce((le,z)=>le+z.amount,0),I=R>0?(F.amount/R*100).toFixed(1):0;return e.jsxs("tr",{children:[e.jsxs("td",{children:[F.service_type==="consultation"&&"",F.service_type==="meal_plan"&&" ",F.service_type==="subscription"&&""]}),e.jsx("td",{children:e.jsx("span",{className:"badge bg-info",children:F.count})}),e.jsx("td",{className:"fw-bold",children:g(F.amount)}),e.jsxs("td",{children:[I,"%"]})]},Q)})})]})}):e.jsx("p",{className:"text-muted text-center py-4",children:"  "})})]})}),e.jsx("div",{className:"col-12 mb-4",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h5",{className:"mb-0",children:" "})}),e.jsx("div",{className:"card-body",children:((w=o.doctor_performance)==null?void 0:w.length)>0?e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:""}),e.jsx("th",{children:" "}),e.jsx("th",{children:" "}),e.jsx("th",{children:"   "})]})}),e.jsx("tbody",{children:o.doctor_performance.map((F,Q)=>e.jsxs("tr",{children:[e.jsxs("td",{children:[". ",F.appointment__doctor__first_name," ",F.appointment__doctor__last_name]}),e.jsx("td",{children:e.jsx("span",{className:"badge bg-primary",children:F.appointments_count})}),e.jsx("td",{className:"fw-bold",children:g(F.total_revenue)}),e.jsx("td",{children:g(F.total_revenue/F.appointments_count)})]},Q))})]})}):e.jsx("p",{className:"text-muted text-center py-4",children:"  "})})]})})]})]}):null}),n==="appointments"&&e.jsx("div",{children:u?e.jsx("div",{className:"d-flex justify-content-center py-5",children:e.jsx(je,{size:"lg"})}):c?e.jsxs("div",{children:[e.jsx("div",{className:"row mb-4",children:(k=c.status_breakdown)==null?void 0:k.map((F,Q)=>e.jsx("div",{className:"col-md-3 mb-3",children:e.jsxs("div",{className:"dashboard-card text-center",children:[e.jsx("div",{className:`mb-2 ${F.status==="completed"?"text-success":F.status==="confirmed"?"text-info":F.status==="pending"?"text-warning":"text-danger"}`,children:e.jsx("i",{className:"fas fa-calendar-check fs-2"})}),e.jsx("h4",{className:"mb-1",children:x(F.count)}),e.jsxs("p",{className:"text-muted mb-0",children:[F.status==="completed"&&"",F.status==="confirmed"&&"",F.status==="pending"&&" ",F.status==="cancelled"&&""]})]})},Q))}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-6 mb-4",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h5",{className:"mb-0",children:" "})}),e.jsx("div",{className:"card-body",children:((O=c.type_breakdown)==null?void 0:O.length)>0?e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:" "}),e.jsx("th",{children:""}),e.jsx("th",{children:""})]})}),e.jsx("tbody",{children:c.type_breakdown.map((F,Q)=>{const R=c.type_breakdown.reduce((le,z)=>le+z.count,0),I=R>0?(F.count/R*100).toFixed(1):0;return e.jsxs("tr",{children:[e.jsx("td",{children:F.appointment_type}),e.jsx("td",{children:e.jsx("span",{className:"badge bg-primary",children:F.count})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"progress flex-grow-1 me-2",style:{height:"8px"},children:e.jsx("div",{className:"progress-bar bg-info",style:{width:`${I}%`}})}),e.jsxs("small",{children:[I,"%"]})]})})]},Q)})})]})}):e.jsx("p",{className:"text-muted text-center py-4",children:"  "})})]})}),e.jsx("div",{className:"col-lg-6 mb-4",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h5",{className:"mb-0",children:" "})}),e.jsx("div",{className:"card-body",children:((M=c.peak_hours)==null?void 0:M.length)>0?e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:""}),e.jsx("th",{children:" "})]})}),e.jsx("tbody",{children:c.peak_hours.map((F,Q)=>e.jsxs("tr",{children:[e.jsxs("td",{children:[F.hour,":00"]}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("span",{className:"badge bg-warning me-2",children:F.count}),e.jsx("div",{className:"progress flex-grow-1",style:{height:"8px"},children:e.jsx("div",{className:"progress-bar bg-warning",style:{width:`${F.count/Math.max(...c.peak_hours.map(R=>R.count))*100}%`}})})]})})]},Q))})]})}):e.jsx("p",{className:"text-muted text-center py-4",children:"  "})})]})})]})]}):null}),n==="patients"&&e.jsx("div",{children:h?e.jsx("div",{className:"d-flex justify-content-center py-5",children:e.jsx(je,{size:"lg"})}):m?e.jsxs("div",{children:[e.jsxs("div",{className:"row mb-4",children:[e.jsx("div",{className:"col-md-4 mb-3",children:e.jsxs("div",{className:"dashboard-card text-center",children:[e.jsx("div",{className:"text-primary mb-2",children:e.jsx("i",{className:"fas fa-users fs-2"})}),e.jsx("h4",{className:"text-primary mb-1",children:x(m.total_patients||0)}),e.jsx("p",{className:"text-muted mb-0",children:" "})]})}),e.jsx("div",{className:"col-md-4 mb-3",children:e.jsxs("div",{className:"dashboard-card text-center",children:[e.jsx("div",{className:"text-success mb-2",children:e.jsx("i",{className:"fas fa-user-plus fs-2"})}),e.jsx("h4",{className:"text-success mb-1",children:((B=m.new_patients_trend)==null?void 0:B.reduce((F,Q)=>F+Q.count,0))||0}),e.jsx("p",{className:"text-muted mb-0",children:"  (6 )"})]})}),e.jsx("div",{className:"col-md-4 mb-3",children:e.jsxs("div",{className:"dashboard-card text-center",children:[e.jsx("div",{className:"text-info mb-2",children:e.jsx("i",{className:"fas fa-chart-line fs-2"})}),e.jsx("h4",{className:"text-info mb-1",children:"85%"}),e.jsx("p",{className:"text-muted mb-0",children:" "})]})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-6 mb-4",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h5",{className:"mb-0",children:" "})}),e.jsx("div",{className:"card-body",children:((G=m.gender_distribution)==null?void 0:G.length)>0?e.jsx("div",{className:"row text-center",children:m.gender_distribution.map((F,Q)=>e.jsx("div",{className:"col-6",children:e.jsxs("div",{className:`bg-${F.gender==="male"?"primary":"success"} bg-opacity-10 rounded-3 p-3`,children:[e.jsx("h3",{className:`text-${F.gender==="male"?"primary":"success"} mb-1`,children:x(F.count)}),e.jsx("small",{className:"text-muted",children:F.gender==="male"?"":""})]})},Q))}):e.jsx("p",{className:"text-muted text-center py-4",children:"  "})})]})}),e.jsx("div",{className:"col-lg-6 mb-4",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h5",{className:"mb-0",children:" "})}),e.jsx("div",{className:"card-body",children:((ee=m.goal_distribution)==null?void 0:ee.length)>0?e.jsx("div",{className:"table-responsive",children:e.jsxs("table",{className:"table table-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:""}),e.jsx("th",{children:""}),e.jsx("th",{children:""})]})}),e.jsx("tbody",{children:m.goal_distribution.map((F,Q)=>{const R=m.goal_distribution.reduce((le,z)=>le+z.count,0),I=R>0?(F.count/R*100).toFixed(1):0;return e.jsxs("tr",{children:[e.jsxs("td",{children:[F.goal==="lose_weight"&&" ",F.goal==="gain_weight"&&" ",F.goal==="maintain_weight"&&"  ",F.goal==="build_muscle"&&" ",F.goal==="improve_health"&&" "]}),e.jsx("td",{children:e.jsx("span",{className:"badge bg-success",children:F.count})}),e.jsxs("td",{children:[I,"%"]})]},Q)})})]})}):e.jsx("p",{className:"text-muted text-center py-4",children:"  "})})]})})]})]}):null})]})},mb=()=>{const{t}=$e();return e.jsxs("div",{className:"fade-in",children:[e.jsx("div",{className:"row mb-4",children:e.jsxs("div",{className:"col-12",children:[e.jsxs("h2",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-cog text-secondary me-2"})," "]}),e.jsx("p",{className:"text-muted",children:"   "})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body text-center py-5",children:[e.jsx("i",{className:"fas fa-cog text-muted fs-1 mb-3"}),e.jsx("h5",{className:"text-muted",children:" "}),e.jsx("p",{className:"text-muted",children:"   "})]})})]})},hb=()=>{const{user:t}=Qe(),[s,n]=C.useState([]),[a,i]=C.useState(null),[l,o]=C.useState(!1),[d,c]=C.useState(null),[u,m]=C.useState([]),[h,g]=C.useState(null),[x,b]=C.useState(""),[_,j]=C.useState(null),[f,p]=C.useState([]),[v,N]=C.useState(!1),[y,w]=C.useState(null),[k,O]=C.useState(""),[M,B]=C.useState(""),[G,ee]=C.useState(!1),[F,Q]=C.useState(null),R=(t==null?void 0:t.role)==="patient";C.useEffect(()=>{const E=new URLSearchParams(window.location.search),q=E.get("patient"),$=E.get("plan");q&&(b(q),g(q)),$&&w($)},[]),C.useEffect(()=>{y&&h&&te.get(`/api/meals/meal-plans/${y}/`).then(E=>{const q=E.data;if(console.log("Selected meal plan:",q),q.diet_plan){const $=s.find(J=>{var se,P;return((se=J.name_ar)==null?void 0:se.toLowerCase().includes(q.diet_plan.toLowerCase()))||((P=J.name)==null?void 0:P.toLowerCase().includes(q.diet_plan.toLowerCase()))});$&&i($)}if(q.start_date&&q.end_date){const $=new Date(q.start_date).toISOString().split("T")[0],J=new Date(q.end_date).toISOString().split("T")[0];O($),B(J),console.log("Dates set:",{startDateFormatted:$,endDateFormatted:J})}}).catch(E=>{console.error("Error fetching meal plan:",E)})},[y,h,s]);const I={container:{maxWidth:"1200px",margin:"0 auto",padding:"20px",fontFamily:"Arial, sans-serif",direction:"rtl"},header:{textAlign:"center",marginBottom:"30px",color:"#2c3e50"},card:{background:"white",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",padding:"20px",marginBottom:"20px"},button:{background:"#3498db",color:"white",border:"none",padding:"12px 24px",borderRadius:"4px",cursor:"pointer",fontSize:"16px",margin:"5px"},buttonSecondary:{background:"#95a5a6",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",fontSize:"14px",margin:"2px"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px",marginTop:"20px"},templateCard:{border:"1px solid #ddd",borderRadius:"8px",padding:"15px",background:"#f9f9f9",cursor:"pointer",transition:"all 0.3s ease"},templateCardSelected:{border:"2px solid #3498db",background:"#f0f8ff"},mealSchedule:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"15px",marginTop:"20px"},mealCard:{background:"#f8f9fa",padding:"15px",borderRadius:"6px",border:"1px solid #e9ecef"},mealTitle:{fontSize:"18px",fontWeight:"bold",color:"#2c3e50",marginBottom:"10px",textAlign:"center"},foodItem:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px",background:"white",borderRadius:"4px",marginBottom:"5px",border:"1px solid #eee"},nutritionGrid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"10px",marginTop:"20px"},nutritionCard:{background:"#e8f5e8",padding:"15px",borderRadius:"6px",textAlign:"center",border:"1px solid #4caf50"},progressContainer:{width:"100%",height:"20px",backgroundColor:"#e0e0e0",borderRadius:"10px",overflow:"hidden",marginTop:"5px"},progressBar:{height:"100%",borderRadius:"10px",transition:"width 0.3s ease",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"12px",fontWeight:"bold"},nutritionDetail:{padding:"10px",background:"white",borderRadius:"4px",border:"1px solid #ddd"},nutritionValue:{fontSize:"20px",fontWeight:"bold",color:"#2c3e50",marginBottom:"5px"},nutritionLabel:{fontSize:"12px",color:"#666",textTransform:"uppercase"},loading:{textAlign:"center",padding:"20px",color:"#666"},summary:{background:"#e8f5e8",padding:"20px",borderRadius:"8px",marginTop:"20px",border:"1px solid #4caf50"}},le=[{id:1,name:"   -  1",name_ar:"   -  1",description:"       ",target_calories:2e3,meals:[{type:"",name:" ",foods:[{name:"",amount:50,calories:34},{name:"",amount:200,calories:84}]},{type:"  ",name:"  ",foods:[{name:"",amount:150,calories:78}]},{type:"",name:" ",foods:[{name:" ",amount:150,calories:248},{name:" ",amount:200,calories:50},{name:" ",amount:100,calories:111}]},{type:"  ",name:"  ",foods:[{name:" ",amount:150,calories:89}]},{type:"",name:" ",foods:[{name:" ",amount:250,calories:290},{name:"",amount:100,calories:20}]}]},{id:2,name:"   -  2",name_ar:"   -  2",description:"      ",target_calories:1800,meals:[{type:"",name:" ",foods:[{name:"",amount:100,calories:155},{name:" ",amount:50,calories:124},{name:"",amount:100,calories:16},{name:"",amount:100,calories:18}]},{type:"  ",name:"  ",foods:[{name:"",amount:15,calories:87}]},{type:"",name:" ",foods:[{name:"",amount:150,calories:309},{name:"",amount:150,calories:30},{name:" ",amount:30,calories:74}]},{type:"  ",name:"  ",foods:[{name:"",amount:100,calories:32}]},{type:"",name:" ",foods:[{name:"",amount:100,calories:132},{name:"",amount:150,calories:30}]}]},{id:3,name:"   -  3",name_ar:"   -  3",description:"       ",target_calories:1900,meals:[{type:"",name:" ",foods:[{name:"",amount:100,calories:59},{name:" ",amount:50,calories:124},{name:" ",amount:10,calories:88}]},{type:"  ",name:"  ",foods:[{name:"",amount:150,calories:71}]},{type:"",name:" ",foods:[{name:" ",amount:120,calories:300},{name:" ",amount:200,calories:50},{name:"",amount:100,calories:83}]},{type:"  ",name:"  ",foods:[{name:" ",amount:150,calories:89}]},{type:"",name:" ",foods:[{name:"",amount:100,calories:155},{name:"  ",amount:150,calories:38}]}]}];C.useEffect(()=>{z(),R?(g({id:t.id,name:`${t.first_name} ${t.last_name}`,email:t.email,phone:t.phone}),b(t.id)):T()},[R,t]);const z=async()=>{o(!0);try{const E=await te.get("/api/meals/meal-templates/");E.data&&E.data.templates?n(E.data.templates):n(le)}catch(E){console.error("    :",E),n(le)}finally{o(!1)}},T=async()=>{try{const E=await te.get("/api/meals/patients/");E.data&&E.data.patients?m(E.data.patients):m([])}catch(E){console.error("    :",E),j("    ."),m([])}},W=E=>{console.log("Selecting patient:",E);try{g(E),b(E.id),console.log("Patient selected successfully:",E.id),X(E.id)}catch(q){console.error("Error selecting patient:",q)}},X=async E=>{o(!0);try{const q=await te.get(`/api/meals/meal-plans/?patient=${E}`);p(q.data.results||[]),N(!0)}catch(q){console.error("    :",q),j("    ")}finally{o(!1)}},ae=E=>{i(E),me(E)},D=(E,q)=>{const $=[];console.log("generateDailyMealVariations called with:",{dietType:E,days:q,startDate:k});const J={:[[{name:"  ",ingredients:[{food_name_ar:" ",amount:80,calories:200,protein:6,carbs:40,fat:2},{food_name_ar:" ",amount:20,calories:180,protein:0,carbs:0,fat:20},{food_name_ar:" ",amount:80,calories:120,protein:12,carbs:2,fat:8},{food_name_ar:"",amount:60,calories:15,protein:1,carbs:3,fat:0},{food_name_ar:"",amount:40,calories:8,protein:0,carbs:2,fat:0}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:150,calories:300,protein:45,carbs:0,fat:12},{food_name_ar:" ",amount:120,calories:400,protein:8,carbs:80,fat:2},{food_name_ar:" ",amount:150,calories:60,protein:3,carbs:12,fat:1},{food_name_ar:" ",amount:15,calories:135,protein:0,carbs:0,fat:15}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:120,calories:240,protein:36,carbs:0,fat:8},{food_name_ar:" ",amount:120,calories:48,protein:2,carbs:10,fat:1},{food_name_ar:" ",amount:150,calories:90,protein:9,carbs:6,fat:5}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:20,calories:130,protein:3,carbs:2,fat:13},{food_name_ar:" ",amount:100,calories:50,protein:1,carbs:12,fat:0}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:100,calories:250,protein:25,carbs:5,fat:15},{food_name_ar:" ",amount:80,calories:32,protein:2,carbs:6,fat:1}]}],[{name:"  ",ingredients:[{food_name_ar:" ",amount:70,calories:175,protein:7,carbs:35,fat:2},{food_name_ar:"",amount:50,calories:80,protein:1,carbs:4,fat:7},{food_name_ar:" ",amount:60,calories:90,protein:8,carbs:1,fat:6},{food_name_ar:" ",amount:80,calories:20,protein:1,carbs:4,fat:0}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:140,calories:280,protein:42,carbs:0,fat:10},{food_name_ar:" ",amount:100,calories:350,protein:7,carbs:70,fat:3},{food_name_ar:" ",amount:130,calories:52,protein:3,carbs:10,fat:1},{food_name_ar:" ",amount:25,calories:40,protein:0,carbs:1,fat:4}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:130,calories:260,protein:39,carbs:0,fat:10},{food_name_ar:" ",amount:110,calories:44,protein:2,carbs:9,fat:1},{food_name_ar:" ",amount:120,calories:72,protein:7,carbs:5,fat:4}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:25,calories:150,protein:6,carbs:3,fat:13},{food_name_ar:" ",amount:15,calories:60,protein:0,carbs:15,fat:0}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:90,calories:225,protein:22,carbs:8,fat:12},{food_name_ar:" ",amount:100,calories:40,protein:2,carbs:8,fat:1}]}]],:[[{name:"  ",ingredients:[{food_name_ar:" ",amount:100,calories:155,protein:13,carbs:1,fat:11},{food_name_ar:" ",amount:50,calories:150,protein:3,carbs:2,fat:15},{food_name_ar:" ",amount:15,calories:135,protein:0,carbs:0,fat:15},{food_name_ar:" ",amount:20,calories:130,protein:3,carbs:2,fat:13}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:150,calories:375,protein:45,carbs:0,fat:20},{food_name_ar:" ",amount:200,calories:80,protein:4,carbs:16,fat:1},{food_name_ar:" ",amount:20,calories:180,protein:0,carbs:0,fat:20}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:120,calories:240,protein:36,carbs:0,fat:10},{food_name_ar:" ",amount:150,calories:60,protein:3,carbs:12,fat:1},{food_name_ar:" ",amount:60,calories:90,protein:9,carbs:1,fat:6}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:25,calories:163,protein:4,carbs:3,fat:16},{food_name_ar:" ",amount:40,calories:120,protein:2,carbs:2,fat:12}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:100,calories:250,protein:25,carbs:5,fat:15},{food_name_ar:" ",amount:80,calories:32,protein:2,carbs:6,fat:1}]}],[{name:"  ",ingredients:[{food_name_ar:" ",amount:120,calories:200,protein:16,carbs:2,fat:15},{food_name_ar:"",amount:60,calories:96,protein:1,carbs:5,fat:9},{food_name_ar:" ",amount:25,calories:150,protein:6,carbs:3,fat:13}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:140,calories:280,protein:42,carbs:0,fat:10},{food_name_ar:" ",amount:180,calories:72,protein:4,carbs:14,fat:1},{food_name_ar:"  ",amount:15,calories:135,protein:0,carbs:0,fat:15}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:130,calories:260,protein:39,carbs:0,fat:10},{food_name_ar:" ",amount:160,calories:64,protein:3,carbs:13,fat:1},{food_name_ar:" ",amount:50,calories:200,protein:12,carbs:1,fat:16}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:20,calories:120,protein:4,carbs:2,fat:10},{food_name_ar:" ",amount:60,calories:90,protein:9,carbs:3,fat:6}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:90,calories:225,protein:22,carbs:8,fat:12},{food_name_ar:" ",amount:100,calories:40,protein:2,carbs:8,fat:1}]}],[{name:"  ",ingredients:[{food_name_ar:" ",amount:75,calories:188,protein:6,carbs:38,fat:2},{food_name_ar:" ",amount:70,calories:105,protein:10,carbs:1,fat:7},{food_name_ar:" ",amount:18,calories:162,protein:0,carbs:0,fat:18},{food_name_ar:" ",amount:40,calories:20,protein:1,carbs:4,fat:0},{food_name_ar:" ",amount:45,calories:9,protein:0,carbs:2,fat:0}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:160,calories:320,protein:48,carbs:0,fat:12},{food_name_ar:" ",amount:110,calories:385,protein:7,carbs:77,fat:2},{food_name_ar:" ",amount:140,calories:56,protein:3,carbs:11,fat:1},{food_name_ar:" ",amount:30,calories:50,protein:0,carbs:2,fat:5}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:130,calories:260,protein:39,carbs:0,fat:9},{food_name_ar:" ",amount:130,calories:52,protein:2,carbs:11,fat:1},{food_name_ar:" ",amount:140,calories:84,protein:8,carbs:7,fat:5}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:25,calories:150,protein:5,carbs:3,fat:13},{food_name_ar:" ",amount:20,calories:80,protein:0,carbs:20,fat:0}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:95,calories:238,protein:24,carbs:6,fat:14},{food_name_ar:" ",amount:90,calories:36,protein:2,carbs:7,fat:1}]}],[{name:"  ",ingredients:[{food_name_ar:" ",amount:120,calories:186,protein:16,carbs:1,fat:13},{food_name_ar:" ",amount:60,calories:240,protein:15,carbs:1,fat:20},{food_name_ar:"  ",amount:12,calories:108,protein:0,carbs:0,fat:12},{food_name_ar:" ",amount:25,calories:163,protein:4,carbs:3,fat:16}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:160,calories:400,protein:48,carbs:0,fat:22},{food_name_ar:" ",amount:200,calories:80,protein:4,carbs:16,fat:1},{food_name_ar:" ",amount:25,calories:225,protein:0,carbs:0,fat:25}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:140,calories:280,protein:42,carbs:0,fat:12},{food_name_ar:" ",amount:170,calories:68,protein:3,carbs:14,fat:1},{food_name_ar:" ",amount:70,calories:105,protein:10,carbs:4,fat:7}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:25,calories:150,protein:5,carbs:3,fat:13},{food_name_ar:" ",amount:45,calories:135,protein:3,carbs:2,fat:14}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:105,calories:263,protein:26,carbs:9,fat:14},{food_name_ar:" ",amount:85,calories:34,protein:2,carbs:7,fat:1}]}]],:[[{name:"  ",ingredients:[{food_name_ar:" ",amount:150,calories:233,protein:20,carbs:2,fat:16},{food_name_ar:" ",amount:100,calories:150,protein:15,carbs:2,fat:10},{food_name_ar:" ",amount:60,calories:150,protein:5,carbs:30,fat:1},{food_name_ar:" ",amount:10,calories:90,protein:0,carbs:0,fat:10}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:180,calories:360,protein:54,carbs:0,fat:12},{food_name_ar:" ",amount:100,calories:350,protein:7,carbs:70,fat:2},{food_name_ar:" ",amount:120,calories:48,protein:2,carbs:10,fat:1},{food_name_ar:" ",amount:150,calories:90,protein:9,carbs:6,fat:5}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:140,calories:350,protein:42,carbs:0,fat:18},{food_name_ar:" ",amount:100,calories:40,protein:2,carbs:8,fat:1},{food_name_ar:" ",amount:80,calories:120,protein:12,carbs:4,fat:8}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:30,calories:195,protein:5,carbs:3,fat:20},{food_name_ar:" ",amount:60,calories:90,protein:9,carbs:1,fat:6}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:120,calories:300,protein:30,carbs:6,fat:18},{food_name_ar:" ",amount:80,calories:32,protein:2,carbs:6,fat:1}]}],[{name:"  ",ingredients:[{food_name_ar:" ",amount:80,calories:160,protein:30,carbs:0,fat:4},{food_name_ar:" ",amount:80,calories:120,protein:12,carbs:4,fat:8},{food_name_ar:" ",amount:50,calories:125,protein:5,carbs:25,fat:1},{food_name_ar:" ",amount:100,calories:60,protein:6,carbs:4,fat:3}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:160,calories:320,protein:48,carbs:0,fat:12},{food_name_ar:" ",amount:80,calories:280,protein:6,carbs:56,fat:2},{food_name_ar:" ",amount:100,calories:40,protein:2,carbs:8,fat:1},{food_name_ar:" ",amount:70,calories:105,protein:10,carbs:1,fat:7}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:130,calories:325,protein:39,carbs:0,fat:17},{food_name_ar:" ",amount:90,calories:36,protein:2,carbs:7,fat:1},{food_name_ar:" ",amount:60,calories:240,protein:15,carbs:1,fat:20}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:30,calories:180,protein:7,carbs:4,fat:16},{food_name_ar:" ",amount:50,calories:150,protein:3,carbs:2,fat:15}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:110,calories:275,protein:27,carbs:10,fat:15},{food_name_ar:" ",amount:100,calories:40,protein:2,carbs:8,fat:1}]}],[{name:"  ",ingredients:[{food_name_ar:" ",amount:140,calories:233,protein:19,carbs:2,fat:18},{food_name_ar:" ",amount:90,calories:135,protein:14,carbs:2,fat:9},{food_name_ar:" ",amount:55,calories:138,protein:4,carbs:28,fat:1},{food_name_ar:" ",amount:8,calories:72,protein:0,carbs:0,fat:8}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:170,calories:425,protein:51,carbs:0,fat:23},{food_name_ar:" ",amount:90,calories:315,protein:6,carbs:63,fat:2},{food_name_ar:" ",amount:110,calories:44,protein:2,carbs:9,fat:1},{food_name_ar:" ",amount:130,calories:78,protein:8,carbs:5,fat:4}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:150,calories:300,protein:45,carbs:0,fat:12},{food_name_ar:" ",amount:95,calories:38,protein:2,carbs:8,fat:1},{food_name_ar:" ",amount:70,calories:280,protein:17,carbs:1,fat:23}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:35,calories:210,protein:8,carbs:4,fat:18},{food_name_ar:" ",amount:70,calories:105,protein:10,carbs:1,fat:7}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:115,calories:288,protein:29,carbs:7,fat:17},{food_name_ar:" ",amount:85,calories:34,protein:2,carbs:7,fat:1}]}]],:[[{name:"  ",ingredients:[{food_name_ar:" ",amount:80,calories:200,protein:6,carbs:40,fat:2},{food_name_ar:" ",amount:80,calories:120,protein:12,carbs:2,fat:8},{food_name_ar:" ",amount:15,calories:135,protein:0,carbs:0,fat:15},{food_name_ar:"",amount:60,calories:15,protein:1,carbs:3,fat:0},{food_name_ar:"",amount:40,calories:8,protein:0,carbs:2,fat:0}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:150,calories:300,protein:45,carbs:0,fat:10},{food_name_ar:" ",amount:120,calories:400,protein:8,carbs:80,fat:2},{food_name_ar:" ",amount:150,calories:60,protein:3,carbs:12,fat:1},{food_name_ar:" ",amount:120,calories:72,protein:7,carbs:5,fat:4}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:120,calories:240,protein:36,carbs:0,fat:10},{food_name_ar:" ",amount:120,calories:48,protein:2,carbs:10,fat:1},{food_name_ar:" ",amount:40,calories:100,protein:4,carbs:20,fat:1}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:120,calories:60,protein:1,carbs:15,fat:0},{food_name_ar:" ",amount:15,calories:98,protein:2,carbs:1,fat:10}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:100,calories:250,protein:25,carbs:5,fat:15},{food_name_ar:" ",amount:80,calories:32,protein:2,carbs:6,fat:1}]}],[{name:"  ",ingredients:[{food_name_ar:" ",amount:70,calories:175,protein:7,carbs:35,fat:2},{food_name_ar:" ",amount:60,calories:90,protein:8,carbs:1,fat:6},{food_name_ar:" ",amount:12,calories:108,protein:0,carbs:0,fat:12},{food_name_ar:" ",amount:80,calories:20,protein:1,carbs:4,fat:0}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:140,calories:350,protein:42,carbs:0,fat:18},{food_name_ar:" ",amount:100,calories:350,protein:7,carbs:70,fat:3},{food_name_ar:" ",amount:130,calories:52,protein:3,carbs:10,fat:1},{food_name_ar:" ",amount:100,calories:60,protein:6,carbs:4,fat:3}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:110,calories:220,protein:33,carbs:0,fat:8},{food_name_ar:" ",amount:110,calories:44,protein:2,carbs:9,fat:1},{food_name_ar:" ",amount:30,calories:75,protein:2,carbs:15,fat:1}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:20,calories:120,protein:5,carbs:2,fat:10},{food_name_ar:" ",amount:10,calories:40,protein:0,carbs:10,fat:0}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:90,calories:225,protein:22,carbs:8,fat:12},{food_name_ar:" ",amount:100,calories:40,protein:2,carbs:8,fat:1}]}],[{name:"  ",ingredients:[{food_name_ar:" ",amount:75,calories:188,protein:6,carbs:38,fat:2},{food_name_ar:" ",amount:70,calories:105,protein:10,carbs:1,fat:7},{food_name_ar:" ",amount:15,calories:135,protein:0,carbs:0,fat:15},{food_name_ar:" ",amount:50,calories:25,protein:1,carbs:5,fat:0},{food_name_ar:" ",amount:45,calories:9,protein:0,carbs:2,fat:0}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:150,calories:375,protein:45,carbs:0,fat:20},{food_name_ar:" ",amount:110,calories:385,protein:7,carbs:77,fat:2},{food_name_ar:" ",amount:140,calories:56,protein:3,carbs:11,fat:1},{food_name_ar:" ",amount:120,calories:72,protein:7,carbs:6,fat:4}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:120,calories:240,protein:36,carbs:0,fat:8},{food_name_ar:" ",amount:130,calories:52,protein:2,carbs:11,fat:1},{food_name_ar:" ",amount:35,calories:88,protein:3,carbs:18,fat:1}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:20,calories:120,protein:4,carbs:2,fat:10},{food_name_ar:" ",amount:15,calories:60,protein:0,carbs:15,fat:0}]},{name:"  ",ingredients:[{food_name_ar:" ",amount:100,calories:250,protein:25,carbs:5,fat:15},{food_name_ar:" ",amount:90,calories:36,protein:2,carbs:7,fat:1}]}]]},se=E.toLowerCase();let P="";se.includes("")||se.includes("keto")?P="":se.includes("")||se.includes("protein")?P="":se.includes("")||se.includes("mediterranean")?P="":(se.includes("")||se.includes("balanced"))&&(P="");const V=J[P]||J.;for(let ce=1;ce<=q;ce++){const ve=(ce-1)%V.length,_e=V[ve],ze=new Date(k);ze.setDate(ze.getDate()+(ce-1)),console.log(`Day ${ce}:`,{startDate:k,currentDate:ze.toISOString().split("T")[0],dateString:ze.toLocaleDateString("ar-SA",{calendar:"gregory"})});const Pt={day:ce,date:ze,dateString:ze.toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric",calendar:"gregory"}),template:{name_ar:`${E} -  ${ce}`,name:`${E} - Day ${ce}`},meals:_e.map((et,it)=>({...et,name:`${et.name}`,day:ce,template_name:`${E} -  ${ce}`,id:`day-${ce}-meal-${it}`}))};$.push(Pt)}return $},Y=(E,q)=>{const $=new Date(E),se=new Date(q).getTime()-$.getTime();return Math.ceil(se/(1e3*3600*24))+1},K=()=>{if(!k||!M||!a){alert("    ");return}console.log("Generating meal plan with dates:",{startDate:k,endDate:M,selectedTemplate:a.name_ar});const E=Y(k,M);if(E<=0){alert("       ");return}if(E>30){alert("       30 ");return}console.log("Calculated days:",E);const q=D(a.name_ar||a.name,E);console.log("Generated meal plan:",q),Q(q),ee(!0)},re=E=>{const q=(E==null?void 0:E.toLowerCase())||"";return q.includes("")||q.includes("keto")?{title:"    (5 )",meals:[{name:"   ",ingredients:["   (50g)","  (100g)","  (20ml)","  (2 )","  (200ml)"],nutrition:{calories:380,protein:25,carbs:8,fat:28}},{name:"   ",ingredients:["  (150g)","  (120g)","  (15ml)","  (80g)","  (100ml)"],nutrition:{calories:520,protein:45,carbs:12,fat:32}},{name:"   ",ingredients:["  (120g)","  (100g)","  (10ml)","  (60g)","  (150ml)"],nutrition:{calories:350,protein:35,carbs:6,fat:20}},{name:"   ",ingredients:["  (20g)","  (40g)","  (15g)","  (100ml)"],nutrition:{calories:280,protein:12,carbs:4,fat:24}},{name:"   ",ingredients:["  (100g)","  (80g)","  (10ml)","  (80ml)"],nutrition:{calories:320,protein:28,carbs:5,fat:22}}]}:q.includes("")||q.includes("weight_loss")?{title:"     (5 )",meals:[{name:"    ",ingredients:["  (60g)","    (60g)"," (40g)"," (30g)","  (200ml)"],nutrition:{calories:280,protein:15,carbs:35,fat:8}},{name:"    ",ingredients:["  (100g)","  (80g)","  (120g)","  (100g)"],nutrition:{calories:450,protein:35,carbs:45,fat:12}},{name:"    ",ingredients:["  (150ml)","  (40g)","  (80g)","  (100ml)"],nutrition:{calories:250,protein:12,carbs:35,fat:6}},{name:"    ",ingredients:["  (100g)","   (150ml)","  (100ml)"],nutrition:{calories:120,protein:6,carbs:20,fat:2}},{name:"    ",ingredients:["  (80g)","  (100g)","  (60g)","  (150ml)"],nutrition:{calories:200,protein:20,carbs:15,fat:8}}]}:q.includes("")||q.includes("protein")||q.includes("")||q.includes("muscle")||q.includes(" ")||q.includes("high_protein")?{title:"    (5 )",meals:[{name:"   ",ingredients:["  (3 )","  (100g)","  (80g)","  (10ml)"," (50g)","  (200ml)"],nutrition:{calories:450,protein:35,carbs:30,fat:20}},{name:"   ",ingredients:["  (150g)","  (100g)","  (120g)","  (100g)","  (100ml)"],nutrition:{calories:650,protein:55,carbs:50,fat:25}},{name:"   ",ingredients:["  (120g)","  (100g)","  (60g)","  (50g)","  (150ml)"],nutrition:{calories:420,protein:40,carbs:25,fat:18}},{name:"   ",ingredients:["  (25g)","  (50g)","  (150ml)","  (100ml)"],nutrition:{calories:350,protein:20,carbs:15,fat:25}},{name:"   ",ingredients:["  (120g)","  (80g)","  (40g)","  (100ml)"],nutrition:{calories:380,protein:35,carbs:20,fat:22}}]}:q.includes("")||q.includes("weight_gain")?{title:"     (5 )",meals:[{name:"    ",ingredients:["  (120g)","  (100g)","  (20ml)","  (15g)","  (200ml)"],nutrition:{calories:520,protein:22,carbs:55,fat:25}},{name:"    ",ingredients:["  (150g)","  (150g)","  (100g)","  (100ml)","  (80g)"],nutrition:{calories:780,protein:50,carbs:85,fat:28}},{name:"    ",ingredients:["  (120g)","  (100g)","  (80g)","  (150ml)"],nutrition:{calories:580,protein:35,carbs:60,fat:22}},{name:"    ",ingredients:["  (60g)","  (25g)","  (20g)","  (150ml)"],nutrition:{calories:420,protein:10,carbs:55,fat:20}},{name:"    ",ingredients:["  (100g)","  (100g)","  (15ml)","  (120ml)"],nutrition:{calories:450,protein:30,carbs:45,fat:20}}]}:q.includes("")||q.includes("mediterranean")||q.includes("")?{title:"    (5 )",meals:[{name:"   ",ingredients:["  (80g)","  (20ml)","  (80g)"," (60g)"," (40g)","  (15g)","  (200ml)"],nutrition:{calories:450,protein:20,carbs:40,fat:25}},{name:"   ",ingredients:["  (150g)","  (120g)","  (150g)","  (15ml)","  (100g)"," (1 )"],nutrition:{calories:580,protein:45,carbs:60,fat:20}},{name:"   ",ingredients:["  (120g)","  (120g)","  (10ml)","  (150ml)","  (50g)","  (20g)"],nutrition:{calories:420,protein:35,carbs:30,fat:18}},{name:"   ",ingredients:["  (20g)","  (100g)","  (150ml)","  (10g)","  (100ml)"],nutrition:{calories:280,protein:12,carbs:35,fat:12}},{name:"   ",ingredients:["  (100g)","  (80g)","  (10ml)","  (60g)","  (60g)","  (150ml)"],nutrition:{calories:380,protein:30,carbs:25,fat:20}}]}:q.includes("")||q.includes("low_carb")||q.includes("low_carbohydrate")?{title:"     (5 )",meals:[{name:"   ",ingredients:["  (3 )","  (100g)","  (15ml)"," (50g)"," (40g)","  (200ml)"],nutrition:{calories:380,protein:30,carbs:15,fat:25}},{name:"   ",ingredients:["  (150g)","  (200g)","  (15ml)","  (120g)","  (60g)"],nutrition:{calories:520,protein:50,carbs:20,fat:30}},{name:"   ",ingredients:["  (120g)","  (150g)","  (10ml)","  (150ml)","  (50g)"],nutrition:{calories:350,protein:40,carbs:12,fat:18}},{name:"    ",ingredients:["  (25g)","  (50g)","  (20g)","  (100ml)"],nutrition:{calories:320,protein:15,carbs:8,fat:28}},{name:"    ",ingredients:["  (100g)","  (100g)","  (10ml)","  (60g)","  (100ml)"],nutrition:{calories:380,protein:35,carbs:10,fat:25}}]}:q.includes("")||q.includes("diabetic")||q.includes("diabetes")?{title:"     (5 )",meals:[{name:"   ",ingredients:["  (60g)","    (80g)"," (50g)"," (40g)","  (10ml)","  (200ml)"],nutrition:{calories:320,protein:18,carbs:30,fat:12}},{name:"   ",ingredients:["  (120g)","  (80g)","  (150g)","  (100g)","  (10ml)"],nutrition:{calories:480,protein:40,carbs:45,fat:15}},{name:"   ",ingredients:["  (100g)","  (120g)","  (150ml)","  (40g)","  (15g)"],nutrition:{calories:350,protein:30,carbs:25,fat:12}},{name:"    ",ingredients:["  (100g)","   (150ml)","  (10g)","  (100ml)"],nutrition:{calories:180,protein:8,carbs:25,fat:6}},{name:"    ",ingredients:["  (80g)","  (80g)","  (50g)","  (150ml)"],nutrition:{calories:280,protein:25,carbs:15,fat:15}}]}:{title:"    (5 )",meals:[{name:"   ",ingredients:["  (100g)","   (80g)","  (15ml)","  (50g)"," (30g)","  (200ml)"],nutrition:{calories:420,protein:18,carbs:45,fat:18}},{name:"   ",ingredients:["  (150g)","  (120g)","  (100g)","  (100ml)","  (80g)","  (50g)"],nutrition:{calories:680,protein:45,carbs:75,fat:22}},{name:"   ",ingredients:["  (200ml)","  (60g)","  (150ml)","  (60g)","  (20g)","  (3 )"],nutrition:{calories:380,protein:16,carbs:55,fat:12}},{name:"   ",ingredients:["  (40g)","  (15g)","  (150ml)","  (25g)","  (10g)"],nutrition:{calories:320,protein:8,carbs:42,fat:14}},{name:"   ",ingredients:["  (100g)","  (80g)","  (50g)","  (60g)","  (100ml)","  (150ml)"],nutrition:{calories:450,protein:28,carbs:35,fat:20}}]}},me=E=>{let q=0,$=0,J=0,se=0,P=0;console.log("Calculating nutrition for template:",E),E.meals&&E.meals.forEach(ce=>{console.log("Processing meal:",ce),ce.ingredients&&ce.ingredients.forEach(ve=>{console.log("Processing ingredient:",ve),q+=ve.calories||0,$+=ve.protein||0,J+=ve.carbs||0,se+=ve.fat||0,P+=ve.fiber||0})});const V={total_calories:Math.round(q),total_protein:Math.round($*10)/10,total_carbs:Math.round(J*10)/10,total_fat:Math.round(se*10)/10,total_fiber:Math.round(P*10)/10,target_calories:E.target_calories||2e3};console.log("Nutrition summary:",V),c(V)},Ee=E=>({:"","  ":"",:"","  ":"",:""})[E]||"",It=E=>E.includes("")||E.includes("breakfast")?5:E.includes("")||E.includes("lunch")?6:E.includes("")||E.includes("dinner")?7:8,$s=async()=>{if(!a||!h){alert("    ");return}o(!0);try{if(y){console.log("Updating existing meal plan:",y);const q=re((a==null?void 0:a.name_ar)||(a==null?void 0:a.name)).meals.map((J,se)=>({name:J.name,meal_type_id:It(J.name),day_of_week:1,description:J.name,instructions:"    ",prep_time:30,ingredients:J.ingredients.map(P=>{const V=P.match(/^(.+?)\s*\((\d+)(g|ml)\)$/);return V?{food_name:V[1],amount:parseInt(V[2]),unit:V[3]}:{food_name:P,amount:100,unit:"g"}})}));console.log("Saving selected meals:",q);const $=await te.post(`/api/meals/meal-plans/${y}/save-selected-meals/`,{selected_meals:q});if($.data){const J=R?"     !":`     : ${h.name}!`;alert(J),console.log("   :",$.data)}}else{const E=new Date().toISOString().split("T")[0],q=await te.post("/api/meals/meal-templates/create-plan/",{template_id:a.id,patient_id:h.id,start_date:E});if(q.data){const $=R?"     !":`     : ${h.name}!`;alert($),console.log("   :",q.data)}}try{mt()}catch(E){console.error("Error in resetSelections:",E)}}catch(E){console.error("    :",E),alert("     ")}finally{o(!1)}},mt=()=>{try{i(null),g(null),b(""),c(null),console.log("Selections reset successfully")}catch(E){console.error("Error resetting selections:",E)}},zs=(E,q)=>!q||q===0?"0%":`${Math.min(E/q*100,100)}%`,hs=(E,q)=>{if(!q||q===0)return{backgroundColor:"#e0e0e0"};const $=E/q*100;return $<50?{backgroundColor:"#ff6b6b"}:$<80?{backgroundColor:"#ffa726"}:$<=100?{backgroundColor:"#66bb6a"}:{backgroundColor:"#ef5350"}};return e.jsxs("div",{style:I.container,children:[e.jsxs("div",{style:I.header,children:[e.jsx("h1",{children:"   "}),e.jsx("p",{children:R?"       ":"         "}),y&&e.jsxs("div",{className:"alert alert-info",style:{marginTop:"20px"},children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),e.jsx("strong",{children:"  :"}),"       .       ."]})]}),!R&&e.jsxs("div",{style:I.card,children:[e.jsx("h3",{children:"  "}),l&&e.jsx("div",{style:I.loading,children:" ..."}),u.length===0&&!l&&e.jsx("div",{style:{padding:"15px",backgroundColor:"#f8d7da",borderRadius:"8px",border:"1px solid #f5c6cb",marginBottom:"20px"},children:e.jsxs("p",{children:[e.jsx("strong",{children:" :"}),"      "]})}),u.length>0&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"10px",fontWeight:"bold",color:"#333"},children:" :"}),e.jsxs("select",{value:(h==null?void 0:h.id)||"",onChange:E=>{const q=E.target.value;if(q){const $=u.find(J=>J.id===parseInt(q));if($)try{W($)}catch(J){console.error("Error selecting patient:",J)}}else g(null),b(null)},style:{width:"100%",padding:"12px",border:"2px solid #ddd",borderRadius:"8px",fontSize:"16px",backgroundColor:"#fff",cursor:"pointer"},children:[e.jsx("option",{value:"",children:"--   --"}),u.map(E=>e.jsxs("option",{value:E.id,children:[E.name," - ",E.email]},E.id))]})]}),h&&e.jsxs("div",{style:{padding:"15px",backgroundColor:"#e8f5e8",borderRadius:"8px",border:"1px solid #4caf50"},children:[e.jsxs("h4",{children:["  : ",h.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:" :"})," ",h.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:":"})," ",h.phone||" "]}),e.jsxs("p",{children:[e.jsx("strong",{children:" :"})," ",h.id]}),e.jsx("p",{children:"     "})]})]}),R&&h&&e.jsxs("div",{style:I.card,children:[e.jsx("h3",{children:"  "}),e.jsxs("div",{style:{padding:"15px",backgroundColor:"#d4edda",borderRadius:"8px",border:"1px solid #c3e6cb"},children:[e.jsxs("h4",{children:["  ",h.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:" :"})," ",h.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:":"})," ",h.phone||" "]}),e.jsx("p",{children:"      "})]})]}),h&&v&&e.jsxs("div",{style:I.card,children:[e.jsxs("h3",{children:["   : ",h.name]}),l&&e.jsx("div",{style:I.loading,children:"   ..."}),f.length===0&&!l?e.jsx("div",{style:{padding:"15px",backgroundColor:"#f8d7da",borderRadius:"8px",border:"1px solid #f5c6cb"},children:e.jsxs("p",{children:[e.jsx("strong",{children:"    :"}),"       "]})}):e.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:f.map(E=>e.jsxs("div",{style:{marginBottom:"15px",padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #dee2e6"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[e.jsxs("h4",{style:{margin:0,color:"#2c3e50"},children:[" ",E.title==="weight_loss"?" ":E.title==="weight_maintenance"?" ":E.title==="weight_gain"?" ":E.title==="health_maintenance"?"  ":E.title==="pregnant"?"":E.title==="breastfeeding"?"":E.title==="diabetic"?" ":E.title==="keto"?"":E.title==="balanced"?"":E.title==="low_carb"?" ":E.title==="muscle_gain"||E.title==="muscle_building"?" ":E.title==="high_protein"?" ":E.title]}),e.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",backgroundColor:E.is_active?"#d4edda":"#f8d7da",color:E.is_active?"#155724":"#721c24"},children:E.is_active?"":" "})]}),e.jsxs("div",{style:{marginBottom:"10px"},children:[e.jsxs("p",{style:{margin:"5px 0",color:"#6c757d"},children:[e.jsx("strong",{children:" :"})," ",new Date(E.start_date).toLocaleDateString("ar-SA",{calendar:"gregory"})]}),e.jsxs("p",{style:{margin:"5px 0",color:"#6c757d"},children:[e.jsx("strong",{children:" :"})," ",new Date(E.end_date).toLocaleDateString("ar-SA",{calendar:"gregory"})]}),e.jsxs("p",{style:{margin:"5px 0",color:"#6c757d"},children:[e.jsx("strong",{children:"  :"})," ",E.target_calories," /"]}),e.jsxs("p",{style:{margin:"5px 0",color:"#6c757d"},children:[e.jsx("strong",{children:" :"})," ",E.target_protein,"g"]}),e.jsxs("p",{style:{margin:"5px 0",color:"#6c757d"},children:[e.jsx("strong",{children:" :"})," ",E.target_carbs,"g"]}),e.jsxs("p",{style:{margin:"5px 0",color:"#6c757d"},children:[e.jsx("strong",{children:" :"})," ",E.target_fat,"g"]})]}),E.description&&e.jsxs("p",{style:{margin:"10px 0",color:"#495057",fontSize:"14px"},children:[e.jsx("strong",{children:" :"})," ",E.description]}),e.jsx("div",{style:{marginTop:"10px",paddingTop:"10px",borderTop:"1px solid #dee2e6"},children:e.jsxs("small",{style:{color:"#6c757d"},children:[e.jsx("strong",{children:"  :"})," ",new Date(E.created_at).toLocaleDateString("ar-SA",{calendar:"gregory"}),"  ",new Date(E.created_at).toLocaleTimeString("ar-SA")]})})]},E.id))})]}),e.jsxs("div",{style:I.card,children:[e.jsx("h3",{children:"   "}),!h&&!R&&e.jsx("div",{style:{padding:"15px",backgroundColor:"#fff3cd",borderRadius:"8px",border:"1px solid #ffeaa7",marginBottom:"20px"},children:e.jsxs("p",{children:[e.jsx("strong",{children:" :"}),"       "]})}),!h&&R&&e.jsx("div",{style:{padding:"15px",backgroundColor:"#fff3cd",borderRadius:"8px",border:"1px solid #ffeaa7",marginBottom:"20px"},children:e.jsxs("p",{children:[e.jsx("strong",{children:" :"}),"    ..."]})}),l&&e.jsx("div",{style:I.loading,children:" ..."}),e.jsx("div",{style:I.grid,children:s.map(E=>{const q=E.meals?E.meals.reduce(($,J)=>(J.ingredients&&J.ingredients.forEach(se=>{const V=(se.amount||0)/100;$.calories+=(se.calories||0)*V,$.protein+=(se.protein||0)*V,$.carbs+=(se.carbs||0)*V,$.fat+=(se.fat||0)*V,$.fiber+=(se.fiber||0)*V}),$),{calories:0,protein:0,carbs:0,fat:0,fiber:0}):{calories:0,protein:0,carbs:0,fat:0,fiber:0};return e.jsxs("div",{style:{...I.templateCard,...(a==null?void 0:a.id)===E.id?I.templateCardSelected:{},...h?{}:{opacity:.5,cursor:"not-allowed"}},onClick:()=>{if(h)try{ae(E)}catch($){console.error("Error selecting template:",$)}},children:[e.jsxs("h4",{children:[" ",E.name_ar||E.name]}),e.jsx("p",{style:{color:"#666",fontSize:"0.9em",marginBottom:"15px"},children:E.description}),e.jsxs("div",{style:{backgroundColor:"#f8f9fa",padding:"10px",borderRadius:"6px",marginBottom:"10px",border:"1px solid #e9ecef"},children:[e.jsx("h5",{style:{margin:"0 0 8px 0",color:"#2c3e50",fontSize:"0.9em"},children:"   :"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"5px",fontSize:"0.8em"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:" :"}),e.jsxs("span",{style:{fontWeight:"bold",color:"#e74c3c"},children:[Math.round(q.calories)," "]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:" :"}),e.jsxs("span",{style:{fontWeight:"bold",color:"#27ae60"},children:[Math.round(q.protein*10)/10,"g"]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:" :"}),e.jsxs("span",{style:{fontWeight:"bold",color:"#f39c12"},children:[Math.round(q.carbs*10)/10,"g"]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:" :"}),e.jsxs("span",{style:{fontWeight:"bold",color:"#8e44ad"},children:[Math.round(q.fat*10)/10,"g"]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gridColumn:"1 / -1"},children:[e.jsx("span",{children:" :"}),e.jsxs("span",{style:{fontWeight:"bold",color:"#16a085"},children:[Math.round(q.fiber*10)/10,"g"]})]})]})]}),e.jsxs("div",{style:{fontSize:"0.8em",color:"#666"},children:[e.jsxs("p",{style:{margin:"5px 0"},children:[e.jsx("strong",{children:"  :"})," ",E.target_calories,"  "]}),e.jsxs("p",{style:{margin:"5px 0"},children:[e.jsx("strong",{children:"  :"})," ",E.meals?E.meals.length:0," "]}),E.meals&&e.jsxs("p",{style:{margin:"5px 0"},children:[e.jsx("strong",{children:"  :"})," ",E.meals.map($=>$.meal_type).join(" ")]})]}),e.jsx("div",{style:{marginTop:"10px",padding:"8px",backgroundColor:(a==null?void 0:a.id)===E.id?"#28a745":"#007bff",color:"white",borderRadius:"4px",textAlign:"center",fontSize:"0.9em",fontWeight:"bold"},children:(a==null?void 0:a.id)===E.id?" ":"  "})]},E.id)})})]}),a&&e.jsxs("div",{style:I.card,children:[e.jsxs("h3",{children:[" : ",a.name_ar||a.name]}),e.jsx("div",{style:I.mealSchedule,children:a.meals&&a.meals.map((E,q)=>e.jsxs("div",{style:I.mealCard,children:[e.jsxs("div",{style:I.mealTitle,children:[Ee(E.meal_type)," ",E.meal_type]}),e.jsx("div",{children:e.jsx("strong",{children:E.name})}),e.jsx("div",{style:{marginTop:"10px"},children:E.ingredients&&E.ingredients.map(($,J)=>e.jsxs("div",{style:I.foodItem,children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("span",{style:{fontWeight:"bold"},children:$.food_name}),e.jsxs("span",{style:{fontSize:"0.9em",color:"#666"},children:[$.amount," "]})]}),e.jsxs("div",{style:{fontSize:"0.8em",color:"#555",marginTop:"5px"},children:[e.jsxs("span",{style:{marginRight:"10px"},children:[" ",Math.round($.calories||0)," "]}),e.jsxs("span",{style:{marginRight:"10px"},children:[" ",Math.round(($.protein||0)*10)/10," "]}),e.jsxs("span",{style:{marginRight:"10px"},children:[" ",Math.round(($.carbs||0)*10)/10," "]}),e.jsxs("span",{style:{marginRight:"10px"},children:[" ",Math.round(($.fat||0)*10)/10," "]}),e.jsxs("span",{children:[" ",Math.round(($.fiber||0)*10)/10," "]})]})]},J))})]},q))}),e.jsxs("div",{style:I.card,children:[e.jsx("h3",{children:"    "}),e.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"          "}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#333"},children:"  :"}),e.jsx("input",{type:"date",value:k,onChange:E=>O(E.target.value),style:{width:"100%",padding:"10px",border:"2px solid #ddd",borderRadius:"6px",fontSize:"16px"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold",color:"#333"},children:"  :"}),e.jsx("input",{type:"date",value:M,onChange:E=>B(E.target.value),style:{width:"100%",padding:"10px",border:"2px solid #ddd",borderRadius:"6px",fontSize:"16px"}})]})]}),k&&M&&e.jsx("div",{style:{marginBottom:"15px",padding:"10px",backgroundColor:"#e8f5e8",borderRadius:"6px",border:"1px solid #4caf50"},children:e.jsxs("p",{style:{margin:0,color:"#2e7d32"},children:[e.jsx("strong",{children:"  :"})," ",Y(k,M)," ",e.jsx("br",{}),e.jsx("strong",{children:":"})," ",new Date(k).toLocaleDateString("ar-SA",{calendar:"gregory"}),e.jsx("br",{}),e.jsx("strong",{children:":"})," ",new Date(M).toLocaleDateString("ar-SA",{calendar:"gregory"})]})}),e.jsx("button",{onClick:K,style:{...I.button,backgroundColor:"#28a745",width:"100%",padding:"15px",fontSize:"18px",fontWeight:"bold"},children:"     "})]}),G&&F&&e.jsxs("div",{style:I.card,children:[e.jsx("h2",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"#2c3e50",marginBottom:"20px"},children:"     "}),e.jsxs("p",{style:{color:"#666",marginBottom:"20px"},children:["     ",(a==null?void 0:a.name_ar)||(a==null?void 0:a.name)," ",new Date(k).toLocaleDateString("ar-SA",{calendar:"gregory"})," ",new Date(M).toLocaleDateString("ar-SA",{calendar:"gregory"})]}),e.jsx("div",{style:{maxHeight:"600px",overflowY:"auto"},children:F.map((E,q)=>e.jsxs("div",{style:{marginBottom:"20px",padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"1px solid #dee2e6"},children:[e.jsxs("h4",{style:{color:"#2c3e50",marginBottom:"15px",textAlign:"center",backgroundColor:"#e9ecef",padding:"10px",borderRadius:"6px"},children:["  ",E.day," - ",E.dateString||E.date.toLocaleDateString("ar-SA",{calendar:"gregory",weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),E.template&&e.jsxs("div",{style:{marginBottom:"15px",padding:"8px",backgroundColor:"#d4edda",borderRadius:"6px",border:"1px solid #4caf50",textAlign:"center"},children:[e.jsxs("strong",{style:{color:"#2e7d32"},children:["  : ",E.template.name_ar||E.template.name]}),E.template.description&&e.jsx("div",{style:{fontSize:"0.9em",color:"#2e7d32",marginTop:"5px"},children:E.template.description})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"10px"},children:E.meals.map(($,J)=>e.jsxs("div",{style:{backgroundColor:"white",padding:"12px",borderRadius:"6px",border:"1px solid #ddd"},children:[e.jsx("h5",{style:{color:"#d84315",marginBottom:"8px",fontSize:"0.9em"},children:$.name}),e.jsxs("div",{style:{marginBottom:"8px"},children:[e.jsx("strong",{style:{fontSize:"0.8em"},children:":"}),e.jsx("ul",{style:{margin:"5px 0",paddingRight:"15px",fontSize:"0.8em"},children:$.ingredients&&$.ingredients.map((se,P)=>e.jsxs("li",{children:[se.food_name_ar||se.food_name," - ",se.amount,"g"]},P))})]}),e.jsx("div",{style:{fontSize:"0.8em",color:"#666"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs("span",{children:[" ",Math.round($.ingredients?$.ingredients.reduce((se,P)=>se+(P.calories||0),0):0)," "]}),e.jsxs("span",{children:[" ",Math.round(($.ingredients?$.ingredients.reduce((se,P)=>se+(P.protein||0),0):0)*10)/10,"g"]}),e.jsxs("span",{children:[" ",Math.round(($.ingredients?$.ingredients.reduce((se,P)=>se+(P.carbs||0),0):0)*10)/10,"g"]}),e.jsxs("span",{children:[" ",Math.round(($.ingredients?$.ingredients.reduce((se,P)=>se+(P.fat||0),0):0)*10)/10,"g"]})]})})]},J))}),e.jsxs("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"#e8f5e8",borderRadius:"6px",border:"1px solid #4caf50"},children:[e.jsxs("h6",{style:{margin:"0 0 5px 0",color:"#2e7d32"},children:["   ",E.day,":"]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-around",fontSize:"0.9em",color:"#2e7d32"},children:[e.jsxs("span",{children:[" ",Math.round(E.meals.reduce(($,J)=>$+(J.ingredients?J.ingredients.reduce((se,P)=>se+(P.calories||0),0):0),0))," "]}),e.jsxs("span",{children:[" ",Math.round(E.meals.reduce(($,J)=>$+(J.ingredients?J.ingredients.reduce((se,P)=>se+(P.protein||0),0):0),0)*10)/10,"g "]}),e.jsxs("span",{children:[" ",Math.round(E.meals.reduce(($,J)=>$+(J.ingredients?J.ingredients.reduce((se,P)=>se+(P.carbs||0),0):0),0)*10)/10,"g "]}),e.jsxs("span",{children:[" ",Math.round(E.meals.reduce(($,J)=>$+(J.ingredients?J.ingredients.reduce((se,P)=>se+(P.fat||0),0):0),0)*10)/10,"g "]})]})]})]},q))}),e.jsxs("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#fff3cd",borderRadius:"8px",border:"1px solid #ffc107"},children:[e.jsx("h5",{style:{color:"#856404",marginBottom:"10px"},children:"   :"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"10px",fontSize:"0.9em",color:"#856404"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"  :"})," ",F.length," "]}),e.jsxs("div",{children:[e.jsx("strong",{children:"  :"})," ",Math.round(F.reduce((E,q)=>E+q.meals.reduce(($,J)=>$+(J.ingredients?J.ingredients.reduce((se,P)=>se+(P.calories||0),0):0),0),0)/F.length)," /"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"  :"})," ",Math.round(F.reduce((E,q)=>E+q.meals.reduce(($,J)=>$+(J.ingredients?J.ingredients.reduce((se,P)=>se+(P.protein||0),0):0),0),0)/F.length*10)/10,"g/"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"  :"})," ",Math.round(F.reduce((E,q)=>E+q.meals.reduce(($,J)=>$+(J.ingredients?J.ingredients.reduce((se,P)=>se+(P.carbs||0),0):0),0),0)/F.length*10)/10,"g/"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"  :"})," ",Math.round(F.reduce((E,q)=>E+q.meals.reduce(($,J)=>$+(J.ingredients?J.ingredients.reduce((se,P)=>se+(P.fat||0),0):0),0),0)/F.length*10)/10,"g/"]})]})]})]}),(()=>{const E=re((a==null?void 0:a.name_ar)||(a==null?void 0:a.name)),q=E.meals.reduce(($,J)=>({calories:$.calories+J.nutrition.calories,protein:$.protein+J.nutrition.protein,carbs:$.carbs+J.nutrition.carbs,fat:$.fat+J.nutrition.fat}),{calories:0,protein:0,carbs:0,fat:0});return e.jsxs("div",{style:{marginTop:"30px",padding:"20px",backgroundColor:"#fff8e1",borderRadius:"10px",border:"2px solid #ffb74d"},children:[e.jsx("h3",{style:{color:"#e65100",marginBottom:"20px",textAlign:"center"},children:E.title}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"15px"},children:E.meals.map(($,J)=>e.jsxs("div",{style:{backgroundColor:"white",padding:"15px",borderRadius:"8px",border:"1px solid #ddd"},children:[e.jsx("h4",{style:{color:"#d84315",marginBottom:"10px"},children:$.name}),e.jsxs("div",{style:{marginBottom:"10px"},children:[e.jsx("strong",{children:":"}),e.jsx("ul",{style:{margin:"5px 0",paddingRight:"20px"},children:$.ingredients.map((se,P)=>e.jsx("li",{children:se},P))})]}),e.jsx("div",{style:{fontSize:"0.9em",color:"#666"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsxs("span",{children:[" : ",$.nutrition.calories]}),e.jsxs("span",{children:[" : ",$.nutrition.protein,"g"]}),e.jsxs("span",{children:[" : ",$.nutrition.carbs,"g"]}),e.jsxs("span",{children:[" : ",$.nutrition.fat,"g"]})]})})]},J))}),e.jsxs("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#e8f5e8",borderRadius:"8px",border:"1px solid #4caf50"},children:[e.jsx("h4",{style:{color:"#2e7d32",marginBottom:"10px"},children:"     :"}),e.jsx("div",{style:{marginBottom:"15px",padding:"10px",backgroundColor:"#f0f8f0",borderRadius:"6px",border:"1px solid #4caf50"},children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px",fontSize:"0.9em"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:" :"})," ",(h==null?void 0:h.name)||" "]}),e.jsxs("div",{children:[e.jsx("strong",{children:"  :"})," ",(a==null?void 0:a.name_ar)||(a==null?void 0:a.name)||" "]}),e.jsxs("div",{children:[e.jsx("strong",{children:"  :"})," ",(a==null?void 0:a.target_calories)||" "," /"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"  :"})," ",(h==null?void 0:h.activity_level)||""]})]})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"10px",fontSize:"0.9em"},children:[e.jsxs("div",{style:{textAlign:"center",padding:"10px",backgroundColor:"white",borderRadius:"6px"},children:[e.jsx("div",{style:{fontWeight:"bold",color:"#e74c3c",fontSize:"1.2em"},children:(a==null?void 0:a.target_calories)||q.calories}),e.jsx("div",{children:"  "}),e.jsxs("div",{style:{fontSize:"0.8em",color:"#666",marginTop:"5px"},children:["(: ",q.calories,")"]})]}),e.jsxs("div",{style:{textAlign:"center",padding:"10px",backgroundColor:"white",borderRadius:"6px"},children:[e.jsxs("div",{style:{fontWeight:"bold",color:"#27ae60",fontSize:"1.2em"},children:[Math.round(((a==null?void 0:a.target_calories)||2e3)*.25/4),"g"]}),e.jsx("div",{children:"  "}),e.jsxs("div",{style:{fontSize:"0.8em",color:"#666",marginTop:"5px"},children:["(: ",q.protein,"g)"]})]}),e.jsxs("div",{style:{textAlign:"center",padding:"10px",backgroundColor:"white",borderRadius:"6px"},children:[e.jsxs("div",{style:{fontWeight:"bold",color:"#f39c12",fontSize:"1.2em"},children:[Math.round(((a==null?void 0:a.target_calories)||2e3)*.45/4),"g"]}),e.jsx("div",{children:"  "}),e.jsxs("div",{style:{fontSize:"0.8em",color:"#666",marginTop:"5px"},children:["(: ",q.carbs,"g)"]})]}),e.jsxs("div",{style:{textAlign:"center",padding:"10px",backgroundColor:"white",borderRadius:"6px"},children:[e.jsxs("div",{style:{fontWeight:"bold",color:"#8e44ad",fontSize:"1.2em"},children:[Math.round(((a==null?void 0:a.target_calories)||2e3)*.3/9),"g"]}),e.jsx("div",{children:"  "}),e.jsxs("div",{style:{fontSize:"0.8em",color:"#666",marginTop:"5px"},children:["(: ",q.fat,"g)"]})]})]}),e.jsxs("div",{style:{marginTop:"15px",padding:"10px",backgroundColor:"#fff3cd",borderRadius:"6px",border:"1px solid #ffc107"},children:[e.jsx("h5",{style:{color:"#856404",marginBottom:"8px"},children:"     :"}),e.jsxs("div",{style:{fontSize:"0.9em",color:"#856404"},children:[e.jsxs("div",{style:{marginBottom:"5px"},children:[e.jsx("strong",{children:" :"}),q.calories>=((a==null?void 0:a.target_calories)||2e3)*.9?"    ":"    ","(",Math.round(q.calories/((a==null?void 0:a.target_calories)||2e3)*100),"%  )"]}),e.jsxs("div",{style:{marginBottom:"5px"},children:[e.jsx("strong",{children:":"}),q.protein>=Math.round(((a==null?void 0:a.target_calories)||2e3)*.25/4)*.9?"  ":"   ","(",Math.round(q.protein/Math.round(((a==null?void 0:a.target_calories)||2e3)*.25/4)*100),"%  )"]}),e.jsxs("div",{children:[e.jsx("strong",{children:" :"}),Math.abs(q.calories-((a==null?void 0:a.target_calories)||2e3))<=200?"  ":"   "]})]})]})]})]})})(),a&&(()=>{const q=re((a==null?void 0:a.name_ar)||(a==null?void 0:a.name)).meals.reduce((J,se)=>({calories:J.calories+se.nutrition.calories,protein:J.protein+se.nutrition.protein,carbs:J.carbs+se.nutrition.carbs,fat:J.fat+se.nutrition.fat,fiber:J.fiber+(se.nutrition.fiber||0)}),{calories:0,protein:0,carbs:0,fat:0,fiber:0}),$=d&&d.total_calories>0?d:{total_calories:q.calories,total_protein:q.protein,total_carbs:q.carbs,total_fat:q.fat,total_fiber:q.fiber,target_calories:(a==null?void 0:a.target_calories)||2e3};return e.jsxs("div",{children:[e.jsx("h4",{children:"   "}),e.jsxs("div",{style:I.nutritionGrid,children:[e.jsxs("div",{style:I.nutritionCard,children:[e.jsx("div",{style:I.nutritionValue,children:$.total_calories}),e.jsx("div",{style:I.nutritionLabel,children:" "})]}),e.jsxs("div",{style:I.nutritionCard,children:[e.jsxs("div",{style:I.nutritionValue,children:[$.total_protein,""]}),e.jsx("div",{style:I.nutritionLabel,children:""})]}),e.jsxs("div",{style:I.nutritionCard,children:[e.jsxs("div",{style:I.nutritionValue,children:[$.total_carbs,""]}),e.jsx("div",{style:I.nutritionLabel,children:""})]}),e.jsxs("div",{style:I.nutritionCard,children:[e.jsxs("div",{style:I.nutritionValue,children:[$.total_fat,""]}),e.jsx("div",{style:I.nutritionLabel,children:""})]}),e.jsxs("div",{style:I.nutritionCard,children:[e.jsxs("div",{style:I.nutritionValue,children:[$.total_fiber,""]}),e.jsx("div",{style:I.nutritionLabel,children:""})]})]}),e.jsxs("div",{style:I.summary,children:[e.jsx("h4",{children:"   :"}),e.jsxs("p",{children:[e.jsx("strong",{children:" :"})," ",$.total_calories,"   ",$.target_calories,"  "]}),e.jsxs("p",{children:[e.jsx("strong",{children:" :"})," ",Math.round($.total_calories/$.target_calories*100),"%"]}),e.jsxs("p",{children:[e.jsx("strong",{children:" :"})," ",$.total_calories>0?Math.round($.total_protein*4/$.total_calories*100):0,"% |  ",$.total_calories>0?Math.round($.total_carbs*4/$.total_calories*100):0,"% |  ",$.total_calories>0?Math.round($.total_fat*9/$.total_calories*100):0,"%"]})]}),e.jsxs("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"#f8f9fa",borderRadius:"8px"},children:[e.jsx("h5",{children:"   :"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px",marginTop:"10px"},children:[e.jsxs("div",{style:I.nutritionDetail,children:[e.jsx("strong",{children:" :"})," ",$.total_calories," ",e.jsx("div",{style:I.progressContainer,children:e.jsx("div",{style:{...I.progressBar,width:zs($.total_calories,$.target_calories),backgroundColor:hs($.total_calories,$.target_calories).backgroundColor},children:zs($.total_calories,$.target_calories)})})]}),e.jsxs("div",{style:I.nutritionDetail,children:[e.jsx("strong",{children:":"})," ",$.total_protein," ",e.jsxs("div",{style:{fontSize:"0.9em",color:"#666"},children:["(",$.total_calories>0?($.total_protein*4/$.total_calories*100).toFixed(1):0,"%  )"]})]}),e.jsxs("div",{style:I.nutritionDetail,children:[e.jsx("strong",{children:":"})," ",$.total_carbs," ",e.jsxs("div",{style:{fontSize:"0.9em",color:"#666"},children:["(",$.total_calories>0?($.total_carbs*4/$.total_calories*100).toFixed(1):0,"%  )"]})]}),e.jsxs("div",{style:I.nutritionDetail,children:[e.jsx("strong",{children:":"})," ",$.total_fat," ",e.jsxs("div",{style:{fontSize:"0.9em",color:"#666"},children:["(",$.total_calories>0?($.total_fat*9/$.total_calories*100).toFixed(1):0,"%  )"]})]}),e.jsxs("div",{style:I.nutritionDetail,children:[e.jsx("strong",{children:":"})," ",$.total_fiber," ",e.jsx("div",{style:{fontSize:"0.9em",color:"#666"},children:"( )"})]})]})]})]})})(),e.jsxs("div",{style:{marginTop:"20px",textAlign:"center"},children:[e.jsx("button",{style:I.button,onClick:$s,disabled:l||!h,children:l?" ...":"  "}),e.jsx("button",{style:I.buttonSecondary,onClick:()=>{try{mt()}catch(E){console.error("Error in resetSelections button:",E)}},children:" "})]})]})]})};function fb(){const{user:t,loading:s}=Qe(),{language:n,direction:a}=$e();return ue.useEffect(()=>{document.documentElement.lang=n,document.documentElement.dir=a,document.body.className=a==="rtl"?"rtl":"ltr"},[n,a]),s?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx(je,{size:"lg"})}):t?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(H0,{}),e.jsxs("div",{className:"d-flex",children:[e.jsx(V0,{}),e.jsx("main",{className:"flex-grow-1 p-4",children:e.jsx("div",{className:"container-fluid",children:e.jsxs(tu,{children:[e.jsx(we,{path:"/dashboard",element:e.jsx(Ue,{allowedRoles:["patient"],children:e.jsx(J0,{})})}),e.jsx(we,{path:"/profile",element:e.jsx(Ue,{allowedRoles:["patient"],children:e.jsx(X0,{})})}),e.jsx(we,{path:"/meal-plans",element:e.jsx(Ue,{allowedRoles:["patient"],children:e.jsx(Z0,{})})}),e.jsx(we,{path:"/appointments",element:e.jsx(Ue,{allowedRoles:["patient"],children:e.jsx(eb,{})})}),e.jsx(we,{path:"/payments",element:e.jsx(Ue,{allowedRoles:["patient"],children:e.jsx(tb,{})})}),e.jsx(we,{path:"/doctor/dashboard",element:e.jsx(Ue,{allowedRoles:["doctor"],children:e.jsx(sb,{})})}),e.jsx(we,{path:"/doctor/profile",element:e.jsx(Ue,{allowedRoles:["doctor"],children:e.jsx(nb,{})})}),e.jsx(we,{path:"/doctor/patients",element:e.jsx(Ue,{allowedRoles:["doctor"],children:e.jsx(ab,{})})}),e.jsx(we,{path:"/doctor/patient/:patientId",element:e.jsx(Ue,{allowedRoles:["doctor"],children:e.jsx(ob,{})})}),e.jsx(we,{path:"/doctor/meal-plans",element:e.jsx(Ue,{allowedRoles:["doctor"],children:e.jsx(cb,{})})}),e.jsx(we,{path:"/iraqi-nutrition/meal-planner",element:e.jsx(Ue,{allowedRoles:["patient","doctor","admin"],children:e.jsx(hb,{})})}),e.jsx(we,{path:"/admin/dashboard",element:e.jsx(Ue,{allowedRoles:["admin"],children:e.jsx(Eu,{})})}),e.jsx(we,{path:"/admin/users",element:e.jsx(Ue,{allowedRoles:["admin"],children:e.jsx(db,{})})}),e.jsx(we,{path:"/admin/doctors",element:e.jsx(Ue,{allowedRoles:["admin"],children:e.jsx(ub,{})})}),e.jsx(we,{path:"/admin/payments",element:e.jsx(Ue,{allowedRoles:["admin"],children:e.jsx(Pu,{})})}),e.jsx(we,{path:"/admin/reports",element:e.jsx(Ue,{allowedRoles:["admin"],children:e.jsx(Ru,{})})}),e.jsx(we,{path:"/admin/settings",element:e.jsx(Ue,{allowedRoles:["admin"],children:e.jsx(mb,{})})}),e.jsx(we,{path:"/accountant/dashboard",element:e.jsx(Ue,{allowedRoles:["accountant"],children:e.jsx(Eu,{})})}),e.jsx(we,{path:"/accountant/payments",element:e.jsx(Ue,{allowedRoles:["accountant"],children:e.jsx(Pu,{})})}),e.jsx(we,{path:"/accountant/reports",element:e.jsx(Ue,{allowedRoles:["accountant"],children:e.jsx(Ru,{})})}),e.jsx(we,{path:"/",element:t.role==="doctor"?e.jsx(Nt,{to:"/doctor/dashboard",replace:!0}):t.role==="admin"?e.jsx(Nt,{to:"/admin/dashboard",replace:!0}):t.role==="accountant"?e.jsx(Nt,{to:"/accountant/dashboard",replace:!0}):e.jsx(Nt,{to:"/dashboard",replace:!0})}),e.jsx(we,{path:"*",element:t.role==="doctor"?e.jsx(Nt,{to:"/doctor/dashboard",replace:!0}):t.role==="admin"?e.jsx(Nt,{to:"/admin/dashboard",replace:!0}):t.role==="accountant"?e.jsx(Nt,{to:"/accountant/dashboard",replace:!0}):e.jsx(Nt,{to:"/dashboard",replace:!0})})]})})})]}),e.jsx(gi,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:a==="rtl",pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]}):e.jsxs("div",{className:"min-h-screen",children:[e.jsxs(tu,{children:[e.jsx(we,{path:"/login",element:e.jsx(K0,{})}),e.jsx(we,{path:"/register",element:e.jsx(G0,{})}),e.jsx(we,{path:"*",element:e.jsx(Nt,{to:"/login"})})]}),e.jsx(gi,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:a==="rtl",pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})}const pb=new Wv({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});El.createRoot(document.getElementById("root")).render(e.jsx(ue.StrictMode,{children:e.jsx(Jv,{client:pb,children:e.jsx(bv,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsx(W0,{children:e.jsx(Q0,{children:e.jsx(fb,{})})})})})}));
